<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å²æŸ“</title>
  <icon>https://www.gravatar.com/avatar/7228219e90ece9b38ea5921da1fcc500</icon>
  <subtitle>åˆ«æ¥æ— æ™ï¼Œä½ åœ¨å¿ƒä¸Š</subtitle>
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2023-07-13T00:57:10.083Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>Kagura</name>
    <email>651421775@qq.com</email>
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>ã€æ•°æ®åˆ†æå®è·µã€‘æ£®æ—è¦†ç›–ç±»å‹é¢„æµ‹</title>
    <link href="http://example.com/2023/07/13/%E3%80%90%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%B7%B5%E3%80%91%E6%A3%AE%E6%9E%97%E8%A6%86%E7%9B%96%E7%B1%BB%E5%9E%8B%E9%A2%84%E6%B5%8B/"/>
    <id>http://example.com/2023/07/13/%E3%80%90%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%B7%B5%E3%80%91%E6%A3%AE%E6%9E%97%E8%A6%86%E7%9B%96%E7%B1%BB%E5%9E%8B%E9%A2%84%E6%B5%8B/</id>
    <published>2023-07-13T00:56:04.243Z</published>
    <updated>2023-07-13T00:57:10.083Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Kaggle-ç«èµ›-Forest-Cover-Type-Prediction-æ£®æ—è¦†ç›–ç±»å‹é¢„æµ‹">Kaggle ç«èµ› Forest Cover Type Prediction æ£®æ—è¦†ç›–ç±»å‹é¢„æµ‹</h2><p><img src="https://raw.githubusercontent.com/Chen-XiaoLv/ML-in-Geochemistry/master/READEME/image-20230701114337359.png" alt="image-20230701114337359"></p><hr><h3 id="Description">Description</h3><p>åœ¨è¿™ä¸ªæ¯”èµ›ä¸­ï¼Œä½ è¢«è¦æ±‚ä»ä¸¥æ ¼çš„åœ°å›¾å˜é‡ï¼ˆç›¸å¯¹äºé¥æ„Ÿæ•°æ®ï¼‰ä¸­é¢„æµ‹æ£®æ—è¦†ç›–ç±»å‹ï¼ˆä¸»è¦çš„æ ‘æœ¨è¦†ç›–ç§ç±»ï¼‰ã€‚ä¸€ä¸ªç»™å®šçš„30Ã—30ç±³å•å…ƒçš„å®é™…æ£®æ—è¦†ç›–ç±»å‹æ˜¯ç”±ç¾å›½æ£®æ—æœåŠ¡å±€ï¼ˆUSFSï¼‰ç¬¬äºŒåŒºåŸŸèµ„æºä¿¡æ¯ç³»ç»Ÿæ•°æ®ç¡®å®šçš„ã€‚ç„¶åä»ç¾å›½åœ°è´¨è°ƒæŸ¥å±€å’Œç¾å›½æ—ä¸šå±€è·å¾—çš„æ•°æ®ä¸­å¾—å‡ºç‹¬ç«‹å˜é‡ã€‚æ•°æ®ä¸ºåŸå§‹å½¢å¼ï¼ˆæœªæŒ‰æ¯”ä¾‹ï¼‰ï¼ŒåŒ…å«å®šæ€§è‡ªå˜é‡çš„äºŒè¿›åˆ¶åˆ—æ•°æ®ï¼Œå¦‚è’é‡åœ°åŒºå’ŒåœŸå£¤ç±»å‹ã€‚</p><p>æœ¬ç ”ç©¶åŒºåŒ…æ‹¬ä½äºç§‘ç½—æ‹‰å¤šå·åŒ—éƒ¨ç½—æ–¯ç¦å›½å®¶æ£®æ—çš„å››ä¸ªè’é‡åœ°åŒºã€‚è¿™äº›åœ°åŒºä»£è¡¨äº†äººä¸ºå¹²æ‰°æœ€å°çš„æ£®æ—ï¼Œå› æ­¤ï¼Œç°æœ‰çš„æ£®æ—è¦†ç›–ç±»å‹æ›´å¤šçš„æ˜¯ç”Ÿæ€è¿‡ç¨‹çš„ç»“æœï¼Œè€Œä¸æ˜¯æ£®æ—ç®¡ç†å®è·µã€‚</p><h3 id="Requirement">Requirement</h3><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">numpy==1.23.3</span><br><span class="line">pandas==1.4.4</span><br><span class="line">pyecharts=2.0.1</span><br><span class="line">sklearn==1.1.3</span><br><span class="line">seaborn==0.11.2</span><br><span class="line">torch==1.12.0+cu116</span><br><span class="line">xgboost==1.7.1</span><br><span class="line">lightgbm==3.3.3</span><br></pre></td></tr></table></figure><hr><p>é¡¹ç›®çš„æµç¨‹å›¾å¦‚ä¸‹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">    id1(é—®é¢˜å»ºæ¨¡)--&gt;id2(æ•°æ®æ¢ç´¢)</span><br><span class="line">    id2--&gt;id3(ç‰¹å¾å·¥ç¨‹)</span><br><span class="line">    id3--&gt;id4(æ¨¡å‹è®­ç»ƒ)</span><br><span class="line">    id4--&gt;id5(æ¨¡å‹èåˆ)</span><br><span class="line">        </span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å°†ä»è¿™äº”ä¸ªéƒ¨åˆ†ä»‹ç»æœ¬èµ›é¢˜ã€‚</p><hr><h2 id="ä¸€-èµ›é¢˜ç†è§£">ä¸€ èµ›é¢˜ç†è§£</h2><h3 id="1-èƒŒæ™¯">1 èƒŒæ™¯</h3><p>æœ¬æ¬¡ç«èµ›ä½¿ç”¨äº†ç¾å›½æ£®æ—æœåŠ¡å±€(US Forest Service)æä¾›çš„30x30måˆ†è¾¨ç‡çš„æ£®æ—è¦†ç›–ç±»å‹åŒºåŸŸï¼ŒåŒ…æ‹¬ä¸€ä¸ªè®­ç»ƒé›†å’Œä¸€ä¸ªæµ‹è¯•é›†ã€‚è¦æ±‚é‡‡ç”¨è®­ç»ƒé›†çš„æ•°æ®å¯¹æµ‹è¯•é›†çš„æ£®æ—è¦†ç›–ç±»å‹è¿›è¡Œé¢„æµ‹ã€‚</p><h3 id="2-æ•°æ®">2 æ•°æ®</h3><p>è¯¥æ•°æ®é›†ä¸€å…±æœ‰åä¸‰ä¸ªå±æ€§ï¼ŒåŒ…æ‹¬é«˜ç¨‹ã€å¡åº¦ã€å¡å‘ã€åˆ°æ°´æ–‡åœ°ç‰©çš„å‚ç›´è·ç¦»ã€æ°´å¹³è·ç¦»ã€åˆ°é“è·¯çš„æ°´å¹³è·ç¦»ç­‰ï¼Œä¸»è¦åŒ…æ‹¬æ•´å½¢çš„å®šé‡æ•°æ®å’Œone-hotç¼–ç è¿‡çš„å®šåæ•°æ®</p><h3 id="3-è¯„ä»·æŒ‡æ ‡">3 è¯„ä»·æŒ‡æ ‡</h3><p>èµ›é¢˜ä¸­å¹¶æœªç»™å‡ºï¼Œç”±äºæ¨¡å‹æ˜¯ä¸€ä¸ªå¤šåˆ†ç±»é—®é¢˜ï¼Œæˆ‘ä»¬é€‰æ‹©é‡‡ç”¨å¤šåˆ†ç±»äº¤å‰ç†µå’ŒR2ç³»æ•°æ¥è¿›è¡Œè¯„ä»·ã€‚</p><p>äº¤å‰ç†µ</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>L</mi><mi>o</mi><mi>s</mi><mi>s</mi><mo>=</mo><mo>âˆ’</mo><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mrow><mi>c</mi><mo>âˆ’</mo><mn>1</mn></mrow></munderover><msub><mi>y</mi><mi>i</mi></msub><mi>log</mi><mo>â¡</mo><mo stretchy="false">(</mo><msub><mi>p</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Loss=-\sum^{c-1}_{i=0}y_i\log (p_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span><span class="mord mathnormal">oss</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.0788em;vertical-align:-1.2777em;"></span><span class="mord">âˆ’</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8011em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><p>R2ç³»æ•°</p><p>R2ç³»æ•°åˆç§°å†³å®šç³»æ•°ï¼Œåæ˜ å› å˜é‡çš„å…¨éƒ¨å˜å¼‚èƒ½é€šè¿‡å›å½’å…³ç³»è¢«è‡ªå˜é‡è§£é‡Šçš„æ¯”ä¾‹</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msup><mi>R</mi><mn>2</mn></msup><mo>=</mo><mn>1</mn><mo>âˆ’</mo><mfrac><mrow><mi>M</mi><mi>S</mi><mi>E</mi></mrow><mrow><mi>V</mi><mi>A</mi><mi>R</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">R^2=1-\frac{MSE}{VAR}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8641em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0463em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">MSE</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mi>S</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">MSE</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">MSE</span></span></span></span>è¡¨ç¤ºå‡æ–¹è¯¯å·®ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><mi>A</mi><mi>R</mi></mrow><annotation encoding="application/x-tex">VAR</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">V</span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span></span></span></span>è¡¨ç¤ºæ–¹å·®ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå‡æ–¹è¯¯å·®ä»£è¡¨ä¸çœŸå®å€¼çš„åå·®ï¼Œè€Œæ–¹å·®åˆ™æ˜¯ä¸å¹³å‡å€¼çš„åå·®ã€‚</p><p>æœ¬é¡¹ç›®çš„ä¸»è¦æµç¨‹å¦‚ä¸‹ï¼š</p><p><img src="https://raw.githubusercontent.com/Chen-XiaoLv/ML-in-Geochemistry/7f3240dd46093a5db3cd81fb7026384e9a27b6ac/READEME/%E6%9C%AA%E5%91%BD%E5%90%8D%E7%BB%98%E5%9B%BE.drawio.svg" alt="æœªå‘½åç»˜å›¾.drawio"></p><hr><h2 id="äºŒ-æ•°æ®æ¢ç´¢æ€§åˆ†æ">äºŒ æ•°æ®æ¢ç´¢æ€§åˆ†æ</h2><p>åœ¨æœ¬é˜¶æ®µï¼Œä¸»è¦å·¥ä½œæ˜¯å¯¹æ•°æ®æœ‰ä¸€ä¸ªç®€å•çš„è®¤è¯†ï¼Œä»¥åŠå¯¹æ•°æ®è¿›è¡Œä¸€å®šçš„é¢„å¤„ç†ã€‚</p><h3 id="1-å‰æœŸå‡†å¤‡ä¸æ•°æ®è¯»å–">1 å‰æœŸå‡†å¤‡ä¸æ•°æ®è¯»å–</h3><h4 id="1-1-æ¨¡å—å¯¼å…¥">1.1 æ¨¡å—å¯¼å…¥</h4><p>æœ¬æ¬¡ä½¿ç”¨çš„æ¨¡å—å¦‚ä¸‹ï¼š</p><p><img src="https://github.com/Chen-XiaoLv/ML-in-Geochemistry/raw/master/READEME/image-20230703000609508.png" alt="image-20230703000609508"></p><p>ç›´æ¥å…ˆå¯¼è¿›å»å§</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> power_transform</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> pyecharts.charts <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> pyecharts <span class="keyword">import</span> options <span class="keyword">as</span> opts</span><br><span class="line"><span class="keyword">from</span> pyecharts.<span class="built_in">globals</span> <span class="keyword">import</span> CurrentConfig</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler,MinMaxScaler</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> GridSearchCV</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> copy</span><br><span class="line"><span class="keyword">import</span> torch </span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">import</span> alive_progress</span><br><span class="line"><span class="keyword">from</span> torch.nn <span class="keyword">import</span> functional <span class="keyword">as</span> F</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader,Dataset</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> KFold</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> accuracy_score</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> cross_val_score</span><br><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> RandomForestClassifier</span><br><span class="line"><span class="keyword">import</span> xgboost <span class="keyword">as</span> xgb</span><br><span class="line"><span class="keyword">from</span> xgboost <span class="keyword">import</span> plot_importance, plot_tree</span><br><span class="line"><span class="keyword">import</span> lightgbm <span class="keyword">as</span> lgb</span><br><span class="line">%matplotlib inline</span><br></pre></td></tr></table></figure><h4 id="1-2-ç»˜å›¾æ¨¡å—">1.2 ç»˜å›¾æ¨¡å—</h4><p>ç”±äºéœ€è¦ä¸åœåœ°è°ƒç”¨å¯è§†åŒ–æ¨¡å—æ¥å£ï¼Œè¿™é‡Œæˆ‘æäº†äº›å‡½æ•°æ–¹ä¾¿è°ƒç”¨ï¼Œä¸è£…<code>pyecharts</code>çš„è¯ä¹Ÿæ²¡å…³ç³»ï¼Œå®Œå…¨å¯ä»¥ç”¨<code>matplotlib</code>ä»£æ›¿çš„ï¼Œè¿™é‡Œåªæ˜¯ä¸ºäº†ç¾è§‚äº›ğŸŒŸ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">DrawBox</span>(<span class="params">x,y_data</span>):</span><br><span class="line">    box_plot = Boxplot()</span><br><span class="line">    box_plot = (</span><br><span class="line">        box_plot.add_xaxis(xaxis_data=[i <span class="keyword">for</span> i <span class="keyword">in</span> x])</span><br><span class="line">            .add_yaxis(series_name=<span class="string">&quot;ç®±çº¿å›¾&quot;</span>, y_axis=box_plot.prepare_data(y_data))</span><br><span class="line">            .set_global_opts(</span><br><span class="line">            title_opts=opts.TitleOpts(</span><br><span class="line">                pos_left=<span class="string">&quot;left&quot;</span>, title=<span class="string">&quot;æ•°å€¼æ•°æ®åˆ†å¸ƒæƒ…å†µ&quot;</span></span><br><span class="line">            ),</span><br><span class="line">            xaxis_opts=opts.AxisOpts(</span><br><span class="line">                type_=<span class="string">&quot;category&quot;</span>,</span><br><span class="line">                boundary_gap=<span class="literal">True</span>,</span><br><span class="line">                splitline_opts=opts.SplitLineOpts(is_show=<span class="literal">True</span>),  <span class="comment"># åˆ†å‰²çº¿æ˜¾ç¤ºä¸å¦</span></span><br><span class="line">            ),</span><br><span class="line">            yaxis_opts=opts.AxisOpts(  <span class="comment"># yè½´</span></span><br><span class="line">                type_=<span class="string">&quot;value&quot;</span>,</span><br><span class="line">                splitarea_opts=opts.SplitAreaOpts(</span><br><span class="line">                    is_show=<span class="literal">True</span>, areastyle_opts=opts.AreaStyleOpts(opacity=<span class="number">1</span>)  <span class="comment"># æ¨ªå‘åˆ†å‰²</span></span><br><span class="line">                ),</span><br><span class="line">            ),</span><br><span class="line">        )</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">return</span> box_plot</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Draw</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,x,y,ylabel,title,xname,yname</span>):</span><br><span class="line">        self.x=x</span><br><span class="line">        self.y=y</span><br><span class="line">        self.ylabel=ylabel</span><br><span class="line">        self.title=title</span><br><span class="line">        self.xname=xname</span><br><span class="line">        self.yname=yname</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">draw</span>(<span class="params">self,tool</span>):</span><br><span class="line">        tool.add_xaxis(self.x)</span><br><span class="line">        <span class="keyword">for</span> i, j <span class="keyword">in</span> <span class="built_in">enumerate</span>(self.y):</span><br><span class="line">            tool.add_yaxis(self.ylabel[i], j)</span><br><span class="line"></span><br><span class="line">        tool.set_series_opts(markpoint_opts=opts.MarkPointOpts(</span><br><span class="line">            data=[opts.MarkPointItem(type_=<span class="string">&quot;max&quot;</span>, name=<span class="string">&quot;æœ€å¤§å€¼&quot;</span>),  <span class="comment">##è®¾ç½®æœ€å¤§å€¼ æ ‡è®°</span></span><br><span class="line">                  opts.MarkPointItem(type_=<span class="string">&quot;min&quot;</span>, name=<span class="string">&quot;æœ€å°å€¼&quot;</span>),  <span class="comment"># è®¾ç½®æœ€å°å€¼æ ‡è®°</span></span><br><span class="line">                  ], symbol=<span class="string">&#x27;diamond&#x27;</span>, symbol_size=<span class="number">45</span>), markline_opts=opts.MarkLineOpts(</span><br><span class="line">            data=[opts.MarkLineItem(type_=<span class="string">&quot;average&quot;</span>, name=<span class="string">&quot;å¹³å‡å€¼&quot;</span>)]</span><br><span class="line">        ))</span><br><span class="line">        tool.set_global_opts(title_opts=opts.TitleOpts(title=self.title)</span><br><span class="line">                             , toolbox_opts=opts.ToolboxOpts()</span><br><span class="line">                             )</span><br><span class="line">        <span class="keyword">return</span> tool</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DrawBar</span>(<span class="title class_ inherited__">Draw</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,x,y,ylabel,title,xname,yname</span>):</span><br><span class="line">        <span class="built_in">super</span>(DrawBar, self).__init__(x,y,ylabel,title,xname,yname)</span><br><span class="line">        tool=Bar()</span><br><span class="line">        self.d=self.draw(tool)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">render</span>(<span class="params">self,path</span>):</span><br><span class="line">        self.d.render(path)</span><br><span class="line"><span class="comment"># æŠ˜çº¿å›¾</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DrawLine</span>(<span class="title class_ inherited__">Draw</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,x,y,ylabel,title,xname,yname</span>):</span><br><span class="line">        <span class="built_in">super</span>(DrawLine, self).__init__(x,y,ylabel,title,xname,yname)</span><br><span class="line">        tool=Line()</span><br><span class="line">        self.d=self.draw(tool)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">render</span>(<span class="params">self,path</span>):</span><br><span class="line">        self.d.render(path)</span><br></pre></td></tr></table></figure><h3 id="2-æ•°æ®åˆ†å¸ƒæƒ…å†µ">2 æ•°æ®åˆ†å¸ƒæƒ…å†µ</h3><p>å¥½äº†ç»“æŸäº†å‰æœŸå‡†å¤‡åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹æ•°æ®è¿›è¡Œæ¢ç´¢å•¦ï¼è¿™é‡Œç®€å•ä¸¾ä¸ªæ —å­ï¼Œæœ¬é¡¹ç›®ä¸»è¦å­¦ä¹ çš„æ˜¯æ–¹æ³•å•¦ã€‚æ•°æ®å¯ä»¥åœ¨è¿™é‡Œä¸‹è½½ï¼š<a href="https://www.kaggle.com/competitions/forest-cover-type-prediction/code">è¿™é‡Œ</a></p><p>è¯»å–æ•°æ®å¹¶è¿›è¡Œåˆæ­¥çš„ç»Ÿè®¡é‡æ¢ç´¢</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">path=<span class="string">r&quot;YourWorkSpace&quot;</span></span><br><span class="line">train,test=pd.read_csv(path+<span class="string">r&quot;/train.csv&quot;</span>),pd.read_csv(path+<span class="string">r&quot;/test.csv&quot;</span>)</span><br><span class="line">ori=copy.deepcopy(train)</span><br><span class="line">label=train[<span class="string">&#x27;Cover_Type&#x27;</span>]</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹æ•°æ®è¡¨çš„è¯ï¼Œç”¨<code>df.head(n)</code>å°±è¡Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">train.head()</span><br></pre></td></tr></table></figure><img src="https://github.com/Chen-XiaoLv/ML-in-Geochemistry/raw/master/READEME/image-20230703001232959.png" alt="image-20230703001232959" style="zoom:50%;"><p>æ¥ç€æ˜¯ç»Ÿè®¡é‡ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">train.describe()</span><br></pre></td></tr></table></figure><img src="https://github.com/Chen-XiaoLv/ML-in-Geochemistry/raw/master/READEME/image-20230703001302406.png" alt="image-20230703001302406" style="zoom:50%;"><p>æ•°æ®çš„ç»´åº¦ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">train.shape</span><br><span class="line"></span><br><span class="line"><span class="comment"># (15120,56)</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ•°æ®ä»ç¬¬åä¸€ç»´ç‰¹å¾<code>Wilderness_Area1</code>å¼€å§‹å°±å…¨æ˜¯åä¹‰æ•°æ®(å®šåæ•°æ®)äº†ï¼Œå› è€Œæˆ‘ä»¬åœ¨åˆ†æå…¶åˆ†å¸ƒæƒ…å†µæ—¶ï¼Œéœ€è¦åˆ†å¼€è¿›è¡Œã€‚</p><p>åˆ«å¿˜äº†çœ‹çœ‹æ•°æ®æœ‰æ²¡æœ‰ç¼ºå¤±å€¼!</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> train.columns:</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">any</span>(train[i].isnull()):</span><br><span class="line">        <span class="built_in">print</span>(i)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> test.columns:</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">any</span>(test[i].isnull()):</span><br><span class="line">        <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¿™ç§æ–¹å¼å¯ä»¥å°†å¸¦æœ‰ç¼ºå¤±å€¼çš„åˆ—è·å–å‡ºæ¥ï¼Œæ ¹æ®åˆ—ç‰¹å¾çš„ä¸åŒæ•°æ®æ ¼å¼é€‰æ‹©ä¸åŒçš„æ–¹æ³•è¿›è¡Œå¤„ç†ã€‚ç„¶åæ¥ä¸‹æ¥è¦å¯¹æ ·æœ¬æ ‡ç­¾çš„åˆ†å¸ƒè¿›è¡ŒæŸ¥çœ‹ï¼Œå¦‚æœæ ·æœ¬åˆ†å¸ƒä¸å‡è¡¡ï¼Œå¾ˆå¯èƒ½ä¼šå½±å“æ¨¡å‹çš„è®­ç»ƒç»“æœã€‚ä¸€èˆ¬æ¥è¯´ï¼Œé’ˆå¯¹åˆ†å¸ƒä¸å‡è¡¡æƒ…å†µï¼Œå¯ä»¥è¿›è¡Œçš„æ“ä½œæœ‰ï¼š</p><ul><li>é™é‡‡æ ·</li><li>ä¸Šé‡‡æ ·</li><li>ç”Ÿæˆå¼æ¨¡å‹(è‡ªåŠ¨ç¼–ç æœºã€å—é™ç»å°”å…¹æ›¼æœºã€å¯¹æŠ—ç”Ÿæˆç½‘ç»œã€æ‰©æ•£æ¨¡å‹ç­‰)</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">d=train.groupby(<span class="string">&quot;Cover_Type&quot;</span>)[<span class="string">&quot;Id&quot;</span>].count()</span><br><span class="line"><span class="comment"># é€šè¿‡ä¸Šé¢çš„æ¢ç´¢ï¼Œæˆ‘ä»¬å‘ç°å®é™…ä¸Š`Id`è¿™ä¸€åˆ—æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œé‚£ä¹ˆå°±åˆ é™¤å•¦</span></span><br><span class="line">train_x,label=train.iloc[:,<span class="number">1</span>:-<span class="number">1</span>],train.iloc[:,-<span class="number">1</span>]</span><br><span class="line">train.drop([<span class="string">&#x27;Id&#x27;</span>,<span class="string">&#x27;Cover_Type&#x27;</span>],axis=<span class="number">1</span>,inplace=<span class="literal">True</span>)</span><br><span class="line">test.drop(<span class="string">&#x27;Id&#x27;</span>,axis=<span class="number">1</span>,inplace=<span class="literal">True</span>)</span><br><span class="line">DrawBar([i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">8</span>)],[d.tolist()],[<span class="string">&quot;count&quot;</span>],<span class="string">&quot;æ ‡ç­¾å‡è¡¡&quot;</span>,<span class="string">&quot;cover_type&quot;</span>,<span class="string">&quot;count&quot;</span>).d.render_notebook()</span><br></pre></td></tr></table></figure><img src="https://github.com/Chen-XiaoLv/ML-in-Geochemistry/raw/master/READEME/image-20230703002051796.png" alt="image-20230703002051796" style="zoom:50%;"><p>è¿™ä¸ªæ•°æ®é›†å·²ç»åšè¿‡é‡‡æ ·äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦åœ¨æ ·æœ¬åˆ†å¸ƒä¸Šåšæ–‡ç« ã€‚</p><h4 id="2-1-æ•°å€¼æ•°æ®åˆ†å¸ƒæƒ…å†µ">2.1 æ•°å€¼æ•°æ®åˆ†å¸ƒæƒ…å†µ</h4><p>æœ¬æ•°æ®é›†ä¸­ï¼Œæ•°å€¼å‹æ•°æ®åˆšå¥½æ˜¯å‰ååˆ—ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">numeric_col=train.columns[:<span class="number">10</span>]</span><br><span class="line">categorical_col=train.columns[<span class="number">10</span>:]</span><br></pre></td></tr></table></figure><p>åˆ©ç”¨<code>seaborn</code>çš„<code>histplot(data,kde=True)</code>å¯ä»¥åœ¨ç»˜åˆ¶æ•°æ®åˆ†ç®±ç›´æ–¹å›¾çš„åŒæ—¶ï¼Œç»˜åˆ¶å¯†åº¦åˆ†å¸ƒå›¾ï¼Œå¸®åŠ©æˆ‘ä»¬æ›´å¥½çš„åˆ†ææ•°æ®çš„æƒ…å†µã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">plt.figure(figsize=(<span class="number">16</span>,<span class="number">12</span>),dpi=<span class="number">200</span>)</span><br><span class="line"><span class="keyword">for</span> idx,col <span class="keyword">in</span> <span class="built_in">enumerate</span>(numeric_col):</span><br><span class="line">    plt.subplot(<span class="number">5</span>,<span class="number">2</span>,idx+<span class="number">1</span>)</span><br><span class="line">    sns.histplot(train[col],kde=<span class="literal">True</span>)</span><br><span class="line">    plt.xlabel(col)</span><br><span class="line">plt.tight_layout() <span class="comment"># è°ƒæ•´åˆ†å¸ƒ</span></span><br></pre></td></tr></table></figure><img src="https://github.com/Chen-XiaoLv/ML-in-Geochemistry/raw/master/READEME/image-20230703002544091.png" style="zoom:50%;"><img src="https://github.com/Chen-XiaoLv/ML-in-Geochemistry/raw/master/READEME/image-20230703002559197.png" alt="image-20230703002559197" style="zoom:50%;"><img src="https://github.com/Chen-XiaoLv/ML-in-Geochemistry/raw/master/READEME/image-20230703002613434.png" alt="image-20230703002613434" style="zoom:50%;"><p>å¯ä»¥å‘ç°æ¯ç§æ•°æ®çš„åˆ†å¸ƒéƒ½ä¸ç›¸åŒï¼Œç†è®ºä¸Šä¸ºäº†æ–¹ä¾¿æˆ‘ä»¬çš„è®¡ç®—å·¥ä½œï¼Œéœ€è¦å°†å…¶è½¬åŒ–ä¸ºæ­£æ€åˆ†å¸ƒã€‚</p><p><strong>â™¨ï¸ æ•°æ®ç›¸å…³æ€§åˆ†æ</strong></p><p>è¿™éƒ¨åˆ†ä¸»è¦æ¢ç´¢æ•°å­—æ•°æ®ä¹‹é—´çš„ç›¸å…³æ€§ï¼Œåæ˜ å‡ºæ•°æ®åˆ†å¸ƒä¹‹é—´çš„æ½œåœ¨è”ç³»</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">num=train[numeric_col]</span><br><span class="line">Standarder=StandardScaler()</span><br><span class="line">num_std=Standarder.fit_transform(num)</span><br><span class="line">num_std.mean(axis=<span class="number">0</span>),num_std.std(axis=<span class="number">0</span>)</span><br><span class="line">plt.figure(figsize=(<span class="number">14</span>,<span class="number">12</span>))</span><br><span class="line">sns.heatmap(num.corr(),annot=<span class="literal">True</span>,fmt=<span class="string">&quot;.2f&quot;</span>,cmap=<span class="string">&quot;coolwarm&quot;</span>)</span><br></pre></td></tr></table></figure><img src="https://github.com/Chen-XiaoLv/ML-in-Geochemistry/raw/master/READEME/image-20230703002757865.png" alt="image-20230703002757865" style="zoom:50%;"><p>å¯ä»¥çœ‹åˆ°çš„æ˜¯ï¼Œå¡åº¦ä¸å±±ä½“é˜´å½±å‘ˆè´Ÿç›¸å…³å…³ç³»ï¼Œåƒå…ƒåˆ°æ°´æ–‡ç‰¹å¾çš„å‚ç›´è·ç¦»å’Œæ°´å¹³è·ç¦»ä¹‹é—´å…·æœ‰è¾ƒå¼ºçš„ç›¸å…³æ€§ã€‚</p><h4 id="2-2-åä¹‰æ•°æ®åˆ†å¸ƒæƒ…å†µ">2.2 åä¹‰æ•°æ®åˆ†å¸ƒæƒ…å†µ</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">DrawCategoricalData</span>(<span class="params">x</span>):</span><br><span class="line">    d=ori.groupby([x,<span class="string">&quot;Cover_Type&quot;</span>])[<span class="string">&quot;Id&quot;</span>].count()</span><br><span class="line">    b=Bar()</span><br><span class="line">    b.add_xaxis([i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">8</span>)])</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>):</span><br><span class="line">        c=np.array([<span class="number">0</span>]*<span class="number">8</span>)</span><br><span class="line">        c[d[i].index]=d[i]</span><br><span class="line">        b.add_yaxis(</span><br><span class="line">            <span class="string">f&quot;Val <span class="subst">&#123;i&#125;</span>&quot;</span>,c[<span class="number">1</span>:].tolist(),stack=<span class="string">&quot;1&quot;</span></span><br><span class="line">        )</span><br><span class="line">    b.set_global_opts(title_opts=opts.TitleOpts(title=<span class="string">&quot;%s æ•°æ®åˆ†å¸ƒæƒ…å†µ&quot;</span>%x))</span><br><span class="line">    <span class="keyword">return</span> b</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">categorical_col=train.columns[<span class="number">10</span>:]</span><br><span class="line">i=<span class="number">0</span></span><br><span class="line">DrawCategoricalData(categorical_col[i]).render_notebook()</span><br></pre></td></tr></table></figure><img src="https://github.com/Chen-XiaoLv/ML-in-Geochemistry/raw/master/READEME/image-20230703003036357.png" style="zoom:50%;"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">i+=<span class="number">1</span></span><br><span class="line">DrawCategoricalData(categorical_col[i]).render_notebook()</span><br></pre></td></tr></table></figure><img src="https://github.com/Chen-XiaoLv/ML-in-Geochemistry/raw/master/READEME/image-20230703003104247.png" style="zoom:50%;"><p>é€šè¿‡æŸ±çŠ¶å †å å›¾ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼ŒWilderness_Areaè¿™ä¸ªå­—æ®µæ•°æ®ä¹Ÿæ˜¯ååˆ†å‡è¡¡ï¼Œè€Œä¸”æœ‰äº›å­—æ®µå–1æ—¶ï¼Œå¯¹ç»“æœå–å€¼æœ‰è¾ƒå¤§çš„å½±å“ï¼Œè¯¥æ•°æ®çš„ä¿¡æ¯ç†µè¾ƒå¤§ã€‚</p><h4 id="3-æ•°æ®æ¸…æ´—">3 æ•°æ®æ¸…æ´—</h4><p>æ­¤é˜¶æ®µä¸»è¦é’ˆå¯¹ä¸‰ç±»æƒ…å†µï¼š</p><ul><li>ç¼ºå¤±å€¼</li><li>å™ªå£°</li><li>æ•°æ®ä¸ä¸€è‡´é—®é¢˜</li></ul><p>æˆ‘ä»¬åœ¨ç¬¬äºŒé˜¶æ®µå·²ç»æ¢æŸ¥è¿‡äº†ï¼Œè¯¥æ•°æ®ä¸å­˜åœ¨ç¼ºå¤±å€¼ï¼Œæ•°æ®ä¸ä¸€è‡´é—®é¢˜å®é™…ä¸Šä¹Ÿä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå‰©ä¸‹çš„å°±æ˜¯å™ªå£°æ•°æ®çš„å¤„ç†</p><p>ä¸‹é¢è¿™æ®µä»£ç æ˜¯è°ƒç”¨ä¸Šé¢å†™çš„ç»˜å›¾å‡½æ•°çš„ï¼Œç”¨æ¥ç»˜åˆ¶ç®±çº¿å›¾ï¼Œå¯ä»¥ç›´æ¥è·³è¿‡ï¼Œè¿™è¾¹åšä¸ªç®€å•å±•ç¤º</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">i=<span class="number">0</span></span><br><span class="line">DrawBox([numeric_col[i]],[train[numeric_col[i]]]).render_notebook()</span><br></pre></td></tr></table></figure><img src="https://github.com/Chen-XiaoLv/ML-in-Geochemistry/raw/master/READEME/image-20230703003233783.png" alt="image-20230703003233783" style="zoom:50%;"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DrawBox(numeric_col[:<span class="number">3</span>],num_std[:<span class="number">3</span>]).render_notebook()</span><br></pre></td></tr></table></figure><img src="https://github.com/Chen-XiaoLv/ML-in-Geochemistry/raw/master/READEME/image-20230703003300042.png" style="zoom:50%;"><p>æˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨<code>pandas</code>çš„ç»˜å›¾æ¥å£ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.figure(figsize=(<span class="number">16</span>,<span class="number">9</span>),dpi=<span class="number">300</span>)</span><br><span class="line">pd.DataFrame(num_std).boxplot()</span><br></pre></td></tr></table></figure><img src="https://github.com/Chen-XiaoLv/ML-in-Geochemistry/raw/master/READEME/image-20230703003358841.png" style="zoom:50%;"><p>å¯ä»¥çœ‹åˆ°ï¼Œæœ‰å¾ˆå¤šç±»éƒ½æœ‰ä¸€äº›å¼‚å¸¸å€¼ã€‚è¿™äº›å¼‚å¸¸å€¼æ˜¯é€šè¿‡ç™¾åˆ†ä½æ•°æå·®è®¡ç®—çš„ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>I</mi><mi>Q</mi><mi>R</mi><mo>=</mo><msub><mi>Q</mi><mn>3</mn></msub><mo>âˆ’</mo><msub><mi>Q</mi><mn>1</mn></msub><mspace linebreak="newline"></mspace><mi>I</mi><mi>Q</mi><msub><mi>R</mi><mi>b</mi></msub><mo>=</mo><msub><mi>Q</mi><mn>1</mn></msub><mo>âˆ’</mo><mn>1.5</mn><mo>âˆ—</mo><mi>I</mi><mi>Q</mi><mi>R</mi><mspace linebreak="newline"></mspace><mi>I</mi><mi>Q</mi><msub><mi>R</mi><mi>u</mi></msub><mo>=</mo><mi>Q</mi><mn>3</mn><mo>+</mo><mn>1.5</mn><mo>âˆ—</mo><mi>I</mi><mi>Q</mi><mi>R</mi></mrow><annotation encoding="application/x-tex">IQR=Q_3-Q_1\\IQR_b=Q_1-1.5*IQR\\IQR_u=Q3+1.5*IQR</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.00773em;">QR</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">Q</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1.5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.00773em;">QR</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">Q</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">u</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">Q</span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1.5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.00773em;">QR</span></span></span></span></span></p><p>ç„¶åæˆ‘ä»¬ç°åœ¨å°±æƒ³æŠŠè¿™äº›å¼‚å¸¸ç‚¹å»æ‰ï¼Œæœ‰ä¸€ä¸ªæ¯”è¾ƒç®€å•çš„æ–¹å¼ï¼Œå°±æ˜¯åˆ©ç”¨<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mi>Î±</mi></mrow><annotation encoding="application/x-tex">3\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span></span>æ³•åˆ™</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">Outlier</span>(<span class="params">x</span>):</span><br><span class="line">    blidx=(x.mean()-<span class="number">3</span>*x.std()&gt;x)|(x.mean()+<span class="number">3</span>*x.std()&lt;x)</span><br><span class="line">    idx=np.arange(x.shape[<span class="number">0</span>])[blidx]</span><br><span class="line">    outlier=x.iloc[idx]</span><br><span class="line">    <span class="keyword">return</span> outlier</span><br><span class="line">c=num.apply(Outlier,axis=<span class="number">0</span>)</span><br><span class="line">c.count()</span><br></pre></td></tr></table></figure><img src="https://github.com/Chen-XiaoLv/ML-in-Geochemistry/raw/master/READEME/image-20230703003706613.png" alt="image-20230703003706613" style="zoom:50%;"><p>å¯ä»¥çœ‹åˆ°ï¼Œæ€»å…±æœ‰<code>1130</code>ä¸ªæ•°æ®å±äºå¼‚å¸¸å€¼ã€‚</p><p>å½“ç„¶ï¼Œæ˜¯å¦åˆ é™¤ç¦»ç¾¤ç‚¹è¿˜éœ€è¦è€ƒè™‘å®é™…æƒ…å†µï¼Œè­¬å¦‚è¿™ä¸ªç¦»ç¾¤ç‚¹æ˜¯ç”±ä»€ä¹ˆåŸå› é€ æˆçš„ï¼Ÿæ˜¯å¦æ˜¯é‡‡é›†è¿‡ç¨‹ä¸­é€ æˆçš„ï¼Œè¿˜æ˜¯æ•°æ®æœ¬èº«çš„ç‰¹æ€§å¯¼è‡´çš„ï¼Ÿ</p><p>å¦‚æœæ˜¯åè€…ï¼Œå…¶å®ä¸å»ºè®®è¿›è¡Œå¤„ç†ã€‚é€‚å½“çš„ä¿ç•™å™ªå£°ä¼šæé«˜æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›</p><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»ç®€å•å®Œæˆäº†EDAé˜¶æ®µçš„å·¥ä½œã€‚</p><p>ä¸‹ä¸€ä¸ªé˜¶æ®µæ˜¯ç‰¹å¾å·¥ç¨‹(Feature Engineering)</p><hr><h2 id="ä¸‰-ç‰¹å¾å·¥ç¨‹">ä¸‰ ç‰¹å¾å·¥ç¨‹</h2><p>åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œç‰¹å¾å·¥ç¨‹é˜¶æ®µçš„å¥½åå¾€å¾€å†³å®šäº†æœ€ç»ˆç»“æœçš„å¥½åï¼Œè€Œæ·±åº¦å­¦ä¹ å®é™…ä¸Šæ²¡æœ‰è¿™ç§çƒ¦æ¼ï¼Œæˆ‘ä»¬å°†å°è¯•ä¼ ç»Ÿæœºå™¨å­¦ä¹ æ ‘æ¨¡å‹å’Œæ·±åº¦å­¦ä¹ æ¨¡å‹ï¼Œåˆ†æå¹¶æ¯”è¾ƒä¸åŒæ¨¡å‹çš„ç»“æœï¼Œå½“ç„¶ï¼Œè¿™é‡Œä¼šé€‰æ‹©ä¸€ä»½åšäº†ç‰¹å¾å·¥ç¨‹çš„æ•°æ®å’Œä¸€ä»½ä¸åšç‰¹å¾å·¥ç¨‹çš„æ•°æ®è¿›è¡Œæ¯”å¯¹ï¼Œä½†ç”±äºæ ‘æ¨¡å‹å’Œæ·±åº¦å­¦ä¹ æ¨¡å‹éƒ½å¸¦æœ‰ä¸ç¡®å®šæ€§ï¼Œæœ€ç»ˆçš„è¯„ä»·ä¸ä¸€å®šå‡†ç¡®ï¼Œè€ƒè™‘åˆ°æœåŠ¡å™¨æ€§èƒ½ï¼Œä¹Ÿä¸åšå¤§æ•°æ®ç»Ÿè®¡äº†ï¼Œä»…ä»…åšä¸€äº›ç®€å•çš„å·¥ä½œ</p><p>ç‰¹å¾å·¥ç¨‹çš„ä¸»è¦ä»»åŠ¡åŒ…æ‹¬æ•°æ®é¢„å¤„ç†ã€ç‰¹å¾å˜æ¢ã€ç‰¹å¾æå–å’Œç‰¹å¾é€‰æ‹©ï¼Œåœ¨ä¹‹å‰çš„å·¥ä½œä¸­ï¼Œæˆ‘ä»¬å·²ç»åšè¿‡éƒ¨åˆ†é¢„å¤„ç†äº†ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li>å‰”é™¤å¼‚å¸¸å€¼</li><li>åˆ é™¤ä¸éœ€è¦çš„åˆ—</li><li>åˆ†ææ•°æ®çš„åˆ†å¸ƒ</li></ul><h3 id="1-ç‰¹å¾å˜æ¢">1 ç‰¹å¾å˜æ¢</h3><p>å¯ä»¥é€šè¿‡å¹‚å¾‹å˜æ¢<code>sklearn.preprogressing.power_transform</code>å¯¹æ•°æ®è¿›è¡Œè½¬æ¢ï¼Œå½“ç„¶è¦æ±‚æ•°æ®ä¸èƒ½ä¸ºéæ­£æ•°ã€‚æœ¬æ•°æ®å­˜åœ¨è´Ÿæ•°ï¼Œå› è€Œæˆ‘ä»¬çš„è€ƒé‡æ˜¯ï¼š</p><ul><li>å…ˆåšå½’ä¸€åŒ–å»é™¤è´Ÿæ•°å½±å“</li><li>æ·»åŠ æå°é¡¹é¿å…é›¶å€¼å½±å“</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ•°æ®è½¬ä¸ºæ­£æ€åˆ†å¸ƒ</span></span><br><span class="line">t_x_d,t_y_d=train_drop_outlier.iloc[:,<span class="number">1</span>:-<span class="number">1</span>],train_drop_outlier.iloc[:,-<span class="number">1</span>]</span><br><span class="line">col_td=t_x_d[numeric_col]</span><br><span class="line">mmS=MinMaxScaler()</span><br><span class="line">col_td=mmS.fit_transform(col_td)</span><br><span class="line">col_td+=<span class="number">1e-5</span></span><br><span class="line">c_d_p=power_transform(col_td,method=<span class="string">&#x27;box-cox&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹åˆ†å¸ƒ</span></span><br><span class="line">t_x_d[numeric_col]=c_d_p</span><br><span class="line">t_x_d.head()</span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(<span class="number">16</span>,<span class="number">12</span>),dpi=<span class="number">200</span>)</span><br><span class="line"><span class="keyword">for</span> idx,col <span class="keyword">in</span> <span class="built_in">enumerate</span>(numeric_col):</span><br><span class="line">    plt.subplot(<span class="number">5</span>,<span class="number">2</span>,idx+<span class="number">1</span>)</span><br><span class="line">    sns.histplot(t_x_d[col],kde=<span class="literal">True</span>)</span><br><span class="line">    plt.xlabel(col)</span><br><span class="line">plt.tight_layout()</span><br></pre></td></tr></table></figure><img src="https://github.com/Chen-XiaoLv/ML-in-Geochemistry/raw/master/READEME/image-20230703004217364.png" alt="image-20230703004217364" style="zoom:50%;"><img src="https://github.com/Chen-XiaoLv/ML-in-Geochemistry/raw/master/READEME/image-20230703004232612.png" alt="image-20230703004232612" style="zoom:50%;"><img src="https://github.com/Chen-XiaoLv/ML-in-Geochemistry/raw/master/READEME/image-20230703004242720.png" alt="image-20230703004242720" style="zoom:50%;"><p>å¯ä»¥çœ‹åˆ°ï¼Œæ­¤æ—¶ä¹‹å‰çš„é•¿å°¾åˆ†å¸ƒåŸºæœ¬ä¸Šéƒ½è¢«è½¬åŒ–ä¸ºè¿‘ä¼¼æ­£æ€äº†ã€‚</p><p>å½“ç„¶ï¼Œè¿™ç»„æ•°æ®åšä¸åšæ­£æ€å½±å“ä¸å¤§ï¼Œèµ·ç å¯¹äºä¿¡æ¯ç†µæ²¡æœ‰å¢ç›Šï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ä¸åšäº†ï¼Œçœçš„æ•°æ®åŒºé—´å‡ºé”™ï¼Œé‚£ä¹ˆç°åœ¨å°±è½®åˆ°<code>ç‰¹å¾æå–</code>æˆ–è€…è¯´<code>ç‰¹å¾æ„é€ </code>é˜¶æ®µäº†</p><h3 id="2-ç‰¹å¾æå–">2 ç‰¹å¾æå–</h3><p>ä¸»è¦æ„é€ çš„ç‰¹å¾æœ‰ï¼š</p><ul><li>é«˜ç¨‹å¡å‘æ¯”</li><li>é«˜ç¨‹å¡åº¦æ¯”</li><li>å¡åº¦å¡å‘æ¯”</li><li>æ°´æ–‡ç‰¹å¾åˆ‡æ¯”é›ªå¤«è·ç¦»</li><li>æ°´æ–‡ç‰¹å¾é—µå¯å¤«æ–¯åŸºè·ç¦»(p=1,p=2)</li><li>é«˜ç¨‹æ°´æ–‡æ¬§æ°è·ç¦»æ¯”</li><li>é«˜ç¨‹å…¬è·¯æ¬§æ°è·ç¦»æ¯”</li><li>å¡åº¦å…¬è·¯æ¯”</li><li>æ°´æ–‡å…¬è·¯æ¯”</li><li>å±±ä½“é˜´å½±å‡ ä½•å¹³å‡å€¼</li><li>å±±ä½“é˜´å½±å¹³å‡å€¼</li><li>å±±ä½“é˜´å½±æ ‡å‡†å·®</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">distance</span>(<span class="params">x,y,p=<span class="number">2</span></span>):</span><br><span class="line">    <span class="keyword">return</span> (x**p+y**p)**(<span class="number">1</span>/p)</span><br><span class="line">x_t_o,l_o=train_drop_outlier.iloc[:,<span class="number">1</span>:-<span class="number">1</span>],train_drop_outlier.iloc[:,-<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">x_t_o[<span class="string">&quot;v1&quot;</span>]=x_t_o[<span class="string">&quot;Elevation&quot;</span>]/x_t_o[<span class="string">&#x27;Aspect&#x27;</span>]</span><br><span class="line">x_t_o[<span class="string">&quot;v2&quot;</span>]=x_t_o[<span class="string">&quot;Elevation&quot;</span>]/x_t_o[<span class="string">&#x27;Slope&#x27;</span>]</span><br><span class="line">x_t_o[<span class="string">&quot;v3&quot;</span>]=x_t_o[<span class="string">&quot;Aspect&quot;</span>]/x_t_o[<span class="string">&#x27;Slope&#x27;</span>]</span><br><span class="line">x_t_o[<span class="string">&quot;v4&quot;</span>]=distance(x_t_o[<span class="string">&quot;Horizontal_Distance_To_Hydrology&quot;</span>],x_t_o[<span class="string">&#x27;Vertical_Distance_To_Hydrology&#x27;</span>])</span><br><span class="line">x_t_o[<span class="string">&#x27;v5&#x27;</span>]=distance(x_t_o[<span class="string">&quot;Horizontal_Distance_To_Hydrology&quot;</span>],x_t_o[<span class="string">&#x27;Vertical_Distance_To_Hydrology&#x27;</span>],<span class="number">1</span>)</span><br><span class="line">x_t_o[<span class="string">&#x27;v6&#x27;</span>]=x_t_o[<span class="string">&#x27;Elevation&#x27;</span>]/x_t_o[<span class="string">&#x27;v4&#x27;</span>]</span><br><span class="line">x_t_o[<span class="string">&#x27;v7&#x27;</span>]=x_t_o[<span class="string">&#x27;Elevation&#x27;</span>]/x_t_o[<span class="string">&#x27;Horizontal_Distance_To_Roadways&#x27;</span>]</span><br><span class="line">x_t_o[<span class="string">&#x27;v8&#x27;</span>]=(x_t_o[<span class="string">&#x27;Hillshade_9am&#x27;</span>]+x_t_o[<span class="string">&#x27;Hillshade_Noon&#x27;</span>]+x_t_o[<span class="string">&#x27;Hillshade_3pm&#x27;</span>]).mean()</span><br><span class="line">x_t_o[<span class="string">&#x27;v9&#x27;</span>]=(x_t_o[<span class="string">&#x27;Hillshade_9am&#x27;</span>]+x_t_o[<span class="string">&#x27;Hillshade_Noon&#x27;</span>]+x_t_o[<span class="string">&#x27;Hillshade_3pm&#x27;</span>]).std()</span><br><span class="line">x_t_o[<span class="string">&#x27;v10&#x27;</span>]=(x_t_o[<span class="string">&#x27;Hillshade_9am&#x27;</span>]**<span class="number">2</span>+x_t_o[<span class="string">&#x27;Hillshade_Noon&#x27;</span>]**<span class="number">2</span>+x_t_o[<span class="string">&#x27;Hillshade_3pm&#x27;</span>]**<span class="number">2</span>)**<span class="number">0.5</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>OKç°åœ¨æˆ‘ä»¬å°±æœ‰ä¸€äº›å¥‡å¥‡æ€ªæ€ªçš„ç‰¹å¾äº†ã€‚</p><img src="https://github.com/Chen-XiaoLv/ML-in-Geochemistry/raw/master/READEME/image-20230703031337694.png" alt="image-20230703031337694" style="zoom:50%;"><p>å•Šå®é™…ä¸Šæœ‰äº›ç‰¹å¾ä¸èƒ½ç”¨ï¼Œå› ä¸ºå‘ç”Ÿäº†é™¤é›¶é”™è¯¯ã€‚</p><h3 id="3-ç‰¹å¾é€‰æ‹©">3 ç‰¹å¾é€‰æ‹©</h3><p>ç‰¹å¾é€‰æ‹©çš„æ–¹å¼æœ‰å¾ˆå¤šï¼Œæˆ‘ä»¬ç°åœ¨ä»‹ç»ä¸€äº›é™ç»´çš„å·¥å…·ï¼š</p><ul><li>é€šè¿‡æµå½¢å­¦ä¹ çš„éçº¿æ€§é™ç»´æ–¹å¼<code>T-SNE</code>å¯¹æ•°æ®è¿›è¡Œé™ç»´ï¼Œé¿å…æ•°æ®ä¹‹é—´å†—ä½™åº¦è¿‡é«˜ä»¥åŠå¯èƒ½å¸¦æ¥çš„ç»´ç¾å®³(è™½ç„¶ç‰¹å¾å·¥ç¨‹å°±æ²¡æ„å»ºå‡ ä¸ªç‰¹å¾)</li><li>PCA</li><li>LDA</li><li>LLE</li></ul><p>è¿™è¾¹çš„è¯ï¼Œç”±äºç‰¹å¾è¾ƒå°‘ï¼Œæ—¶é—´æœ‰é™ï¼Œå°±æ²¡æœ‰åšé™ç»´äº†ï¼Œç®€å•ç»™ä¸ªæ —å­ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.decomposition <span class="keyword">import</span> PCA</span><br><span class="line">pca=PCA(n_components=<span class="number">10</span>)</span><br><span class="line">x=standarder.fit_transform(x_t_o)</span><br><span class="line">x=pca.fit_transform(x)</span><br></pre></td></tr></table></figure><hr><h2 id="å››-æ¨¡å‹è®­ç»ƒ">å›› æ¨¡å‹è®­ç»ƒ</h2><h3 id="1-å‡†å¤‡å·¥ä½œ">1 å‡†å¤‡å·¥ä½œ</h3><h4 id="1-1-æ•°æ®æ‹†åˆ†">1.1 æ•°æ®æ‹†åˆ†</h4><p>æ‹†åˆ†å–½</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x_train,x_val,y_train,y_val=train_test_split(train,label,test_size=<span class="number">0.3</span>)</span><br><span class="line">x_train.shape</span><br><span class="line"></span><br><span class="line"><span class="comment"># (10584, 54)</span></span><br></pre></td></tr></table></figure><h4 id="1-2-æ ‡å‡†åŒ–å»é™¤é‡çº²å½±å“">1.2 æ ‡å‡†åŒ–å»é™¤é‡çº²å½±å“</h4><p>å®é™…ä¸Šæˆ‘ä»¬ä¹‹å‰åšè¿‡ä¸€æ¬¡ï¼Œä½†æ˜¯ä¸ç¢äº‹ï¼Œå†åšä¸€æ¬¡ä½“éªŒä¸€ä¸‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x_train_scale=Standarder.fit_transform(x_train)</span><br><span class="line">x_val_scale=Standarder.fit_transform(x_val)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">accuracy</span>(<span class="params">y_pre,y</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sum</span>(y_pre==y)/<span class="built_in">len</span>(y) <span class="comment"># è¿™ä¸œè¥¿ç”¨æ¥è®¡ç®—é¢„æµ‹å‡†ç¡®åº¦çš„</span></span><br></pre></td></tr></table></figure><h3 id="2-æœºå™¨å­¦ä¹ æ¨¡å‹">2 æœºå™¨å­¦ä¹ æ¨¡å‹</h3><h4 id="2-1-æ ‘æ¨¡å‹">2.1 æ ‘æ¨¡å‹</h4><p><strong>éšæœºæ£®æ—ğŸŒ³</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rf=RandomForestClassifier(max_features=<span class="string">&#x27;auto&#x27;</span>,oob_score=<span class="literal">True</span>,random_state=<span class="number">2023</span>,n_jobs=-<span class="number">1</span>)</span><br><span class="line">rf.fit(x_train_scale,y_train)</span><br><span class="line">rf.score(x_val_scale,y_val)</span><br><span class="line"><span class="comment"># 0.857583774250441</span></span><br></pre></td></tr></table></figure><p><strong>XGboostğŸŒ²</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç®—æ³•å‚æ•°</span></span><br><span class="line">params = &#123;</span><br><span class="line">    <span class="comment"># é€šç”¨å‚æ•°</span></span><br><span class="line">    <span class="string">&#x27;booster&#x27;</span>: <span class="string">&#x27;gbtree&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;nthread&#x27;</span>: <span class="number">4</span>,</span><br><span class="line">    <span class="comment"># &#x27;num_feature&#x27;: 5,  # Boostingè¿‡ç¨‹ä¸­ç”¨åˆ°çš„ç‰¹å¾ç»´æ•°ï¼Œè®¾ç½®ä¸ºç‰¹å¾ä¸ªæ•°ï¼Œxgboostä¼šè‡ªåŠ¨è®¾ç½®ï¼Œæ— éœ€äººä¸ºè®¾ç½®ã€‚</span></span><br><span class="line">    <span class="string">&#x27;seed&#x27;</span>: <span class="number">1000</span>,</span><br><span class="line">    <span class="comment"># ä»»åŠ¡å‚æ•°</span></span><br><span class="line">    <span class="string">&#x27;objective&#x27;</span>: <span class="string">&#x27;multi:softmax&#x27;</span>,  <span class="comment"># å¤šåˆ†ç±»é—®é¢˜</span></span><br><span class="line">    <span class="string">&#x27;num_class&#x27;</span>: <span class="number">7</span>,  <span class="comment">#ç±»åˆ«æ€»æ•°ï¼Œä¸multi softmaxå¹¶ç”¨ 6</span></span><br><span class="line">    <span class="comment"># æå‡å‚æ•°</span></span><br><span class="line">    <span class="string">&#x27;gamma&#x27;</span>: <span class="number">0.1</span>,</span><br><span class="line">    <span class="string">&#x27;max_depth&#x27;</span>: <span class="number">11</span>,</span><br><span class="line">    <span class="string">&#x27;lambda&#x27;</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="string">&#x27;subsample&#x27;</span>: <span class="number">0.7</span>,</span><br><span class="line">    <span class="string">&#x27;colsample_bytree&#x27;</span>: <span class="number">0.7</span>,</span><br><span class="line">    <span class="string">&#x27;min_child_weight&#x27;</span>: <span class="number">5</span>,</span><br><span class="line">    <span class="string">&#x27;eta&#x27;</span>: <span class="number">0.1</span>,</span><br><span class="line">    <span class="comment"># &#x27;eval_metric&#x27;: &#x27;auc&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment"># æ³¨æ„å¤šåˆ†ç±»xgboostéœ€è¦ä¿®æ”¹labelæ˜ å°„</span></span><br><span class="line">y_train_xg=y_train-<span class="number">1</span></span><br><span class="line">y_val_xg=y_val-<span class="number">1</span></span><br><span class="line"></span><br><span class="line">dtrain=xgb.DMatrix(data=x_train_scale,label=y_train_xg)</span><br><span class="line">dtest=xgb.DMatrix(data=x_val_scale,label=y_val_xg)</span><br><span class="line">watchlist=[(dtrain,<span class="string">&quot;train&quot;</span>),(dtest,<span class="string">&quot;valid_data&quot;</span>)]</span><br><span class="line">model=xgb.train(params,dtrain,num_boost_round=<span class="number">2023</span>,evals=watchlist,early_stopping_rounds=<span class="number">200</span>,verbose_eval=<span class="number">500</span>)</span><br><span class="line">accuracy(model.predict(dtest),y_val_xg)</span><br><span class="line"></span><br><span class="line"><span class="comment">#0.8507495590828924 </span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xgb.plot_importance(model,height=<span class="number">0.8</span>,title=<span class="string">&#x27;Influence Ranking&#x27;</span>, ylabel=<span class="string">&#x27;Feature&#x27;</span>,max_num_features=<span class="number">20</span>)</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹ç‰¹å¾å½±å“å¾—åˆ†ï¼š</p><img src="https://github.com/Chen-XiaoLv/ML-in-Geochemistry/raw/master/READEME/image-20230703005437156.png" alt="image-20230703005437156" style="zoom:50%;"><p><strong>LightGBMğŸŒ´</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">params=&#123;<span class="string">&#x27;num_leaves&#x27;</span>:<span class="number">54</span>,<span class="string">&#x27;objective&#x27;</span>: <span class="string">&#x27;multi:softmax&#x27;</span>,<span class="string">&#x27;max_depth&#x27;</span>:<span class="number">18</span>,<span class="string">&#x27;learning_rate&#x27;</span>:<span class="number">0.01</span>,<span class="string">&#x27;boosting&#x27;</span>:<span class="string">&#x27;gbdt&#x27;</span>&#125;</span><br><span class="line">model=lgb.LGBMClassifier(**params,n_estimators=<span class="number">2000</span>,nthread=<span class="number">4</span>,n_jobs=-<span class="number">1</span>)</span><br><span class="line">model.fit(x_train_scale,y_train,verbose=<span class="number">200</span>)</span><br><span class="line">accuracy(model.predict(x_val_scale,num_iteration=model.best_iteration_),y_val)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 0.8630952380952381</span></span><br></pre></td></tr></table></figure><h4 id="2-2-æ”¯æŒå‘é‡æœº">2.2 æ”¯æŒå‘é‡æœº</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> svm</span><br><span class="line">param_grid=&#123;</span><br><span class="line">    <span class="string">&quot;gamma&quot;</span>:[<span class="number">0.05</span>*i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">13</span>)],</span><br><span class="line">    <span class="string">&quot;C&quot;</span>:[<span class="number">0.1</span>*i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">21</span>)]</span><br><span class="line">&#125;</span><br><span class="line">cl=svm.SVC(kernel=<span class="string">&#x27;poly&#x27;</span>,gamma=<span class="number">0.1</span>,decision_function_shape=<span class="string">&#x27;ovo&#x27;</span>,C=<span class="number">1.0</span>)</span><br><span class="line">search=GridSearchCV(cl,param_grid=param_grid,cv=<span class="number">5</span>,n_jobs=-<span class="number">1</span>, scoring=<span class="string">&quot;accuracy&quot;</span>)</span><br><span class="line">search.fit(x_train_scale,y_train)</span><br><span class="line">cl=search.best_estimator_</span><br><span class="line">z=cl.predict(x_val_scale)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 0.8167989417989417</span></span><br></pre></td></tr></table></figure><h4 id="2-3-ä¼˜åŒ–">2.3 ä¼˜åŒ–</h4><p>è®²åˆ°è°ƒä¼˜ï¼Œæœºå™¨å­¦ä¹ çš„ä¸¤å¤§å·¥ä½œä¸€ä¸ªæ˜¯ç‰¹å¾å·¥ç¨‹ï¼Œä¸€ä¸ªå°±æ˜¯è°ƒå‚äº†ï¼ŒåŠªåŠ›æˆä¸ºä¸€åä¼˜ç§€çš„è°ƒå‚ä¾ å§(ç¬‘)</p><p>æˆ‘ä»¬é€šè¿‡<code>GridSearchCV</code>æ¨¡å—è¿›è¡Œè°ƒå‚ï¼Œä»¥å†³ç­–æ ‘å’ŒXGboostä¸ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">param_grid=&#123;</span><br><span class="line">    <span class="string">&#x27;n_estimators&#x27;</span>:[i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>,<span class="number">20</span>)],</span><br><span class="line">    <span class="string">&#x27;max_depth&#x27;</span>:[i*<span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)],</span><br><span class="line">    <span class="string">&#x27;criterion&#x27;</span>:[<span class="string">&#x27;entropy&#x27;</span>,<span class="string">&#x27;gini&#x27;</span>],</span><br><span class="line">&#125;</span><br><span class="line">rf=RandomForestClassifier(max_features=<span class="string">&#x27;auto&#x27;</span>,oob_score=<span class="literal">True</span>,random_state=<span class="number">2023</span>,n_jobs=-<span class="number">1</span>)</span><br><span class="line">clf=GridSearchCV(estimator=rf,param_grid=param_grid,scoring=<span class="string">&#x27;accuracy&#x27;</span>,cv=<span class="number">5</span>,n_jobs=-<span class="number">1</span>)</span><br><span class="line">clf.fit(x_train_scale,y_train)</span><br><span class="line">lr=clf.best_estimator_</span><br><span class="line">lr.fit(x_train_scale,y_train)</span><br><span class="line">m1=lr.predict(x_val_scale)</span><br><span class="line">accuracy(m1,y_val)</span><br></pre></td></tr></table></figure><p>é€šè¿‡æ ¼ç½‘æœç´¢ä¸äº¤å‰éªŒè¯ï¼Œå¯»æ‰¾æ¨¡å‹çš„æœ€ä¼˜å‚æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">pipe = Pipeline(</span><br><span class="line">        steps=[ (<span class="string">&quot;classifier&quot;</span>, XGBClassifier())]</span><br><span class="line">    )</span><br><span class="line">param_grid = &#123;</span><br><span class="line">        <span class="string">&quot;classifier__n_estimators&quot;</span>: [<span class="number">50</span>,<span class="number">100</span>,<span class="number">150</span>,<span class="number">200</span>,<span class="number">300</span>], <span class="comment"># å¤šå°‘æ£µæ ‘</span></span><br><span class="line">        <span class="string">&quot;classifier__eta&quot;</span>: [<span class="number">0.05</span>, <span class="number">0.1</span>, <span class="number">0</span>,<span class="number">2</span>, <span class="number">0.3</span>], <span class="comment"># å­¦ä¹ ç‡</span></span><br><span class="line">        <span class="string">&quot;classifier__max_depth&quot;</span>: [<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>], <span class="comment"># æ ‘çš„æœ€å¤§æ·±åº¦</span></span><br><span class="line">        <span class="string">&quot;classifier__colsample_bytree&quot;</span>: [<span class="number">0.4</span>,<span class="number">0.6</span>,<span class="number">0.8</span>,<span class="number">1</span>], <span class="comment"># é€‰æ‹©å¤šå°‘åˆ—æ„å»ºä¸€ä¸ªæ ‘</span></span><br><span class="line">        <span class="string">&quot;classifier__min_child_weight&quot;</span>: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>] <span class="comment"># å¶å­èŠ‚ç‚¹æœ€å°æ ·æœ¬æ•°ç›®</span></span><br><span class="line">    &#125;</span><br><span class="line">search = GridSearchCV(pipe, param_grid, n_jobs=-<span class="number">1</span>, scoring=<span class="string">&quot;roc_auc&quot;</span>, cv=<span class="number">5</span>)</span><br><span class="line">search.fit(x_train_scale,y_train_xg)</span><br><span class="line">search.best_params</span><br><span class="line">search.score(x_val_scale,y_val_xg)</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªè¿‡ç¨‹ååˆ†åƒæœåŠ¡å™¨æ€§èƒ½ï¼Œè€Œä¸”å¯èƒ½è´¹æ—¶ä¸å¤ªå¥½ï¼Œéœ€è¦ä¸€å®šçš„å¿ƒç†å‡†å¤‡ã€‚</p><p>æœ€ç»ˆçš„ç»“æœå¦‚ä¸‹(å…·æœ‰ä¸€å®šçš„ä¼˜åŒ–ç©ºé—´ï¼Œæˆ‘è¿™è¾¹åŸºæœ¬ä¸Šæ²¡æ€ä¹ˆåšè°ƒå‚)</p><img src="https://github.com/Chen-XiaoLv/ML-in-Geochemistry/raw/master/READEME/image-20230703020017641.png" alt="image-20230703020017641" style="zoom:50%;"><h3 id="3-æ·±åº¦å­¦ä¹ æ¨¡å‹">3 æ·±åº¦å­¦ä¹ æ¨¡å‹</h3><h4 id="3-1-æ„å»ºæ•°æ®é›†">3.1 æ„å»ºæ•°æ®é›†</h4><p>é¦–å…ˆæˆ‘ä»¬è¦æœ‰ä¸€ä¸ªæ•°æ®é›†ï¼Œæˆ–è€…ä¸€ä¸ªå¯è¿­ä»£çš„å®¹å™¨å­˜æ”¾æˆ‘ä»¬çš„æ•°æ®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyDataSet</span>(<span class="title class_ inherited__">Dataset</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,x,label</span>):</span><br><span class="line">        self.x,self.label=x,label</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self, idx</span>):</span><br><span class="line">        <span class="keyword">return</span> self.x[idx],self.label[idx]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__len__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(self.x)</span><br></pre></td></tr></table></figure><p>ç„¶åæ˜¯å°†æ•°æ®è½¬åŒ–ä¸º<code>tensor</code>æ ¼å¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">x_t_tensor=torch.from_numpy(x_train_scale).<span class="built_in">float</span>()</span><br><span class="line">y_t_tensor=torch.LongTensor(y_train_xg.to_numpy()).reshape(-<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">y_t_tensor=torch.zeros(y_t_tensor.shape[<span class="number">0</span>],<span class="number">7</span>).scatter_(<span class="number">1</span>, y_t_tensor, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">x_v_tensor=torch.from_numpy(x_val_scale).<span class="built_in">float</span>()</span><br><span class="line">y_v_tensor=torch.torch.LongTensor(y_val_xg.to_numpy()).reshape(-<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">y_v_tensor=torch.zeros(y_v_tensor.shape[<span class="number">0</span>],<span class="number">7</span>).scatter_(<span class="number">1</span>, y_v_tensor, <span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>å†è€…æ˜¯å°†è¿™äº›æ”¾åˆ°æ•°æ®å®¹å™¨ä¸­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">train_DataLoader=DataLoader(</span><br><span class="line">    dataset=MyDataSet(x_t_tensor,y_t_tensor),</span><br><span class="line">    batch_size=<span class="number">64</span>,</span><br><span class="line">    shuffle=<span class="literal">True</span>,</span><br><span class="line">    drop_last=<span class="literal">True</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">test_DataLoader=DataLoader(</span><br><span class="line">    dataset=MyDataSet(x_v_tensor,y_v_tensor),</span><br><span class="line">    batch_size=<span class="number">64</span>,</span><br><span class="line">    shuffle=<span class="literal">True</span>,</span><br><span class="line">    drop_last=<span class="literal">True</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><h4 id="3-2-æ¨¡å‹é€‰æ‹©">3.2 æ¨¡å‹é€‰æ‹©</h4><p>ç›®å‰ï¼Œæˆ‘ä»¬å·²ç»è·å¾—äº†ä¸ƒä¸ªç®€å•çš„ç½‘ç»œã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨ç®€å•çš„ä¸€ç»´æ•°æ®ä¸­ï¼Œå¤šå±‚æ„ŸçŸ¥æœºç†è®ºä¸Šå¯ä»¥æ‹Ÿåˆä»»æ„çš„å‡½æ•°ï¼Œä½†å¦‚æœåŠ å¤§å±‚æ•°ï¼Œç”¨ä¸€äº›é«˜ç»´æ•°æ®çš„tricksï¼Œåè€Œä¸å¤ªèƒ½å¾—åˆ°å¥½çš„ç»“æœã€‚è¿™æ˜¯å› ä¸ºå¤æ‚çš„ç½‘ç»œå…¶å®¹é‡ä¹Ÿä¼šå¢å¤§ï¼Œæƒ³è¦åœ¨å‡½æ•°åŸŸä¸­æ‰¾åˆ°æœ€ä¼˜å‡½æ•°å˜å¾—æ›´åŠ å¤æ‚ï¼Œå¯èƒ½é™·å…¥å±€éƒ¨æœ€ä¼˜è§£</p><p>å†æœ‰ï¼Œä¸€ç»´å·ç§¯ç¥ç»ç½‘ç»œçš„æ€§èƒ½å®é™…ä¸Šåœ¨å°æ ·æœ¬ä¸Šä¼šç•¥ä½äºå…¨è¿æ¥å±‚ï¼Œä¹Ÿä¸å¤ªé€‚åˆåšAttention</p><p>ç½‘ç»œçš„æ€§èƒ½é™¤å´è·Ÿç½‘ç»œç»“æ„æœ¬èº«æœ‰å…³ç³»å¤–ï¼Œä¸»è¦è¿˜æ˜¯ä¸æ•°æ®æŒ‚é’©ã€‚å´æ©è¾¾åœ¨CS229ä¸­è¯´è¿‡ï¼Œæ¨¡å‹åªæ˜¯å»é€¼è¿‘æ•°æ®æ½œåœ¨çš„ä¸Šé™ï¼Œç›®å‰ï¼Œæˆ‘ä»¬æ‹¿å‡ºæ¥åšæ·±åº¦å­¦ä¹ çš„æ•°æ®ä»…ä»…åšè¿‡å‡ ä¸ªç®€å•çš„å¤„ç†ï¼Œå®é™…ä¸Šåç»­å¯ä»¥è€ƒè™‘å°†åšè¿‡ç‰¹å¾å·¥ç¨‹çš„æ•°æ®è¿›è¡Œè®­ç»ƒ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Net</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,in_features=<span class="number">54</span>,n_hidden1=<span class="number">128</span>,n_hidden2=<span class="number">256</span>,out_features=<span class="number">7</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(Net, self).__init__()</span><br><span class="line">        self.flatten=nn.Flatten()</span><br><span class="line">        self.hidden1=nn.Sequential(</span><br><span class="line">            nn.Linear(in_features,n_hidden1,<span class="literal">False</span>),</span><br><span class="line">            nn.BatchNorm1d(n_hidden1),</span><br><span class="line">            nn.ReLU()</span><br><span class="line">        )</span><br><span class="line">        self.hidden2=nn.Sequential(</span><br><span class="line">            nn.Linear(n_hidden1,n_hidden2),</span><br><span class="line">            nn.BatchNorm1d(n_hidden2),</span><br><span class="line">            nn.ReLU()</span><br><span class="line">        )</span><br><span class="line">        self.out=nn.Sequential(nn.Linear(n_hidden2,out_features))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self,x</span>):</span><br><span class="line">        x=self.flatten(x)</span><br><span class="line">        x=self.hidden2(self.hidden1(x))</span><br><span class="line">        <span class="keyword">return</span> F.softmax(self.out(x),dim=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BasicConv1d</span>(nn.Module):</span><br><span class="line">    <span class="comment"># ä¸€ä¸ªConv+Bn+ReLU</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,in_channel,out_channel,kernel,stride,padding=<span class="number">0</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(BasicConv1d, self).__init__()</span><br><span class="line">        self.cbr=nn.Sequential(</span><br><span class="line">            nn.Conv1d(in_channels=in_channel,out_channels=out_channel,kernel_size=kernel,stride=stride,</span><br><span class="line">                      padding=padding),</span><br><span class="line">            nn.BatchNorm1d(out_channel,eps=<span class="number">0.001</span>,momentum=<span class="number">0.1</span>,affine=<span class="literal">True</span>),</span><br><span class="line">            nn.ReLU(inplace=<span class="literal">False</span>)</span><br><span class="line">        )</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self,x</span>):</span><br><span class="line">        <span class="keyword">return</span> self.cbr(x)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸€ä¸ªç®€å•çš„Inceptionæ¨¡å—</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Mixed_5b</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(Mixed_5b, self).__init__()</span><br><span class="line">        self.branch0=BasicConv1d(<span class="number">54</span>,<span class="number">96</span>,kernel=<span class="number">1</span>,stride=<span class="number">1</span>)</span><br><span class="line">        self.branch1=nn.Sequential(</span><br><span class="line">            BasicConv1d(<span class="number">54</span>,<span class="number">48</span>,kernel=<span class="number">1</span>,stride=<span class="number">1</span>),</span><br><span class="line">            BasicConv1d(<span class="number">48</span>,<span class="number">64</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">        )</span><br><span class="line">        self.branch2=nn.Sequential(</span><br><span class="line">            BasicConv1d(<span class="number">54</span>,<span class="number">64</span>,kernel=<span class="number">1</span>,stride=<span class="number">1</span>),</span><br><span class="line">            BasicConv1d(<span class="number">64</span>,<span class="number">96</span>,kernel=<span class="number">3</span>,stride=<span class="number">1</span>,padding=<span class="number">1</span>),</span><br><span class="line">            BasicConv1d(<span class="number">96</span>,<span class="number">96</span>,kernel=<span class="number">3</span>,stride=<span class="number">1</span>,padding=<span class="number">1</span>)</span><br><span class="line">        )</span><br><span class="line">        self.branch3=nn.Sequential(</span><br><span class="line">            BasicConv1d(<span class="number">54</span>,<span class="number">64</span>,<span class="number">1</span>,<span class="number">1</span>),</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        self.linear=nn.Sequential(</span><br><span class="line">            nn.BatchNorm1d(<span class="number">320</span>),</span><br><span class="line">            nn.ReLU(),</span><br><span class="line">            nn.Flatten(),</span><br><span class="line">            nn.Dropout(<span class="number">0.5</span>),</span><br><span class="line">            nn.Linear(<span class="number">320</span>,<span class="number">256</span>),</span><br><span class="line">            nn.BatchNorm1d(<span class="number">256</span>),</span><br><span class="line">            nn.ReLU(),</span><br><span class="line">            nn.Linear(<span class="number">256</span>,<span class="number">7</span>),</span><br><span class="line">            nn.Softmax(dim=<span class="number">1</span>)</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self,x</span>):</span><br><span class="line">        x = x.view(x.size(<span class="number">0</span>),x.size(<span class="number">1</span>),<span class="number">1</span>)</span><br><span class="line">        x0=self.branch0(x)</span><br><span class="line">        x1=self.branch1(x)</span><br><span class="line">        x2=self.branch2(x)</span><br><span class="line">        x3=self.branch3(x)</span><br><span class="line">        out=torch.cat((x0,x1,x2,x3),<span class="number">1</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> self.linear(out)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Block35</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,scale=<span class="number">1.0</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(Block35,self).__init__()</span><br><span class="line">        self.scale=scale</span><br><span class="line">        self.branch0=BasicConv1d(<span class="number">54</span>,<span class="number">32</span>,kernel=<span class="number">1</span>,stride=<span class="number">1</span>)</span><br><span class="line">        self.branch1=nn.Sequential(</span><br><span class="line">            BasicConv1d(<span class="number">54</span>,<span class="number">32</span>,<span class="number">1</span>,<span class="number">1</span>),</span><br><span class="line">            BasicConv1d(<span class="number">32</span>,<span class="number">32</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">        )</span><br><span class="line">        self.branch2=nn.Sequential(</span><br><span class="line">            BasicConv1d(<span class="number">54</span>,<span class="number">32</span>,<span class="number">1</span>,<span class="number">1</span>),</span><br><span class="line">            BasicConv1d(<span class="number">32</span>,<span class="number">48</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">1</span>),</span><br><span class="line">            BasicConv1d(<span class="number">48</span>,<span class="number">64</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">        )</span><br><span class="line">        self.conv1d=nn.Conv1d(<span class="number">128</span>,<span class="number">54</span>,kernel_size=<span class="number">1</span>,stride=<span class="number">1</span>)</span><br><span class="line">        self.relu=nn.ReLU(inplace=<span class="literal">False</span>)</span><br><span class="line">        self.Linear=nn.Sequential(</span><br><span class="line">            nn.Flatten(),</span><br><span class="line">            nn.Linear(<span class="number">54</span>,<span class="number">256</span>,<span class="number">1</span>),</span><br><span class="line">            nn.BatchNorm1d(<span class="number">256</span>),</span><br><span class="line">            nn.ReLU(),</span><br><span class="line">            nn.Linear(<span class="number">256</span>,<span class="number">7</span>,<span class="number">1</span>)</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self,x</span>):</span><br><span class="line">        x = x.view(x.size(<span class="number">0</span>),x.size(<span class="number">1</span>),<span class="number">1</span>)</span><br><span class="line">        x0,x1,x2=self.branch0(x),self.branch1(x),self.branch2(x)</span><br><span class="line">        out=torch.cat((x0,x1,x2),<span class="number">1</span>)</span><br><span class="line">        out=self.conv1d(out)</span><br><span class="line">        out=out*self.scale+x</span><br><span class="line">        out=self.relu(out)</span><br><span class="line">        <span class="keyword">return</span> F.softmax(self.Linear(out),dim=<span class="number">1</span>)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Net2</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(Net2, self).__init__()</span><br><span class="line">        self.conv1=nn.Conv1d(<span class="number">54</span>,<span class="number">128</span>,<span class="number">1</span>)</span><br><span class="line">        self.conv2=nn.Conv1d(<span class="number">54</span>,<span class="number">128</span>,<span class="number">1</span>)</span><br><span class="line">        self.conv3=nn.Conv1d(<span class="number">54</span>,<span class="number">128</span>,<span class="number">1</span>)</span><br><span class="line">        self.re=nn.ReLU()</span><br><span class="line">        self.bn1=nn.BatchNorm1d(<span class="number">128</span>)</span><br><span class="line">        </span><br><span class="line">        self.Conv=nn.Sequential(</span><br><span class="line">            nn.ReLU(),</span><br><span class="line">            nn.Conv1d(<span class="number">128</span>, <span class="number">164</span>,<span class="number">1</span>,<span class="number">1</span>),</span><br><span class="line">            nn.BatchNorm1d(<span class="number">164</span>),</span><br><span class="line">            nn.ReLU(),</span><br><span class="line">            nn.Conv1d(<span class="number">164</span>, <span class="number">128</span>,<span class="number">1</span>,<span class="number">1</span>),</span><br><span class="line">            nn.Dropout(<span class="number">0.5</span>),</span><br><span class="line">            nn.BatchNorm1d(<span class="number">128</span>),</span><br><span class="line">            nn.ReLU()</span><br><span class="line">        )</span><br><span class="line">        self.fl=nn.Flatten()</span><br><span class="line">        self.Linear=nn.Sequential(</span><br><span class="line"></span><br><span class="line">            nn.Linear(<span class="number">128</span>, <span class="number">256</span>),</span><br><span class="line">            nn.Dropout(<span class="number">0.5</span>),</span><br><span class="line">            nn.BatchNorm1d(<span class="number">256</span>),</span><br><span class="line">            nn.LeakyReLU(),</span><br><span class="line">            nn.Linear(<span class="number">256</span>, <span class="number">128</span>),</span><br><span class="line">            nn.BatchNorm1d(<span class="number">128</span>),</span><br><span class="line">            nn.ReLU(),</span><br><span class="line">            nn.Linear(<span class="number">128</span>, <span class="number">7</span>),</span><br><span class="line">            nn.Softmax(dim=<span class="number">1</span>)</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self,x</span>):</span><br><span class="line">        x = x.view(x.size(<span class="number">0</span>),x.size(<span class="number">1</span>),<span class="number">1</span>)</span><br><span class="line">        x1=self.conv1(x)</span><br><span class="line">        x3=self.conv3(x)</span><br><span class="line">        x2=self.conv2(x)</span><br><span class="line">        x=self.re(self.bn1(x1+x2+x3))</span><br><span class="line">        x=self.Conv(x)</span><br><span class="line">        x=self.fl(x)</span><br><span class="line">        </span><br><span class="line">    </span><br><span class="line">        </span><br><span class="line">       </span><br><span class="line">        <span class="keyword">return</span> self.Linear(x)</span><br><span class="line">    </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Net3</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,in_features=<span class="number">54</span>,n_hidden1=<span class="number">128</span>,n_hidden2=<span class="number">256</span>,n_hidden3=<span class="number">512</span>,out_features=<span class="number">7</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(Net3, self).__init__()</span><br><span class="line">        self.flatten=nn.Flatten()</span><br><span class="line">        self.hidden1=nn.Sequential(</span><br><span class="line">            nn.Linear(in_features,n_hidden1,<span class="literal">False</span>),</span><br><span class="line">            nn.BatchNorm1d(n_hidden1),</span><br><span class="line">            nn.ReLU()</span><br><span class="line">        )</span><br><span class="line">        self.hidden2=nn.Sequential(</span><br><span class="line">            nn.Linear(n_hidden1,n_hidden2),</span><br><span class="line">            nn.BatchNorm1d(n_hidden2),</span><br><span class="line">            nn.ReLU()</span><br><span class="line">        )</span><br><span class="line">        self.hidden3=nn.Sequential(</span><br><span class="line">            nn.Linear(n_hidden2,n_hidden3),</span><br><span class="line">            nn.BatchNorm1d(n_hidden3),</span><br><span class="line">            nn.ReLU()</span><br><span class="line">        )</span><br><span class="line">        self.out=nn.Sequential(nn.Linear(n_hidden3,out_features))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self,x</span>):</span><br><span class="line">        x=self.flatten(x)</span><br><span class="line">        x=self.hidden2(self.hidden1(x))</span><br><span class="line">        x=self.hidden3(x)</span><br><span class="line">        <span class="keyword">return</span> F.softmax(self.out(x),dim=<span class="number">1</span>)</span><br><span class="line">    </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Net4</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,in_features=<span class="number">54</span>,n_hidden1=<span class="number">128</span>,n_hidden2=<span class="number">256</span>,n_hidden3=<span class="number">512</span>,out_features=<span class="number">7</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(Net4, self).__init__()</span><br><span class="line">        self.flatten=nn.Flatten()</span><br><span class="line">        self.hidden1=nn.Sequential(</span><br><span class="line">            nn.Linear(in_features,n_hidden1,<span class="literal">False</span>),</span><br><span class="line">            nn.BatchNorm1d(n_hidden1),</span><br><span class="line">            nn.ReLU()</span><br><span class="line">        )</span><br><span class="line">        self.hidden2=nn.Sequential(</span><br><span class="line">            nn.Linear(in_features,n_hidden2),</span><br><span class="line">            nn.BatchNorm1d(n_hidden2),</span><br><span class="line">            nn.ReLU()</span><br><span class="line">        )</span><br><span class="line">        self.hidden3=nn.Sequential(</span><br><span class="line">            nn.Linear(n_hidden1+n_hidden2,n_hidden3),</span><br><span class="line">            nn.BatchNorm1d(n_hidden3),</span><br><span class="line">            nn.ReLU()</span><br><span class="line">        )</span><br><span class="line">        self.out=nn.Sequential(nn.Linear(n_hidden3,out_features))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self,x</span>):</span><br><span class="line">        x=self.flatten(x)</span><br><span class="line">        x1=self.hidden1(x)</span><br><span class="line">        x2=self.hidden2(x)</span><br><span class="line">        x=self.hidden3(torch.concat([x1,x2],dim=<span class="number">1</span>))</span><br><span class="line">        <span class="keyword">return</span> F.softmax(self.out(x),dim=<span class="number">1</span>)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Net5</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,in_features=<span class="number">54</span>,n_hidden1=<span class="number">54</span>,n_hidden2=<span class="number">256</span>,n_hidden3=<span class="number">512</span>,out_features=<span class="number">7</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(Net5, self).__init__()</span><br><span class="line">        self.flatten=nn.Flatten()</span><br><span class="line">        self.hidden1=nn.Sequential(</span><br><span class="line">            nn.Linear(in_features,n_hidden1,<span class="literal">False</span>),</span><br><span class="line">            nn.BatchNorm1d(n_hidden1),</span><br><span class="line">            nn.ReLU()</span><br><span class="line">        )</span><br><span class="line">        self.hidden2=nn.Sequential(</span><br><span class="line">            nn.Linear(in_features,n_hidden2),</span><br><span class="line">            nn.BatchNorm1d(n_hidden2),</span><br><span class="line">            nn.ReLU()</span><br><span class="line">        )</span><br><span class="line">        self.hidden3=nn.Sequential(</span><br><span class="line">            nn.Linear(n_hidden2,n_hidden2),</span><br><span class="line">            nn.BatchNorm1d(n_hidden2),</span><br><span class="line">            nn.ReLU()</span><br><span class="line">        )</span><br><span class="line">        self.hidden4=nn.Sequential(</span><br><span class="line">            nn.Linear(n_hidden2,n_hidden3),</span><br><span class="line">            nn.BatchNorm1d(n_hidden3),</span><br><span class="line">            nn.ReLU(),</span><br><span class="line"></span><br><span class="line">        )</span><br><span class="line">        self.out=nn.Sequential(nn.Linear(n_hidden3,out_features))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self,x</span>):</span><br><span class="line">        x=self.flatten(x)</span><br><span class="line">        x1=self.hidden1(x)</span><br><span class="line">        x2=self.hidden2(x+x1)</span><br><span class="line">        x3=self.hidden3(x2)</span><br><span class="line">        o=self.hidden4(x3+x2)</span><br><span class="line">        <span class="keyword">return</span> F.softmax(self.out(o),dim=<span class="number">1</span>)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Net6</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,in_features=<span class="number">54</span>,n_hidden1=<span class="number">54</span>,n_hidden2=<span class="number">512</span>,n_hidden3=<span class="number">1024</span>,out_features=<span class="number">7</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(Net6, self).__init__()</span><br><span class="line">        self.flatten=nn.Flatten()</span><br><span class="line">        self.hidden1=nn.Sequential(</span><br><span class="line">            nn.Linear(in_features,n_hidden1,<span class="literal">False</span>),</span><br><span class="line">            nn.BatchNorm1d(n_hidden1),</span><br><span class="line">            nn.ReLU()</span><br><span class="line">        )</span><br><span class="line">        self.hidden2=nn.Sequential(</span><br><span class="line">            nn.Linear(in_features,n_hidden1),</span><br><span class="line">            nn.Dropout(<span class="number">0.5</span>),</span><br><span class="line">            nn.BatchNorm1d(n_hidden1),</span><br><span class="line">            nn.ReLU()</span><br><span class="line">        )</span><br><span class="line">        self.hidden3=nn.Sequential(</span><br><span class="line">            nn.Linear(in_features,n_hidden2),</span><br><span class="line">            nn.BatchNorm1d(n_hidden2),</span><br><span class="line">            nn.ReLU()</span><br><span class="line">        )</span><br><span class="line">        self.hidden5=nn.Sequential(</span><br><span class="line">            nn.Linear(n_hidden2,n_hidden3),</span><br><span class="line">            nn.BatchNorm1d(n_hidden3),</span><br><span class="line">            nn.ReLU()</span><br><span class="line">        )</span><br><span class="line">        self.out=nn.Sequential(nn.Linear(n_hidden3,out_features))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self,x</span>):</span><br><span class="line">        x=self.flatten(x)</span><br><span class="line">        x1=self.hidden1(x)</span><br><span class="line">        x2=self.hidden2(x)</span><br><span class="line">        x3=self.hidden3(x2+x1+x)</span><br><span class="line"></span><br><span class="line">        o=self.hidden5(x3)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> F.softmax(self.out(o),dim=<span class="number">1</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="3-3-è®­ç»ƒé˜¶æ®µ">3.3 è®­ç»ƒé˜¶æ®µ</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">Net_train_loss=[]</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">train</span>(<span class="params">model,seed,epoch=<span class="number">200</span></span>):</span><br><span class="line">    <span class="keyword">global</span> Net_train_loss</span><br><span class="line">    <span class="comment"># è¿™è¾¹ç»Ÿä¸€ç”¨äº¤å‰ç†µå’Œè‡ªé€‚åº”è·ä¼°è®¡ä¼˜åŒ–å™¨</span></span><br><span class="line">    path=<span class="string">r&quot;YourPath\%s.pth&quot;</span>%seed</span><br><span class="line">    criterion=nn.CrossEntropyLoss()</span><br><span class="line">    optimizer=torch.optim.Adam(model.parameters(),lr=<span class="number">1e-4</span>,betas=(<span class="number">0.9</span>,<span class="number">0.99</span>),</span><br><span class="line">                               eps=<span class="number">1e-08</span>,weight_decay=<span class="number">0</span>)</span><br><span class="line">    device=<span class="string">&quot;cuda&quot;</span> <span class="keyword">if</span> torch.cuda.is_available() <span class="keyword">else</span> <span class="string">&quot;cpu&quot;</span></span><br><span class="line">    model.to(device)</span><br><span class="line">    criterion.to(device)</span><br><span class="line">    Loss=[]</span><br><span class="line">    Acc=[]</span><br><span class="line">    ELoss=[]</span><br><span class="line">    EAcc=[]</span><br><span class="line">    BEST_ACC=<span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> e <span class="keyword">in</span> <span class="built_in">range</span>(epoch):</span><br><span class="line">        train_loss = <span class="number">0</span></span><br><span class="line">        train_acc=<span class="number">0</span></span><br><span class="line">        model.train()</span><br><span class="line">        <span class="keyword">with</span> alive_progress.alive_bar(<span class="built_in">len</span>(train_DataLoader),force_tty=<span class="literal">True</span>) <span class="keyword">as</span> bar:</span><br><span class="line">            <span class="keyword">for</span> idx,(x,y) <span class="keyword">in</span> <span class="built_in">enumerate</span>(train_DataLoader):</span><br><span class="line">                x,y=x.to(device),y.to(device)</span><br><span class="line">                y_pre=model(x)</span><br><span class="line"></span><br><span class="line">                optimizer.zero_grad()</span><br><span class="line">                loss=criterion(y,y_pre)</span><br><span class="line">                loss.backward()</span><br><span class="line">                optimizer.step()</span><br><span class="line"></span><br><span class="line">                train_loss+=loss.item()</span><br><span class="line">                _,pre=y_pre.<span class="built_in">max</span>(<span class="number">1</span>)</span><br><span class="line">    </span><br><span class="line">                num_correct=(pre.to(<span class="string">&quot;cpu&quot;</span>)==np.argmax(y.to(<span class="string">&quot;cpu&quot;</span>),axis=<span class="number">1</span>)).<span class="built_in">sum</span>().item()</span><br><span class="line">                acc=num_correct/x.shape[<span class="number">0</span>]</span><br><span class="line">                train_acc+=acc</span><br><span class="line">                bar()</span><br><span class="line">        <span class="keyword">if</span> (k:=train_acc/<span class="built_in">len</span>(train_DataLoader))&gt;BEST_ACC:</span><br><span class="line">            BEST_ACC=k</span><br><span class="line">            </span><br><span class="line">            state = &#123;</span><br><span class="line">                <span class="string">&#x27;epoch&#x27;</span>: e,</span><br><span class="line">                <span class="string">&#x27;best_acc&#x27;</span>: k,</span><br><span class="line">                <span class="string">&#x27;model_state_dict&#x27;</span>: model.state_dict(),</span><br><span class="line">                <span class="string">&#x27;optimizer_state_dict&#x27;</span>: optimizer.state_dict(),</span><br><span class="line">            &#125;</span><br><span class="line">            torch.save(state, path)</span><br><span class="line">        Loss.append(train_loss/<span class="built_in">len</span>(train_DataLoader))</span><br><span class="line">        Acc.append(train_acc/<span class="built_in">len</span>(train_DataLoader))</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;epoch : <span class="subst">&#123;e+<span class="number">1</span>&#125;</span> / <span class="subst">&#123;epoch&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;Train Loss : <span class="subst">&#123;train_loss/<span class="built_in">len</span>(train_DataLoader)&#125;</span>, Train Acc : <span class="subst">&#123;train_acc/<span class="built_in">len</span>(train_DataLoader)&#125;</span>&quot;</span>)</span><br><span class="line">    Net_train_loss.append(Acc)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">net1=Net()</span><br><span class="line">train(net1,<span class="string">&quot;Net1&quot;</span>)</span><br><span class="line"></span><br><span class="line">net2=Mixed_5b()</span><br><span class="line">train(net2,<span class="string">&quot;Net2&quot;</span>)</span><br><span class="line"></span><br><span class="line">net3=Net3()</span><br><span class="line">train(net3,<span class="string">&quot;Net3&quot;</span>)</span><br><span class="line"></span><br><span class="line">net4=Block35()</span><br><span class="line">train(net4,<span class="string">&quot;Net4&quot;</span>)</span><br><span class="line"></span><br><span class="line">net5=Net4()</span><br><span class="line">train(net5,<span class="string">&quot;Net5&quot;</span>)</span><br><span class="line"></span><br><span class="line">net6=Net5()</span><br><span class="line">train(net6,<span class="string">&quot;Net6&quot;</span>)</span><br><span class="line"></span><br><span class="line">net7=Net6()</span><br><span class="line">train(net7,<span class="string">&quot;Net7&quot;</span>)</span><br></pre></td></tr></table></figure><p>è®­ç»ƒç»“æŸåï¼Œæˆ‘ä»¬å°±å¯ä»¥è½½å…¥æ¨¡å‹çš„å‚æ•°å’Œç»“æœå•¦ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŠ è½½æœ€ä¼˜å‚æ•°</span></span><br><span class="line">Nets=[net1,net2,net3,net4,net5,net6,net7]</span><br><span class="line">BestAcc=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">8</span>):</span><br><span class="line">    checkpoint=torch.load(<span class="string">r&quot;YourPath\Net%s.pth&quot;</span>%i)</span><br><span class="line">    Nets[i-<span class="number">1</span>].load_state_dict(checkpoint[<span class="string">&quot;model_state_dict&quot;</span>])</span><br><span class="line">    BestAcc.append(checkpoint[<span class="string">&quot;best_acc&quot;</span>])</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹å»è®¡ç®—åœ¨éªŒè¯é›†ä¸Šçš„ç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">pre=[]</span><br><span class="line">eval_acc=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> Nets:</span><br><span class="line">    i.<span class="built_in">eval</span>()</span><br><span class="line">    i.to(<span class="string">&quot;cpu&quot;</span>)</span><br><span class="line">    net_pre=i(x_v_tensor)</span><br><span class="line">    eval_acc.append(accuracy(torch.<span class="built_in">max</span>(net_pre,<span class="number">1</span>)[<span class="number">1</span>],y_v_tensor.argmax(<span class="number">1</span>)).item())</span><br><span class="line">    <span class="keyword">if</span> pre==[]:</span><br><span class="line">        pre=net_pre</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        pre+=net_pre</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æŸ¥çœ‹éªŒè¯é›†å’Œè®­ç»ƒé›†ç²¾åº¦å˜åŒ–æƒ…å†µ</span></span><br><span class="line">b=Bar()</span><br><span class="line">b.add_xaxis([<span class="string">&quot;Net%i&quot;</span>%i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">8</span>)])</span><br><span class="line">b.add_yaxis(<span class="string">&quot;Train Acc&quot;</span>,[<span class="built_in">round</span>(i,<span class="number">3</span>) <span class="keyword">for</span> i <span class="keyword">in</span> BestAcc])</span><br><span class="line">b.add_yaxis(<span class="string">&quot;Val Acc&quot;</span>,[<span class="built_in">round</span>(i,<span class="number">3</span>) <span class="keyword">for</span> i <span class="keyword">in</span> eval_acc])</span><br><span class="line">b.set_series_opts(markpoint_opts=opts.MarkPointOpts(</span><br><span class="line">        data=[opts.MarkPointItem(type_=<span class="string">&quot;max&quot;</span>, name=<span class="string">&quot;æœ€å¤§å€¼&quot;</span>),  <span class="comment">##è®¾ç½®æœ€å¤§å€¼ æ ‡è®°</span></span><br><span class="line">              opts.MarkPointItem(type_=<span class="string">&quot;min&quot;</span>, name=<span class="string">&quot;æœ€å°å€¼&quot;</span>),  <span class="comment"># è®¾ç½®æœ€å°å€¼æ ‡è®°</span></span><br><span class="line">              ], symbol=<span class="string">&#x27;pin&#x27;</span>, symbol_size=<span class="number">60</span>), markline_opts=opts.MarkLineOpts(</span><br><span class="line">        data=[opts.MarkLineItem(type_=<span class="string">&quot;average&quot;</span>, name=<span class="string">&quot;å¹³å‡å€¼&quot;</span>)]</span><br><span class="line">    ))</span><br><span class="line">b.render_notebook()</span><br></pre></td></tr></table></figure><img src="https://github.com/Chen-XiaoLv/ML-in-Geochemistry/raw/master/READEME/image-20230703010331579.png" alt="image-20230703010331579" style="zoom:50%;"><p>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨éªŒè¯é›†ä¸Šï¼Œæ¨¡å‹çš„æ€§èƒ½æœ‰æ‰€ä¸‹é™ï¼Œè¿™æ˜¯ç”±äºåŸæœ¬çš„æ¨¡å‹å¯¹äºè®­ç»ƒé›†å‘ç”Ÿäº†è¿‡æ‹Ÿåˆç°è±¡ã€‚Net1å®é™…ä¸Šæ˜¯æœ€ç®€å•çš„äºŒå±‚å…¨è¿æ¥å±‚ï¼Œå°½ç®¡å®ƒçš„è®­ç»ƒé€Ÿåº¦æœ€å¿«ï¼Œå‚æ•°æœ€å°‘ï¼Œåœ¨è®­ç»ƒé›†ä¸Šè¡¨ç°è‰¯å¥½ï¼Œä½†å…¶æ³›åŒ–èƒ½åŠ›è¿œä¸å¦‚å…¶ä»–æ¨¡å‹ã€‚è€ŒNet2åˆ™å¯¹éªŒè¯é›†çš„è¡¨ç°è‰¯å¥½ã€‚</p><p>æ€»ä½“æ¥è¯´ï¼Œæ¨¡å‹åœ¨éªŒè¯é›†ä¸Šçš„å¹³å‡ç²¾åº¦ç•¥å¾®ä¸‹é™ã€‚</p><h2 id="äº”-æ¨¡å‹èåˆ">äº” æ¨¡å‹èåˆ</h2><p>æ¨¡å‹èåˆé€šè¿‡æå‡ç‰¹å¾å¤šæ ·æ€§ã€æ ·æœ¬å¤šæ ·æ€§å’Œæ¨¡æ€å¤šæ ·æ€§ï¼Œå¯ä»¥è¿›ä¸€æ­¥å¢åŠ æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›å’Œé²æ£’æ€§ã€‚</p><p>æ ¹æ®æ–¹æ³•çš„ä¸åŒï¼Œå¯ä»¥åˆ†ä¸ºè¿‡ç¨‹èåˆå’Œç»“æœèåˆã€‚</p><p><strong>è¿‡ç¨‹èåˆğŸ‰</strong></p><p>è¿‡ç¨‹èåˆæœ€åŸºæœ¬çš„æœ‰Baggingå’ŒBoostingï¼ŒBaggingå°±æ˜¯å¤šä¸ªå¼±åˆ†ç±»å™¨å †å åœ¨ä¸€èµ·ï¼ŒBoostingå°±æ˜¯åŸºäºå¼±åˆ†ç±»å™¨åˆ†é”™çš„ç»“æœè¾“å…¥åä¸€ä¸ªåˆ†ç±»å™¨ä¸­ï¼Œä»è€Œå®ç°å¼±æ¨¡å‹åª²ç¾å¼ºæ¨¡å‹çš„è¿‡ç¨‹ã€‚</p><p><strong>ç»“æœèåˆğŸŒ</strong></p><p>ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•</p><ul><li>åŠ æƒæ³•</li><li>stacking</li><li>Blending</li></ul><p>æˆ‘ä»¬è¿™è¾¹ä½¿ç”¨ç»“æœèåˆï¼Œé€šè¿‡å°è¯•ç›´æ¥å åŠ æ³•ã€è½¯æŠ•ç¥¨æ³•å’ŒStackingæ–¹å¼ï¼Œåˆ†æå¹¶ç»™å‡ºä¸€ä¸ªç›¸å¯¹è¾ƒå¥½çš„ç»“æœ</p><h3 id="1-çº¿æ€§èåˆ">1 çº¿æ€§èåˆ</h3><h4 id="1-1-æŠ•ç¥¨æ³•">1.1 æŠ•ç¥¨æ³•</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">z_1=accuracy(torch.<span class="built_in">max</span>(pre,<span class="number">1</span>)[<span class="number">1</span>],y_v_tensor.argmax(<span class="number">1</span>)).item() <span class="comment"># ç›´æ¥æŠ•ç¥¨</span></span><br></pre></td></tr></table></figure><h4 id="2-2-åŠ æƒæŠ•ç¥¨">2.2 åŠ æƒæŠ•ç¥¨</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç»“æœåŠ æƒæŠ•ç¥¨</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">vote</span>(<span class="params">weight</span>):</span><br><span class="line">    pre_1=[]</span><br><span class="line">    <span class="keyword">for</span> _,i <span class="keyword">in</span> <span class="built_in">enumerate</span>(Nets):</span><br><span class="line">        i.<span class="built_in">eval</span>()</span><br><span class="line">        i.to(<span class="string">&quot;cpu&quot;</span>)</span><br><span class="line">        net_pre=i(x_v_tensor)*weight[_]</span><br><span class="line">        <span class="keyword">if</span> pre_1==[]:</span><br><span class="line">            pre_1=net_pre</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            pre_1+=net_pre</span><br><span class="line">    <span class="keyword">return</span> pre_1</span><br><span class="line"></span><br><span class="line">z_2=accuracy(torch.<span class="built_in">max</span>(vote(eval_acc),<span class="number">1</span>)[<span class="number">1</span>],y_v_tensor.argmax(<span class="number">1</span>)).item()</span><br></pre></td></tr></table></figure><h4 id="2-3-è½¯æŠ•ç¥¨">2.3 è½¯æŠ•ç¥¨</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŸºäºSoftmaxæŠ•ç¥¨</span></span><br><span class="line">k=<span class="built_in">sum</span>([np.exp(i) <span class="keyword">for</span> i <span class="keyword">in</span> eval_acc])</span><br><span class="line">sm=[np.exp(i)/k <span class="keyword">for</span> i <span class="keyword">in</span> eval_acc]</span><br><span class="line">z_3=accuracy(torch.<span class="built_in">max</span>(vote(sm),<span class="number">1</span>)[<span class="number">1</span>],y_v_tensor.argmax(<span class="number">1</span>)).item()</span><br></pre></td></tr></table></figure><h3 id="2-Stacking">2 Stacking</h3><p>å°†å¤šä¸ªåˆ†ç±»å™¨çš„æ¦‚ç‡ç»“æœä½œä¸ºä¸€ä¸ªç®€å•åˆ†ç±»å™¨çš„è¾“å…¥ï¼Œç»è¿‡è¯¥åˆ†ç±»å™¨è¿›è¡Œè¾“å‡ºï¼Œæˆ‘ä»¬è¿™è¾¹æ‰§è¡Œä¸¤ç§æ–¹æ³•ï¼š</p><ul><li>æ•°å€¼å åŠ </li><li>ç‰¹å¾å åŠ </li></ul><p>ç®€å•åˆ†ç±»å™¨é€‰æ‹©ä¸€ä¸ªç®€å•çš„NN</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">NN</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,in_channel=<span class="number">7</span>,out_channel=<span class="number">7</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(NN, self).__init__()</span><br><span class="line">        self.hidden=nn.Sequential(</span><br><span class="line">            nn.Linear(in_channel,<span class="number">128</span>),</span><br><span class="line">            nn.BatchNorm1d(<span class="number">128</span>),</span><br><span class="line">            nn.ReLU(),</span><br><span class="line">            nn.Linear(<span class="number">128</span>,<span class="number">256</span>),</span><br><span class="line">            nn.BatchNorm1d(<span class="number">256</span>),</span><br><span class="line">            nn.ReLU(),</span><br><span class="line">            nn.Linear(<span class="number">256</span>,<span class="number">648</span>),</span><br><span class="line">            nn.BatchNorm1d(<span class="number">648</span>),</span><br><span class="line">            nn.Dropout(<span class="number">0.2</span>),</span><br><span class="line">            nn.ReLU(),</span><br><span class="line">            nn.Linear(<span class="number">648</span>,<span class="number">7</span>)</span><br><span class="line">        )</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self,x</span>):</span><br><span class="line">        <span class="keyword">return</span> F.softmax(self.hidden(x))</span><br></pre></td></tr></table></figure><h4 id="2-1-æ•°å€¼å åŠ ">2.1 æ•°å€¼å åŠ </h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ•°å€¼å åŠ </span></span><br><span class="line">input_data=[]</span><br><span class="line"><span class="keyword">for</span> _,i <span class="keyword">in</span> <span class="built_in">enumerate</span>(Nets):</span><br><span class="line">    i.<span class="built_in">eval</span>()</span><br><span class="line">    i.to(<span class="string">&quot;cpu&quot;</span>)</span><br><span class="line">    net_pre=i(x_t_tensor)</span><br><span class="line">    <span class="keyword">if</span> input_data==[]:</span><br><span class="line">        input_data=net_pre</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        input_data+=net_pre</span><br><span class="line">x=input_data.tolist()</span><br><span class="line">input_data=torch.tensor(x)</span><br><span class="line">input_data.shape</span><br></pre></td></tr></table></figure><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œé€šè¿‡<code>tolist()</code>æ¥å›è½¬æ¢å˜æ¢å†…å­˜åœ°å€ï¼Œå¦åˆ™<code>torch</code>åœ¨åå‘ä¼ æ’­æ‰§è¡Œè®¡ç®—å›¾æ—¶ä¼šæŠŠä¸Šé¢é‚£æ®µä»£ç ä¹Ÿç®—è¿›å»ï¼Œå¯¼è‡´æŠ¥é”™ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ•°æ®é›†</span></span><br><span class="line">stackingData=DataLoader(MyDataSet(input_data.<span class="built_in">float</span>(),y_t_tensor),batch_size=<span class="number">64</span>,shuffle=<span class="literal">True</span>,drop_last=<span class="literal">True</span>)</span><br><span class="line"><span class="comment"># æ¨¡å‹</span></span><br><span class="line">net_s_1=NN(<span class="number">7</span>,<span class="number">7</span>)</span><br><span class="line"><span class="comment"># è®­ç»ƒ</span></span><br><span class="line">train(net_s_1,<span class="string">&quot;Net_S_1&quot;</span>,n=stackingData,epoch=<span class="number">50</span>)</span><br><span class="line"><span class="comment"># è½½å…¥</span></span><br><span class="line">net_s_1.load_state_dict(torch.load(<span class="string">r&quot;YourPath\Net_S_1.pth&quot;</span>)[<span class="string">&quot;model_state_dict&quot;</span>])</span><br><span class="line">net_s_1.to(<span class="string">&quot;cpu&quot;</span>)</span><br><span class="line"><span class="comment"># é¢„æµ‹ç»“æœ</span></span><br><span class="line">z_4=accuracy(torch.<span class="built_in">max</span>(net_s_1(pre),<span class="number">1</span>)[<span class="number">1</span>],y_v_tensor.<span class="built_in">max</span>(<span class="number">1</span>)[<span class="number">1</span>]).item()</span><br></pre></td></tr></table></figure><h4 id="2-2-ç‰¹å¾å åŠ ">2.2 ç‰¹å¾å åŠ </h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç‰¹å¾å åŠ </span></span><br><span class="line">input_data=[]</span><br><span class="line"><span class="keyword">for</span> _,i <span class="keyword">in</span> <span class="built_in">enumerate</span>(Nets):</span><br><span class="line">    i.<span class="built_in">eval</span>()</span><br><span class="line">    i.to(<span class="string">&quot;cpu&quot;</span>)</span><br><span class="line">    net_pre=i(x_t_tensor)</span><br><span class="line">    <span class="keyword">if</span> input_data==[]:</span><br><span class="line">        input_data=net_pre</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        input_data=torch.concat([input_data,net_pre],<span class="number">1</span>)</span><br><span class="line">x=input_data.tolist()</span><br><span class="line">input_data=torch.tensor(x)</span><br><span class="line">input_data.shape</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">stackingData=DataLoader(MyDataSet(input_data.<span class="built_in">float</span>(),y_t_tensor),batch_size=<span class="number">64</span>,shuffle=<span class="literal">True</span>,drop_last=<span class="literal">True</span>)</span><br><span class="line">net_s_2=NN(<span class="number">49</span>,<span class="number">7</span>)</span><br><span class="line">train(net_s_2,<span class="string">&quot;Net_S_2&quot;</span>,n=stackingData,epoch=<span class="number">200</span>)</span><br><span class="line">net_s_2.load_state_dict(torch.load(<span class="string">r&quot;YourPath\Net_S_2.pth&quot;</span>)[<span class="string">&quot;model_state_dict&quot;</span>])</span><br><span class="line">net_s_2.to(<span class="string">&quot;cpu&quot;</span>)</span><br><span class="line">z_5=accuracy(torch.<span class="built_in">max</span>(net_s_1(pre),<span class="number">1</span>)[<span class="number">1</span>],y_v_tensor.<span class="built_in">max</span>(<span class="number">1</span>)[<span class="number">1</span>]).item()</span><br></pre></td></tr></table></figure><h3 id="3-ç»“æœåˆ†æ">3 ç»“æœåˆ†æ</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">b=Line()</span><br><span class="line">b.add_xaxis([<span class="string">&quot;ç›´æ¥æŠ•ç¥¨&quot;</span>,<span class="string">&quot;ç»“æœåˆ†é…æŠ•ç¥¨&quot;</span>,<span class="string">&quot;Softmaxè½¯æŠ•ç¥¨&quot;</span>,<span class="string">&quot;æ•°æ®å åŠ &quot;</span>,<span class="string">&quot;ç‰¹å¾å åŠ &quot;</span>])</span><br><span class="line">b.add_yaxis(<span class="string">&quot;ç»“æœç²¾åº¦&quot;</span>,[<span class="built_in">round</span>(i,<span class="number">5</span>) <span class="keyword">for</span> i <span class="keyword">in</span> [z_1,z_2,z_3,z_4,z_5]])</span><br><span class="line">b.set_global_opts(yaxis_opts=opts.AxisOpts(min_=<span class="string">&quot;dataMin&quot;</span>,max_=<span class="string">&quot;dataMax&quot;</span>))</span><br><span class="line">b.render_notebook()</span><br></pre></td></tr></table></figure><img src="https://github.com/Chen-XiaoLv/ML-in-Geochemistry/raw/master/READEME/image-20230703011113022.png" alt="image-20230703011113022" style="zoom:50%;"><p>ä¹‹å‰å•æ¨¡åœ¨éªŒè¯é›†ä¸Šæœ€é«˜çš„0.888ï¼Œå¹³å‡æ˜¯0.86ï¼Œç‰¹å¾å åŠ çš„ç»“æœä¼šä¼˜äºä¹‹å‰å•æ¨¡æœ€å¥½ç»“æœã€‚</p><p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œç‰¹å¾å åŠ çš„æ–¹æ³•åœ¨è®­ç»ƒé›†ä¸Šæœ€é«˜æ€§èƒ½è¾¾åˆ°äº†0.93ï¼Œè¿™ä¸ªç»“æœè¿œè¶…ä¹‹å‰å•æ¨¡çš„æœ€å¥½ç»“æœ0.894ã€‚å½“ç„¶ï¼Œç”¨æ·±åº¦å­¦ä¹ ç½‘ç»œä½œä¸ºè¾“å‡ºåˆ†ç±»å™¨ï¼Œé«˜æ”¶ç›Šçš„åŒæ—¶ä¹Ÿå¸¦æ¥äº†é«˜é£é™©ï¼Œæ ¹æ®è¾“å‡ºåˆ†ç±»å™¨çš„æ€§èƒ½ï¼Œæœ€ç»ˆç»“æœä¹Ÿä¼šä¸Šä¸‹æµ®åŠ¨ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬å…¶å®å¯ä»¥ä½¿ç”¨Ridgeå›å½’ã€Lassoå›å½’ã€ç®€å•éšæœºæ£®æ—ç­‰æ¨¡å‹ä½œä¸ºè¾“å‡ºæ¨¡å‹ã€‚</p><hr><h2 id="å…­-ç»“æœåˆ†æ">å…­ ç»“æœåˆ†æ</h2><p><strong>ä»¥ä¸‹æ˜¯å„æ¨¡å‹çš„åˆ†ç±»æ€§èƒ½</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">b=Bar()</span><br><span class="line">b.add_xaxis([i <span class="keyword">for</span> i <span class="keyword">in</span> ML_PRE.keys()]+[<span class="string">&quot;Net%s&quot;</span>%i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">7</span>)])</span><br><span class="line">b.add_yaxis(<span class="string">&quot;æœºå™¨å­¦ä¹ å‡†ç¡®ç‡&quot;</span>,[<span class="built_in">round</span>(i[<span class="number">1</span>],<span class="number">3</span>) <span class="keyword">for</span> i <span class="keyword">in</span> ML_PRE.values()],markpoint_opts=opts.MarkPointOpts(</span><br><span class="line">            data=[opts.MarkPointItem(type_=<span class="string">&quot;min&quot;</span>, name=<span class="string">&quot;æœ€å°å€¼&quot;</span>),opts.MarkPointItem(type_=<span class="string">&quot;max&quot;</span>,name=<span class="string">&quot;æœ€å¤§å€¼&quot;</span>)],symbol=<span class="string">&#x27;pin&#x27;</span>, symbol_size=<span class="number">55</span>))</span><br><span class="line">b.add_yaxis(<span class="string">&quot;æ·±åº¦å­¦ä¹ å‡†ç¡®ç‡&quot;</span>,[<span class="literal">None</span>]*<span class="number">4</span>+[<span class="built_in">round</span>(i,<span class="number">3</span>) <span class="keyword">for</span> i <span class="keyword">in</span> eval_acc],markpoint_opts=opts.MarkPointOpts(</span><br><span class="line">            data=[opts.MarkPointItem(type_=<span class="string">&quot;min&quot;</span>, name=<span class="string">&quot;æœ€å°å€¼&quot;</span>),opts.MarkPointItem(type_=<span class="string">&quot;max&quot;</span>,name=<span class="string">&quot;æœ€å¤§å€¼&quot;</span>)],symbol=<span class="string">&#x27;arrow&#x27;</span>, symbol_size=<span class="number">55</span>))</span><br><span class="line">b.set_global_opts(xaxis_opts=opts.AxisOpts(axislabel_opts=opts.LabelOpts(rotate=-<span class="number">15</span>)),</span><br><span class="line">                     title_opts=opts.TitleOpts(title=<span class="string">&quot;æ¨¡å‹å‡†ç¡®ç‡&quot;</span>))</span><br><span class="line">b.render_notebook()</span><br></pre></td></tr></table></figure><img src="/2023/07/13/%E3%80%90%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%B7%B5%E3%80%91%E6%A3%AE%E6%9E%97%E8%A6%86%E7%9B%96%E7%B1%BB%E5%9E%8B%E9%A2%84%E6%B5%8B/image-20230703021324827.png" alt="image-20230703021324827" style="zoom:50%;"><p>åœ¨å°æ ·æœ¬è·Ÿå°‘é‡ç‰¹å¾çš„æƒ…å†µä¸‹ï¼Œæœºå™¨å­¦ä¹ æ¨¡å‹çš„æ€§èƒ½ä¸æ·±åº¦å­¦ä¹ æ¨¡å‹çš„æ€§èƒ½å·®è·ä¸å¤§ï¼Œå½“ç„¶è¿™é‡Œçš„æ·±åº¦å­¦ä¹ æ¨¡å‹åªæ˜¯ä¸€äº›éå¸¸ç®€å•çš„æ¨¡å‹ã€‚</p><p><strong>ä»¥ä¸‹æ˜¯æ€§èƒ½æœ€å¼ºçš„ä¸¤ä¸ªæ·±åº¦å­¦ä¹ æ¨¡å‹ä¸ä¸¤ä¸ªæœ€å¼ºçš„æœºå™¨å­¦ä¹ æ¨¡å‹è¿›è¡Œèåˆçš„ç»“æœ</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Net3 Net6</span></span><br><span class="line">net3,net6=Nets[<span class="number">2</span>],Nets[-<span class="number">1</span>]</span><br><span class="line"><span class="comment"># åšä¸ªæœ€ç®€å•çš„çº¿æ€§åŠ æƒ</span></span><br><span class="line">z1=torch.<span class="built_in">max</span>(net3(x_v_tensor),<span class="number">1</span>)[<span class="number">1</span>]+<span class="number">1</span></span><br><span class="line">z2=torch.<span class="built_in">max</span>(net6(x_v_tensor),<span class="number">1</span>)[<span class="number">1</span>]+<span class="number">1</span></span><br><span class="line">z3=ML_PRE[<span class="string">&#x27;LightGBM&#x27;</span>][<span class="number">0</span>]</span><br><span class="line">z4=ML_PRE[<span class="string">&#x27;RF&#x27;</span>][<span class="number">0</span>]</span><br><span class="line">z=torch.concat([z1.reshape(z1.shape[<span class="number">0</span>],<span class="number">1</span>),z2.reshape(z1.shape[<span class="number">0</span>],<span class="number">1</span>),torch.Tensor(z3).reshape(z1.shape[<span class="number">0</span>],<span class="number">1</span>),torch.Tensor(z4).reshape(z1.shape[<span class="number">0</span>],<span class="number">1</span>)],dim=<span class="number">1</span>)</span><br><span class="line">e=pd.DataFrame(z.numpy())</span><br><span class="line"><span class="comment"># åå¤„ç†</span></span><br><span class="line"><span class="comment"># ä¸€èˆ¬åœ¨æäº¤çš„æ—¶å€™æ•´çš„</span></span><br><span class="line"><span class="comment"># å–ä¼—æ•°å°±å¥½äº†</span></span><br><span class="line">ans=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(e.shape[<span class="number">0</span>]):</span><br><span class="line">    ans.append(e.iloc[i].mode().values[<span class="number">0</span>])</span><br><span class="line">accuracy(ans,y_val)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 0.8838183421516755</span></span><br></pre></td></tr></table></figure><p>emmï¼Œè¿™ä¸ªæ€§èƒ½ç•¥å¥½äºNet6ï¼Œå¤§äºæœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œå°äºNet3ã€‚</p><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨åå¤„ç†è¿‡ç¨‹ä¸­ï¼Œæ¨¡å‹æŠ•ç¥¨äº§ç”Ÿçš„ç»“æœå¯èƒ½æ˜¯ï¼š</p><ul><li>å››ç¥¨å…¨ä¸­</li><li>ä¸‰ç¥¨Aä¸€ç¥¨B</li><li>ä¸¤ç¥¨Aä¸¤ç¥¨B</li><li>ä¸¤ç¥¨Aä¸€ç¥¨Bä¸€ç¥¨C</li><li>ABCDå„ä¸€ç¥¨</li></ul><p>ç”±äºè¿™é‡Œæ˜¯æŠŠç»“æœæ‹¿å‡ºæ¥äº†è€Œä¸æ˜¯æ¦‚ç‡(æ¦‚ç‡è¯·å‚è€ƒæ·±åº¦å­¦ä¹ èåˆ)ï¼Œæ‰€ä»¥æˆ‘ä»¬è§„å®šï¼šä¸‰ç¥¨å››ç¥¨çš„ç›´æ¥å°±æ˜¯è¾“å‡ºæ ‡ç­¾ï¼Œä¸¤ç¥¨Aä¸¤ç¥¨Bé€‰æ‹©åˆ›å»ºåˆ†æ”¯ï¼Œä¸¤ç¥¨Aä¸€ç¥¨Bä¸€ç¥¨Cé€‰æ‹©Aï¼ŒABCDå„ä¸€ç¥¨åˆ™éšæœºé€‰ã€‚</p><p>ä¸¾ä¸ªç®€å•çš„åå¤„ç†æ —å­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">ans=[]</span><br><span class="line">ans2=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(e.shape[<span class="number">0</span>]):</span><br><span class="line">    v=[<span class="number">0</span>]*<span class="number">8</span></span><br><span class="line">    fir=<span class="literal">True</span></span><br><span class="line">    c=<span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(e.shape[<span class="number">1</span>]):</span><br><span class="line">        v[<span class="built_in">int</span>(e.iloc[i,j])]+=<span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> idx,_ <span class="keyword">in</span> <span class="built_in">enumerate</span>(v):</span><br><span class="line">        <span class="keyword">if</span> _==<span class="number">4</span> <span class="keyword">or</span> _==<span class="number">3</span>:</span><br><span class="line">            ans.append(idx)</span><br><span class="line">            ans2.append(idx)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">elif</span> _==<span class="number">2</span>:</span><br><span class="line">            <span class="keyword">if</span> fir:</span><br><span class="line">                ans.append(idx)</span><br><span class="line">                ans2.append(idx)</span><br><span class="line">                fir=<span class="literal">False</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                ans2[-<span class="number">1</span>]=idx</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">elif</span> _==<span class="number">1</span>:</span><br><span class="line">            c+=<span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> c==<span class="number">4</span>:</span><br><span class="line">        ans.append(e.iloc[i,<span class="number">0</span>])</span><br><span class="line">        ans2.append(e.iloc[i,<span class="number">2</span>])</span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç æ˜¯æˆ‘åœ¨åŠå¤œä¸‰ç‚¹ç¥å¿—ä¸æ¸…çš„æ—¶å€™å†™çš„ï¼Œéš¾å…åƒå¨å±ï¼Œåº”è¯¥æœ‰å¾ˆå¤§çš„ä¼˜åŒ–ç©ºé—´ã€‚ä½†ä¸ç®¡æ€ä¹ˆè¯´ï¼Œè¿™ç§åå¤„ç†æ–¹å¼ç¡®å®æ‹¿åˆ°äº†æ›´å¥½çš„ç»“æœï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">accuracy(ans,y_val) <span class="comment"># 0.8833774250440917</span></span><br><span class="line">accuracy(ans2,y_val) <span class="comment"># 0.8893298059964727</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªç»“æœè¶…è¿‡äº†ä¹‹å‰å•æ¨¡æœ€å¥½ç»“æœNet3ï¼Œç®—æ˜¯æœ‰æå‡å§ã€‚</p><p>å®é™…ä¸Šï¼Œæˆ‘ä»¬å¯¹æ·±åº¦å­¦ä¹ æ¨¡å‹çš„èåˆä¹Ÿéœ€è¦è¿›è¡Œåå¤„ç†ï¼Œè¿™æ ·ä¹Ÿèƒ½æé«˜äº›åˆ†æ•°ã€‚</p><p>å°±ä¸åšStackingäº†ï¼Œå¤§æ¦‚å°±æ˜¯è¿™æ ·</p><p><strong>ä»¥ä¸‹æ˜¯ç‰¹å¾å·¥ç¨‹å¯¹äºæœºå™¨å­¦ä¹ æ¨¡å‹çš„æå‡</strong></p><img src="https://github.com/Chen-XiaoLv/ML-in-Geochemistry/raw/master/READEME/image-20230703032934826.png" alt="image-20230703032934826" style="zoom:50%;"><p>è¿™ä¸ªå›¾ä¸å¤ªç›´è§‚å•Šï¼Œæˆ‘ä»¬é€ä¸ªæ¥çœ‹çœ‹æ˜¯å¦æœ‰æå‡ï¼š</p><img src="https://github.com/Chen-XiaoLv/ML-in-Geochemistry/raw/master/READEME/image-20230703033627960.png" alt="image-20230703033627960" style="zoom:50%;"><img src="https://github.com/Chen-XiaoLv/ML-in-Geochemistry/raw/master/READEME/image-20230703033803478.png" alt="image-20230703033803478" style="zoom:50%;"><img src="https://github.com/Chen-XiaoLv/ML-in-Geochemistry/raw/master/READEME/image-20230703033914021.png" alt="image-20230703033914021" style="zoom:50%;"><img src="https://github.com/Chen-XiaoLv/ML-in-Geochemistry/raw/master/READEME/image-20230703033954456.png" alt="image-20230703033954456" style="zoom:50%;"><p>è¿™é‡Œé¢ä»…ä»…æ„å»ºäº†å‡ ä¸ªç®€å•çš„ç‰¹å¾ï¼Œå‰”é™¤äº†å¼‚å¸¸å€¼ï¼Œç»“æœå¾—åˆ°äº†æ˜æ˜¾çš„æå‡ã€‚ä½†æ˜¯ç›¸åº”çš„ï¼Œå¼‚å¸¸å€¼ä¼šå¸¦æ¥æ³›åŒ–èƒ½åŠ›çš„æé«˜ï¼Œæ¨¡å‹é²æ£’æ€§å¢å¼ºï¼Œéœ€è¦æ ¹æ®å…·ä½“æƒ…å†µå†³å®šæ˜¯å¦å¯¹å¼‚å¸¸å€¼è¿›è¡Œå‰”é™¤ã€‚</p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">åŸºäºML+DLèåˆçš„æ£®æ—è¦†ç›–ç±»å‹é¢„æµ‹</summary>
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="é¡¹ç›®å®è·µ" scheme="http://example.com/tags/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%B7%B5/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="http://example.com/2023/07/07/Docker%20Web%20%E7%8E%AF%E5%A2%83/"/>
    <id>http://example.com/2023/07/07/Docker%20Web%20%E7%8E%AF%E5%A2%83/</id>
    <published>2023-07-07T07:16:45.275Z</published>
    <updated>2023-07-07T09:42:58.164Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Docker-Web-ç¯å¢ƒ">Docker Web ç¯å¢ƒ</h2><p>æ¶‰åŠåˆ°çš„æŠ€æœ¯æ ˆï¼š</p><ul><li>Linux</li><li>MySQL</li><li>Docker</li><li>Flask</li></ul><p>æœ¬æ–‡å°†åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯ä¸€äº›åŸºç¡€çŸ¥è¯†ï¼Œç¬¬äºŒéƒ¨åˆ†åˆ™æ˜¯æ•´ä¸ªæ“ä½œè¿‡ç¨‹ã€‚</p><hr><h1>å‰ç½®çŸ¥è¯†</h1><h2 id="ä¸€ã€LinuxåŸºç¡€">ä¸€ã€LinuxåŸºç¡€</h2><blockquote><p>ä¸Windowsç³»ç»Ÿç›¸æ¯”ï¼š</p><ul><li>å¯ä»¥ä¸å®‰è£…å›¾å½¢ç•Œé¢ï¼Œåªç”¨å‘½ä»¤è¡Œæ“ä½œï¼Œçµæ´»æ€§æ›´å¼º</li><li>æ¨¡å—å¯ä»¥éšæ„å¢å‡(ç¡¬ä»¶è®¾å¤‡)</li><li>å‘½ä»¤è¡Œå¯¹ç½‘ç»œå¸¦å®½è¦æ±‚ä¸é«˜ï¼Œæ–¹ä¾¿è¿œç¨‹æ“ä½œ</li><li>Linuxæ¯”Windowsæ›´åŠ ç¨³å®š(å¡æ­»)</li><li>æˆæƒæ›´ä¾¿å®œ</li><li>ç¡¬ä»¶è¦æ±‚æ›´ä½</li><li>Linuxçš„ç”¨æˆ·ç®¡ç†å’Œæƒé™ç®¡ç†æ›´å¼ºï¼Œå› è€Œæ¯”Windowsæ›´åŠ å®‰å…¨</li></ul></blockquote><h3 id="1-1-SSHè¿œç¨‹è¿æ¥">1.1 SSHè¿œç¨‹è¿æ¥</h3><p>Secure Shell æ˜¯ä¸€ç§ç½‘ç»œå®‰å…¨åè®®ï¼Œé€šè¿‡åŠ å¯†å’Œè®¤è¯æœºåˆ¶å®ç°å®‰å…¨çš„è®¿é—®å’Œæ–‡ä»¶ä¼ è¾“ä¸šåŠ¡ã€‚æˆ‘ä»¬è¿™é‡Œé€šè¿‡SSHè¿œç¨‹é“¾æ¥å‘½ä»¤è¡Œçš„æ–¹å¼ä¸Linuxç³»ç»Ÿè¿›è¡Œäº¤äº’ã€‚</p><p>æˆ‘ä»¬è¿™é‡Œé‡‡ç”¨çš„SSHå®¢æˆ·ç«¯æ˜¯<code>MobaXterm</code>ï¼Œå…è´¹ç‰ˆæœ¬æœ€å¤šåªèƒ½åŒæ—¶åˆ›å»ºä¸¤ä¸ªSSHè¿æ¥ï¼Œä¸‹è½½ç½‘å€ä¸ºï¼š<a href="https://mobaxterm.mobatek.net/download.html">https://mobaxterm.mobatek.net/download.html</a></p><p>è¿™ä¸ªå°±æ˜¯MobaXtermçš„å®¢æˆ·ç«¯å•¦ï¼š</p><img src="/2023/07/07/Docker%20Web%20%E7%8E%AF%E5%A2%83/image-20230707154854126.png" alt="image-20230707154854126" style="zoom:50%;"><img src="/2023/07/07/Docker%20Web%20%E7%8E%AF%E5%A2%83/image-20230707160321392.png" alt="image-20230707160321392" style="zoom:50%;"><p>è¿™è¾¹å¯ä»¥è¿œç¨‹è¾“å…¥ç«¯å£ã€‚ä½†æ˜¯è¿˜è®°å¾—ä¹‹å‰æ‰“å¼€çš„wslæœåŠ¡å—ï¼Œå¯ä»¥ç›´æ¥è¿æ¥åˆ°æœ¬æœºçš„WSLæœåŠ¡ã€‚</p><img src="/2023/07/07/Docker%20Web%20%E7%8E%AF%E5%A2%83/image-20230707170901189.png" alt="image-20230707170901189" style="zoom:50%;"><p>åœ¨SFTPè¿›è¡Œä¸Šä¼ ï¼Œç›´æ¥æ‹–è¿›å»ï¼Œæˆ–è€…å³é”®éƒ½å¯ä»¥ã€‚</p><img src="/2023/07/07/Docker%20Web%20%E7%8E%AF%E5%A2%83/image-20230707171211281.png" alt="image-20230707171211281" style="zoom:50%;"><p>è¿™æ ·å°±æœ‰äº†æã€‚</p><img src="/2023/07/07/Docker%20Web%20%E7%8E%AF%E5%A2%83/image-20230707171231385.png" alt="image-20230707171231385" style="zoom:50%;"><p>è¿è¡Œä¸€ä¸‹è¯•è¯•ï¼š</p><img src="/2023/07/07/Docker%20Web%20%E7%8E%AF%E5%A2%83/image-20230707171313755.png" alt="image-20230707171313755" style="zoom:50%;"><h3 id="1-2-LinuxçŸ¥è¯†">1.2 LinuxçŸ¥è¯†</h3><img src="/2023/07/07/Docker%20Web%20%E7%8E%AF%E5%A2%83/image-20230707160846355.png" alt="image-20230707160846355" style="zoom:33%;"><h3 id="1-3-Linuxæ“ä½œ">1.3 Linuxæ“ä½œ</h3><table><thead><tr><th style="text-align:center">æ“ä½œ</th><th style="text-align:center">ä½œç”¨</th></tr></thead><tbody><tr><td style="text-align:center"><code>mkdir</code> school</td><td style="text-align:center">åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹</td></tr><tr><td style="text-align:center"><code>cd</code> school</td><td style="text-align:center">è½¬ç§»åˆ°è·¯å¾„ä¸‹</td></tr><tr><td style="text-align:center"><code>touch</code> demo.txt</td><td style="text-align:center">åˆ›å»ºä¸€ä¸ªæ–‡ä»¶</td></tr><tr><td style="text-align:center"><code>cd</code> â€¦</td><td style="text-align:center">è¿”å›ä¸Šçº§</td></tr><tr><td style="text-align:center"><code>rm -rf</code> school</td><td style="text-align:center">ç§»é™¤æ–‡ä»¶</td></tr><tr><td style="text-align:center"><code>vim</code> demo.txt</td><td style="text-align:center">ç¼–å†™æ–‡ä»¶(Insé”®æ›´æ¢è¾“å…¥æ¨¡å¼)</td></tr><tr><td style="text-align:center">esc+:w</td><td style="text-align:center">åœ¨vimä¸‹ä¿å­˜å†™å…¥</td></tr><tr><td style="text-align:center">:q</td><td style="text-align:center">é€€å‡ºvim</td></tr><tr><td style="text-align:center"><code>tar -cvf</code> school.tar school</td><td style="text-align:center">å‹ç¼©ï¼Œå¯ä»¥ä¿ç•™æ–‡ä»¶æƒé™ä¿¡æ¯</td></tr><tr><td style="text-align:center"><code>tar -xvf</code> school.tar</td><td style="text-align:center">xvfè§£å‹ç¼©ï¼Œcvfå‹ç¼©</td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td></tr></tbody></table><p>éƒ¨åˆ†å‚æ•°æ„ä¹‰</p><table><thead><tr><th style="text-align:center">å‚æ•°</th><th style="text-align:center">æ„ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center"><code>-r</code></td><td style="text-align:center">é€’å½’æ“ä½œ</td></tr><tr><td style="text-align:center"><code>-f</code></td><td style="text-align:center">å¼ºåˆ¶</td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td></tr></tbody></table><h2 id="äºŒã€FlaskåŸºç¡€">äºŒã€FlaskåŸºç¡€</h2><blockquote><p>è½»é‡çº§çš„ç½‘ç»œæ¡†æ¶ï¼Œå¯ä»¥é€šè¿‡ç¬¬ä¸‰æ–¹æ‰©å±•å¢åŠ åŠŸèƒ½</p></blockquote><p>Flaskæ”¯æŒMVCæ¨¡å¼(Model-View-Controller)ï¼Œå…¼å®¹å¤šç§æ•°æ®åº“ã€æ¨¡æ¿ï¼›Flaskçš„è·¯ç”±ä»¥åŠè·¯ç”±å‡½æ•°ç”±ä¿®é¥°å™¨è®¾å®šï¼Œå¼€å‘äººå‘˜ä¸éœ€è¦å…¶ä»–æ–‡æ¡£åŒ¹é…ã€‚</p><p>ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯ï¼Œè¦ç”¨åˆ°å•¥å®‰è£…å•¥ã€‚</p><h4 id="MVCæ¨¡å¼">MVCæ¨¡å¼</h4><p>å°†ä¸€ä¸ªå¤æ‚çš„è½¯ä»¶ç³»ç»ŸæŠ½è±¡æˆæ¨¡å‹å±‚(Model)ã€è§†å›¾å±‚(View)ã€æ§åˆ¶å™¨å±‚(Controller)ï¼Œåˆ’åˆ†å‡ºæ˜ç¡®çš„èŒè´£ã€‚</p><img src="/2023/07/07/Docker%20Web%20%E7%8E%AF%E5%A2%83/image-20230707174042982.png" alt="image-20230707174042982" style="zoom:50%;"><p>æ¨¡å‹å±‚ï¼šä¸ä»£ç æœ‰å…³</p><p>è§†å›¾å±‚ï¼šä¸ç•Œé¢æœ‰å…³ï¼Œæ¯”å¦‚ä¸‰ä»¶å¥—</p><p>æ§åˆ¶å™¨å±‚ï¼šé“¾æ¥æ¨¡å‹å±‚å’Œè§†å›¾å±‚</p><h2 id="ä¸‰ã€DockeråŸºç¡€">ä¸‰ã€DockeråŸºç¡€</h2><hr><h1>åˆ›å»ºPythonå®¹å™¨ã€éƒ¨ç½²Flaské¡¹ç›®</h1><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Docker-Web-ç¯å¢ƒ&quot;&gt;Docker Web ç¯å¢ƒ&lt;/h2&gt;
&lt;p&gt;æ¶‰åŠåˆ°çš„æŠ€æœ¯æ ˆï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Linux&lt;/li&gt;
&lt;li&gt;MySQL&lt;/li&gt;
&lt;li&gt;Docker&lt;/li&gt;
&lt;li&gt;Flask&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ¬æ–‡å°†åˆ†ä¸ºä¸¤éƒ¨</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title></title>
    <link href="http://example.com/2023/06/02/LaSO%20Label-Set%20Operations%20Networks%20for%20Multi-Label%20Few-Shot%20Learning/"/>
    <id>http://example.com/2023/06/02/LaSO%20Label-Set%20Operations%20Networks%20for%20Multi-Label%20Few-Shot%20Learning/</id>
    <published>2023-06-02T15:57:46.023Z</published>
    <updated>2023-06-02T15:57:46.024Z</updated>
    
    <content type="html"><![CDATA[<h2 id="LaSO-Label-Set-Operations-Networks-for-Multi-Label-Few-Shot-Learning">LaSO: Label-Set Operations Networks for Multi-Label Few-Shot Learning</h2><h3 id="1-ç ”ç©¶é—®é¢˜">1 ç ”ç©¶é—®é¢˜</h3><p>åŸºäºå°æ ·æœ¬çš„å­¦ä¹ æ˜¯æ—¶ä¸‹æ¯”è¾ƒçƒ­é—¨çš„ç ”ç©¶è¯¾é¢˜ã€‚ä¸»æµçš„å°æ ·æœ¬å­¦ä¹ æ–¹æ³•ä¸€èˆ¬æ˜¯é€šè¿‡æ•°æ®å¢å¼ºï¼Œæˆ–æ˜¯åˆ©ç”¨ç”Ÿæˆå¼æ¨¡å‹æ„å»ºåˆæˆæ ·æœ¬ã€‚è¿™äº›åˆæˆæ ·æœ¬å¯ä»¥ç”¨æ¥æ”¹å–„å°‘æ ·æœ¬ä»»åŠ¡çš„æ³›åŒ–æ€§èƒ½ï¼Œä½†æˆªæ­¢è‡³æœ¬æ–‡å‘è¡¨å‰ï¼Œç›®å‰æ‰€æœ‰å…³äºå°æ ·æœ¬åˆ†ç±»çš„å·¥ä½œéƒ½æ˜¯åŸºäºå•æ ‡ç­¾è¿›è¡Œçš„ã€‚é’ˆå¯¹å¤šæ ‡ç­¾ä»»åŠ¡å’Œå¤æ‚åœºæ™¯ï¼Œç›®å‰æ²¡æœ‰ç‰¹åˆ«ä¼˜ç§€çš„è§£å†³æ–¹æ¡ˆã€‚</p><h3 id="2-ä¸»è¦è´¡çŒ®">2 ä¸»è¦è´¡çŒ®</h3><p>æœ¬æ–‡æå‡ºäº†ä¸€ç§åœ¨ç‰¹å¾ç©ºé—´æ„å»ºè¯­ä¹‰å†…å®¹çš„ç¥ç»ç½‘ç»œï¼Œè¯¥ç½‘ç»œé€šè¿‡åœ¨ç‰¹å¾ç©ºé—´æ“çºµè¯­ä¹‰çš„æ–¹å¼ï¼Œç”Ÿæˆæ„Ÿå…´è¶£çš„å¤šæ ‡ç­¾æ ·æœ¬ï¼Œä»è€Œå¡«è¡¥äº†ç›®å‰å¤šæ ‡ç­¾å°æ ·æœ¬å­¦ä¹ æ–¹é¢çš„ç©ºç™½ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæœ¬æ–‡ä¸ºå°æ ·æœ¬å¤šæ ‡ç­¾å­¦ä¹ æä¾›äº†ä¸€ä¸ªæ–°çš„åŸºå‡†ï¼Œå¹¶é™„å¸¦äº†ä¸€ç³»åˆ—æ€§èƒ½è¯„ä¼°æ–¹å¼å’ŒæŒ‡æ ‡ã€‚</p><h3 id="3-è§£å†³æ–¹æ¡ˆå’Œæ ¸å¿ƒæ–¹æ³•">3 è§£å†³æ–¹æ¡ˆå’Œæ ¸å¿ƒæ–¹æ³•</h3><h4 id="3-1-æ ‡ç­¾é›†åˆæ“ä½œ">3.1 æ ‡ç­¾é›†åˆæ“ä½œ</h4><p>æœ¬æ–‡çš„æ ¸å¿ƒæ€æƒ³åœ¨äºé€šè¿‡æ„å»ºä¸€ç»„ç‰¹å¾ç©ºé—´çš„é›†åˆæ“ä½œï¼Œä»è€Œåœ¨è¯­ä¹‰å±‚é¢ä¸Šè·å–æ–°çš„åˆæˆæ•°æ®ã€‚ä¾‹å¦‚ï¼šæ ·æœ¬<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span>æ˜¯ä¸€å¼ åœ¨åŠ¨ç‰©å›­æ‹æ‘„çš„ç¬¼å­+è€è™ç…§ç‰‡ï¼Œæ ·æœ¬Bæ˜¯ç¬¼å­+é¸¡ç…§ç‰‡ï¼Œæ ·æœ¬Cæ˜¯ç¬¼å­+å…”ç…§ç‰‡ï¼Œé€šè¿‡ç½‘ç»œæŒ–æ˜ç‰¹å¾ç©ºé—´ä¸Šæ½œåœ¨çš„è¯­ä¹‰å‘é‡ï¼Œå¯ä»¥å°†è¿™äº›æ ·æœ¬è¡¨ç¤ºä¸ºï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo stretchy="false">{</mo><mtext>ç¬¼å­ï¼Œè€è™</mtext><mo stretchy="false">}</mo><mo separator="true">,</mo><mi>B</mi><mo stretchy="false">{</mo><mtext>ç¬¼å­ï¼Œé¸¡</mtext><mo stretchy="false">}</mo><mo separator="true">,</mo><mi>C</mi><mo stretchy="false">{</mo><mtext>ç¬¼å­ï¼Œå…”</mtext><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">A\{ç¬¼å­ï¼Œè€è™\},B\{ç¬¼å­ï¼Œé¸¡\},C\{ç¬¼å­ï¼Œå…”\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">A</span><span class="mopen">{</span><span class="mord cjk_fallback">ç¬¼å­ï¼Œè€è™</span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mopen">{</span><span class="mord cjk_fallback">ç¬¼å­ï¼Œé¸¡</span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mopen">{</span><span class="mord cjk_fallback">ç¬¼å­ï¼Œå…”</span><span class="mclose">}</span></span></span></span>ã€‚ä¼ ç»Ÿç½‘ç»œå¯¹è¿™äº›æ ·æœ¬è¿›è¡Œè®­ç»ƒï¼Œæ˜¯å¾ˆéš¾ç”Ÿæˆå¤§è‡ªç„¶ä¸­çš„è€è™çš„ï¼Œä½†æ˜¯é€šè¿‡ä¸€ç³»åˆ—é›†åˆæ“ä½œï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo>âˆ’</mo><mo stretchy="false">(</mo><mi>B</mi><mo>âˆ©</mo><mi>C</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">A-(B\cap C)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ©</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mclose">)</span></span></span></span>ï¼Œå³å¯æå–åˆ°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo stretchy="false">{</mo><mtext>è€è™</mtext><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">A\{è€è™\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">A</span><span class="mopen">{</span><span class="mord cjk_fallback">è€è™</span><span class="mclose">}</span></span></span></span>è¿™ä¸€ä¿¡æ¯ã€‚</p><p>åŸºäºç‰¹å¾ç©ºé—´å’Œæ ‡ç­¾é›†åˆæ“ä½œï¼Œå¯ä»¥ä»å›¾åƒä¸­å­¦ä¹ åˆ°éšå¼çš„è¯­ä¹‰ä¿¡æ¯ï¼Œå¯¹æ•°æ®é›†è¿›è¡Œä¸€å®šçš„å¢å¼ºï¼Œæ‰©å±•äº†ç‰¹å¾ç©ºé—´åŒ…å«çš„è¯­ä¹‰ä¿¡æ¯ã€‚</p><img src="/2023/06/02/LaSO%20Label-Set%20Operations%20Networks%20for%20Multi-Label%20Few-Shot%20Learning/Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20230528161959386.png" alt="image-20230528161959386" style="zoom:25%;"><h4 id="3-2-ç½‘ç»œæ¶æ„">3.2 ç½‘ç»œæ¶æ„</h4><img src="/2023/06/02/LaSO%20Label-Set%20Operations%20Networks%20for%20Multi-Label%20Few-Shot%20Learning/Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20230528162113081.png" alt="image-20230528162113081" style="zoom:25%;"><p>æœ¬æ–‡çš„ç½‘ç»œæ¶æ„å¯åˆ†ä¸ºç‰¹å¾æå–ç½‘ç»œã€äº¤é›†ä¿¡æ¯ç½‘ç»œã€å¹¶é›†ä¿¡æ¯ç½‘ç»œã€å·®åˆ†ä¿¡æ¯ç½‘ç»œå’Œåˆ†ç±»å™¨ã€‚</p><p>ç‰¹å¾æå–ç½‘ç»œbackboneç”±è¿ç§»çš„InceptionV3å’ŒResNet-34æ„æˆï¼Œå¯¹äºæå–åˆ°çš„ç‰¹å¾ï¼Œè¿›å…¥ä¸‰ä¸ªå­ç½‘ç»œè¿›è¡Œå­¦ä¹ ã€‚è¿™ä¸‰ä¸ªå­ç½‘ç»œå‡æ˜¯ç”±ä¸‰å±‚å…¨è¿æ¥å±‚å®ç°çš„ï¼Œåˆ†åˆ«ç”¨äºå­¦ä¹ å’Œæå–é›†åˆæè¿°ç‰¹å¾ã€‚æœ€ç»ˆçš„ç»“æ„å°†ç”±ç‰¹å¾æå–ç½‘ç»œå­¦ä¹ åˆ°çš„ç‰¹å¾åŠ ä¸Šé›†åˆæè¿°ç‰¹å¾è¿›å…¥å¤šå±‚æ„ŸçŸ¥æœºåˆ†ç±»å™¨è·å–ã€‚</p><h4 id="3-3-æŸå¤±å‡½æ•°">3.3 æŸå¤±å‡½æ•°</h4><p>æœ¬æ–‡çš„æŸå¤±å‡½æ•°å¯åˆ†ä¸ºå¤šæ ‡ç­¾åˆ†ç±»æŸå¤±å’Œé‡æ„æŸå¤±ã€‚</p><h5 id="3-3-1-å¤šæ ‡ç­¾åˆ†ç±»æŸå¤±">3.3.1 å¤šæ ‡ç­¾åˆ†ç±»æŸå¤±</h5><p>è¯¥æŸå¤±å°±æ˜¯äºŒå…ƒäº¤å‰ç†µæŸå¤±å‡½æ•°ï¼Œè®¡ç®—å…¬å¼ä¸ºï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>B</mi><mi>C</mi><mi>E</mi><mo stretchy="false">(</mo><mi>s</mi><mo separator="true">,</mo><mi>l</mi><mo stretchy="false">)</mo><mo>=</mo><mo>âˆ’</mo><munder><mo>âˆ‘</mo><mi>i</mi></munder><msub><mi>l</mi><mi>i</mi></msub><mi>log</mi><mo>â¡</mo><mi>Ïƒ</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mn>1</mn><mo>âˆ’</mo><msub><mi>l</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mi>log</mi><mo>â¡</mo><mo stretchy="false">(</mo><mn>1</mn><mo>âˆ’</mo><mi>Ïƒ</mi><mo stretchy="false">(</mo><msub><mi>s</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">BCE(s,l)=-\sum_i l_i\log \sigma(s_i)+(1-l_i)\log(1-\sigma(s_i))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">BCE</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3277em;vertical-align:-1.2777em;"></span><span class="mord">âˆ’</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.05em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0197em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0197em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">s</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">))</span></span></span></span></span></p><p>è€ƒè™‘åˆ°ç‰¹å¾æå–å™¨è·å¾—çš„ç‰¹å¾ä¿¡æ¯<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>x</mi></msub></mrow><annotation encoding="application/x-tex">F_x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>Y</mi></msub></mrow><annotation encoding="application/x-tex">F_Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">Y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œå¯è®¡ç®—åˆ†ç±»æŸå¤±ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>C</mi><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow></msub><mo>=</mo><mi>B</mi><mi>C</mi><mi>E</mi><mo stretchy="false">(</mo><mi>C</mi><mo stretchy="false">(</mo><msub><mi>F</mi><mi>X</mi></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>L</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>+</mo><mi>B</mi><mi>C</mi><mi>E</mi><mo stretchy="false">(</mo><mi>C</mi><mo stretchy="false">(</mo><msub><mi>F</mi><mi>Y</mi></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>L</mi><mo stretchy="false">(</mo><mi>Y</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">C_{loss}=BCE(C(F_X),L(X))+BCE(C(F_Y),L(Y))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">oss</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">BCE</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">))</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">BCE</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">Y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">))</span></span></span></span></span></p><p>å…¶ä¸­ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">L(X)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span>ä»£è¡¨é›†åˆæè¿°ç‰¹å¾ã€‚æ•´ä¸ªLaSOç½‘ç»œé›†åˆæå–æ¨¡å—çš„æŸå¤±è®¡ç®—å¦‚ä¸‹ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>L</mi><mi>a</mi><mi>S</mi><msub><mi>O</mi><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow></msub><mo>=</mo><mi>B</mi><mi>C</mi><mi>E</mi><mo stretchy="false">(</mo><mi>C</mi><mo stretchy="false">(</mo><msub><mi>Z</mi><mrow><mi>i</mi><mi>n</mi><mi>t</mi></mrow></msub><mo separator="true">,</mo><mi>L</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>âˆ©</mo><mi>L</mi><mo stretchy="false">(</mo><mi>Y</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>+</mo><mspace linebreak="newline"></mspace><mi>B</mi><mi>C</mi><mi>E</mi><mo stretchy="false">(</mo><mi>C</mi><mo stretchy="false">(</mo><msub><mi>Z</mi><mrow><mi>u</mi><mi>n</mi><mi>i</mi></mrow></msub><mo separator="true">,</mo><mi>L</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>âˆª</mo><mi>L</mi><mo stretchy="false">(</mo><mi>Y</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>+</mo><mspace linebreak="newline"></mspace><mi>B</mi><mi>C</mi><mi>E</mi><mo stretchy="false">(</mo><mi>C</mi><mo stretchy="false">(</mo><msub><mi>Z</mi><mrow><mi>s</mi><mi>u</mi><mi>b</mi></mrow></msub><mo separator="true">,</mo><mi>L</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo>âˆ’</mo><mi>L</mi><mo stretchy="false">(</mo><mi>Y</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">LaSO_{loss}=BCE(C(Z_{int},L(X)\cap L(Y))+\\BCE(C(Z_{uni},L(X)\cup L(Y))+\\BCE(C(Z_{sub},L(X)- L(Y))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord mathnormal">L</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">oss</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">BCE</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ©</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">))</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">BCE</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">ni</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆª</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">))</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">BCE</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">b</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">))</span></span></span></span></span></p><h5 id="3-3-2-é‡æ„æŸå¤±">3.3.2 é‡æ„æŸå¤±</h5><p>é‡æ„æŸå¤±è¦æ±‚ä¿è¯äº¤é›†ç½‘ç»œå’Œå¹¶é›†ç½‘ç»œçš„å¯¹ç§°æ€§ï¼Œå½“<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">F(X)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo stretchy="false">(</mo><mi>Y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">F(Y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span></span></span></span>äº¤æ¢ä½ç½®æ—¶ï¼Œè¾“å‡ºçš„ç»“æœä¸ä¼šæ”¹å˜ã€‚å…¶è¯¯å·®è®¡ç®—å¦‚ä¸‹ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msubsup><mi>R</mi><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow><mrow><mi>s</mi><mi>y</mi><mi>m</mi></mrow></msubsup><mo>=</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><mi mathvariant="normal">âˆ£</mi><mi mathvariant="normal">âˆ£</mi><msub><mi>z</mi><mrow><mi>i</mi><mi>n</mi><mi>t</mi></mrow></msub><mo>âˆ’</mo><msub><mi>M</mi><mrow><mi>i</mi><mi>n</mi><mi>t</mi></mrow></msub><mo stretchy="false">(</mo><msub><mi>F</mi><mi>Y</mi></msub><mo separator="true">,</mo><msub><mi>F</mi><mi>X</mi></msub><mo stretchy="false">)</mo><mi mathvariant="normal">âˆ£</mi><msub><mi mathvariant="normal">âˆ£</mi><mn>2</mn></msub><mo>+</mo><mspace linebreak="newline"></mspace><mfrac><mn>1</mn><mi>n</mi></mfrac><mi mathvariant="normal">âˆ£</mi><mi mathvariant="normal">âˆ£</mi><msub><mi>z</mi><mrow><mi>u</mi><mi>n</mi><mi>i</mi></mrow></msub><mo>âˆ’</mo><msub><mi>M</mi><mrow><mi>u</mi><mi>n</mi><mi>i</mi></mrow></msub><mo stretchy="false">(</mo><msub><mi>F</mi><mi>Y</mi></msub><mo separator="true">,</mo><msub><mi>F</mi><mi>X</mi></msub><mo stretchy="false">)</mo><mi mathvariant="normal">âˆ£</mi><msub><mi mathvariant="normal">âˆ£</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">R_{loss}^{sym}=\frac{1}{n}||z_{int}-M_{int}(F_Y,F_X)||_2+\\\frac{1}{n}||z_{uni}-M_{uni}(F_Y,F_X)||_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0836em;vertical-align:-0.3013em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7823em;"><span style="top:-2.3987em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">oss</span></span></span></span><span style="top:-3.1809em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">sy</span><span class="mord mathnormal mtight">m</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3013em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord">âˆ£âˆ£</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">Y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">âˆ£</span><span class="mord"><span class="mord">âˆ£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord">âˆ£âˆ£</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">ni</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">ni</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">Y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">âˆ£</span><span class="mord"><span class="mord">âˆ£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p><p>æ³¨ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>z</mi><mrow><mi>i</mi><mi>n</mi><mi>t</mi></mrow></msub><mo>=</mo><msub><mi>M</mi><mrow><mi>i</mi><mi>n</mi><mi>t</mi></mrow></msub><mo stretchy="false">(</mo><msub><mi>F</mi><mi>X</mi></msub><mo separator="true">,</mo><msub><mi>F</mi><mi>Y</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">z_{int}=M_{int}(F_X,F_Y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">Y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><p>åŒæ—¶ï¼Œå¯¹äºå·®é›†ç‰¹å¾<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>X</mi></msub><mo>âˆ’</mo><msub><mi>F</mi><mi>Y</mi></msub></mrow><annotation encoding="application/x-tex">F_X-F_Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">Y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>å’Œäº¤é›†ç‰¹å¾<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>X</mi></msub><mo>âˆ©</mo><msub><mi>F</mi><mi>Y</mi></msub></mrow><annotation encoding="application/x-tex">F_X\cap F_Y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ©</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">Y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œè¿™ä¸¤åº”è¯¥å¯ä»¥è¿˜åŸå¾—åˆ°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>F</mi><mi>X</mi></msub></mrow><annotation encoding="application/x-tex">F_X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ã€‚å³ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msubsup><mi>R</mi><mrow><mi>l</mi><mi>o</mi><mi>s</mi><mi>s</mi></mrow><mi>m</mi></msubsup><mi>c</mi><mo>=</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><mi mathvariant="normal">âˆ£</mi><mi mathvariant="normal">âˆ£</mi><msub><mi>F</mi><mi>x</mi></msub><mo>âˆ’</mo><msub><mi>M</mi><mrow><mi>u</mi><mi>n</mi><mi>i</mi></mrow></msub><mo stretchy="false">(</mo><msub><mi>Z</mi><mrow><mi>s</mi><mi>u</mi><mi>b</mi></mrow></msub><mo separator="true">,</mo><msub><mi>z</mi><mrow><mi>i</mi><mi>n</mi><mi>t</mi></mrow></msub><mo stretchy="false">)</mo><mi mathvariant="normal">âˆ£</mi><msub><mi mathvariant="normal">âˆ£</mi><mn>2</mn></msub><mo>+</mo><mspace linebreak="newline"></mspace><mfrac><mn>1</mn><mi>n</mi></mfrac><mi mathvariant="normal">âˆ£</mi><mi mathvariant="normal">âˆ£</mi><msub><mi>F</mi><mi>Y</mi></msub><mo>âˆ’</mo><msub><mi>M</mi><mrow><mi>u</mi><mi>n</mi><mi>i</mi></mrow></msub><mo stretchy="false">(</mo><msub><mi>M</mi><mrow><mi>s</mi><mi>u</mi><mi>b</mi></mrow></msub><mo stretchy="false">(</mo><msub><mi>F</mi><mi>Y</mi></msub><mo separator="true">,</mo><msub><mi>F</mi><mi>X</mi></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><msub><mi>z</mi><mrow><mi>i</mi><mi>n</mi><mi>t</mi></mrow></msub><mo stretchy="false">)</mo><mi mathvariant="normal">âˆ£</mi><msub><mi mathvariant="normal">âˆ£</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">R_{loss}^mc=\frac{1}{n}||F_x-M_{uni}(Z_{sub},z_{int})||_2+\\\frac{1}{n}||F_Y-M_{uni}(M_{sub}(F_Y,F_X),z_{int})||_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9614em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-2.453em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span><span class="mord mathnormal mtight">oss</span></span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord">âˆ£âˆ£</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">ni</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">Z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">b</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">âˆ£</span><span class="mord"><span class="mord">âˆ£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord">âˆ£âˆ£</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">Y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">ni</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">b</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.22222em;">Y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.07847em;">X</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.044em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">âˆ£</span><span class="mord"><span class="mord">âˆ£</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></span></p><h4 id="ç»“è®º">ç»“è®º</h4><p>æœ¬æ–‡æå‡ºçš„åŸºäºç‰¹å¾ç©ºé—´ä¸Šé›†åˆè¿ç®—çš„å¤šæ ‡ç­¾å°æ ·æœ¬å­¦ä¹ å¡«è¡¥äº†è¯¥é¢†åŸŸçš„ç©ºç™½ï¼Œä¸ä¼ ç»Ÿæ•°æ®æ‰©å……æ–¹å¼æœ‰æ‰€ä¸åŒçš„æ˜¯ï¼Œè¯¥æ–¹æ³•å¹¶æ²¡æœ‰åœ¨å›¾åƒå±‚é¢ä¸Šæ„å»ºåˆæˆæ•°æ®ï¼Œè€Œæ˜¯åœ¨ç‰¹å¾ç»´åº¦ä¸Šè¿›è¡Œæ‰©å……ï¼Œé€šè¿‡å·²å­¦ä¹ çš„å°æ ·æœ¬æ½œåœ¨è¯­ä¹‰ä¹‹é—´çš„å…³ç³»è¿›è¡Œæ¨ç†å­¦ä¹ ï¼Œä»è€Œèµ·åˆ°äº†æ•°æ®å¢å¼ºçš„ä½œç”¨ã€‚ä½†æœ¬æ–‡ä¾æ—§å­˜åœ¨ä¸€äº›å±€é™æ€§ï¼Œè­¬å¦‚å½“å°æ ·æœ¬æ•°æ®è¯­ä¹‰ä¿¡æ¯è¾ƒä¸ºå•è°ƒï¼Œæˆ–æ˜¯è¯­ä¹‰é›†åˆä¹‹é—´ä¸å­˜åœ¨äº¤é›†ï¼Œè¿™å¯èƒ½å¯¼è‡´æ¨¡å‹å­¦ä¹ åˆ°çš„æ•°æ®äº§ç”Ÿä¸€å®šçš„æ··æ·†ï¼ŒåŠ å¤§å®¹é‡çš„åŒæ—¶å¯èƒ½æ•ˆæœæå‡ä¸æ˜æ˜¾ã€‚æœ¬æ–‡ä½¿ç”¨äº†æœ€ç®€å•çš„å¤šå±‚æ„ŸçŸ¥æœºä½œä¸ºé›†åˆç½‘ç»œå’Œåˆ†ç±»ç½‘ç»œï¼Œè¿™éƒ¨åˆ†å…·æœ‰è¾ƒå¤§çš„æ”¹è¿›ç©ºé—´ï¼Œå¯ä»¥è€ƒè™‘é‡‡ç”¨å…ˆè¿›çš„ç½‘ç»œæ¶æ„è¿›è¡Œä¼˜åŒ–ã€‚ç‰¹å¾å±‚é¢ä¸Šçš„é›†åˆæ“ä½œå–å¾—äº†å¯è¡Œçš„è§£ï¼Œæ˜¯å¦ä¹Ÿå¯ä»¥é€šè¿‡åˆ«çš„æ•°å­¦æ–¹æ³•å¯¹æ•°æ®è¯­ä¹‰è¿›è¡Œæ‰©å……å¢å¹¿ï¼Œä¹Ÿè®¸æ˜¯è¯¥æ¶æ„å¯è¡Œçš„æ”¹è¿›æ–¹æ¡ˆä¹‹ä¸€ã€‚</p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;LaSO-Label-Set-Operations-Networks-for-Multi-Label-Few-Shot-Learning&quot;&gt;LaSO: Label-Set Operations Networks for Multi-Label Few-Shot L</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>ã€æ•°æ®åˆ†æå®è·µã€‘çŒ«åäºŒåˆ†ç±»</title>
    <link href="http://example.com/2023/05/20/%E3%80%90%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%B7%B5%E3%80%91%E7%8C%AB%E5%8D%81%E4%BA%8C%E5%88%86%E7%B1%BB/"/>
    <id>http://example.com/2023/05/20/%E3%80%90%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%B7%B5%E3%80%91%E7%8C%AB%E5%8D%81%E4%BA%8C%E5%88%86%E7%B1%BB/</id>
    <published>2023-05-20T07:12:17.287Z</published>
    <updated>2023-05-25T15:16:07.152Z</updated>
    
    <content type="html"><![CDATA[<h1>ã€æ•°æ®ç§‘å­¦é¡¹ç›®å®è·µã€‘åŸºäºResNetå’ŒInception v3çš„çŒ«åäºŒåˆ†ç±»è¿ç§»å­¦ä¹ </h1><h2 id="ä¸€ã€é¡¹ç›®èƒŒæ™¯">ä¸€ã€é¡¹ç›®èƒŒæ™¯</h2><p>æœ¬é¡¹ç›®æ¥æºäºé£æµ†å¹³å°çš„å›¾åƒåˆ†ç±»å­¦ä¹ èµ›ã€‚<a href="https://aistudio.baidu.com/aistudio/competition/detail/136/0/introduction">æŒ‡è·¯é“¾æ¥</a></p><ul><li>ä»£ç å’Œç»“æœæ¥æºäºæˆ‘çš„å°ç»„åŒå­¦ï¼Œæ²¡æœ‰åšä»»ä½•çš„æ”¹åŠ¨ï¼Œæˆ‘è¿™è¾¹ä»…åšä¸€ä¸ªæ€»ç»“å½’çº³ï¼Œä»¥ä¾¿å­¦ä¹ å’Œå¤ç›˜</li></ul><p>ç®€å•æŠŠèµ›é¢˜Copyä¸€ä¸‹ï¼š</p><blockquote><p>æœ¬åœºæ¯”èµ›è¦æ±‚å‚èµ›é€‰æ‰‹å¯¹åäºŒç§çŒ«è¿›è¡Œåˆ†ç±»ï¼Œå±äºCVæ–¹å‘ç»å…¸çš„å›¾åƒåˆ†ç±»ä»»åŠ¡ã€‚å›¾åƒåˆ†ç±»ä»»åŠ¡ä½œä¸ºå…¶ä»–å›¾åƒä»»åŠ¡çš„åŸºçŸ³ï¼Œå¯ä»¥è®©å¤§å®¶æ›´å¿«ä¸Šæ‰‹è®¡ç®—æœºè§†è§‰ã€‚</p></blockquote><p><strong>æ•°æ®é›†</strong></p><p>æ¯”èµ›æ•°æ®é›†åŒ…å«12ç§çŒ«çš„å›¾ç‰‡ï¼Œå¹¶åˆ’åˆ†ä¸ºè®­ç»ƒé›†ä¸æµ‹è¯•é›†ã€‚</p><p><strong>è®­ç»ƒé›†ï¼š</strong> æä¾›é«˜æ¸…å½©è‰²å›¾ç‰‡ä»¥åŠå›¾ç‰‡æ‰€å±çš„åˆ†ç±»ï¼Œå…±æœ‰2160å¼ çŒ«çš„å›¾ç‰‡ï¼Œå«æ ‡æ³¨æ–‡ä»¶ã€‚</p><p><strong>æµ‹è¯•é›†ï¼š</strong> ä»…æä¾›å½©è‰²å›¾ç‰‡ï¼Œå…±æœ‰240å¼ çŒ«çš„å›¾ç‰‡ï¼Œä¸å«æ ‡æ³¨æ–‡ä»¶ã€‚</p><h2 id="äºŒã€Baseline">äºŒã€Baseline</h2><h3 id="2-1-å‡†å¤‡é˜¶æ®µ">2.1 å‡†å¤‡é˜¶æ®µ</h3><p>ä¸»è¦æ˜¯å¯¼å…¥ä¸€äº›è¦ç”¨åˆ°çš„æ¨¡å—ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">from</span> torchvision <span class="keyword">import</span> models,transforms</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader,Dataset</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">from</span> torch.optim <span class="keyword">import</span> lr_scheduler</span><br><span class="line"><span class="keyword">import</span> copy</span><br></pre></td></tr></table></figure><h3 id="2-2-æ•°æ®è¯»å–é˜¶æ®µ">2.2 æ•°æ®è¯»å–é˜¶æ®µ</h3><p>è¿™ä¸ªé˜¶æ®µå°±æ˜¯å¦‚ä½•å°†æ•°æ®è¯»å–åˆ°æ¨¡å‹ä¸­æ¥ï¼Œç”±äºçŒ«çŒ«æ˜¯å›¾åƒæ•°æ®ï¼Œæ‰€ä»¥è¿™è¾¹å°†å…¶è¯»å–æˆæ•°å­—å›¾åƒä¸€èˆ¬æ˜¯é€šè¿‡æ•°ç»„æ¥å­˜åœ¨å†…å­˜ä¸­çš„ï¼Œè€ƒè™‘åˆ°ä¸­é—´è¿‡ç¨‹çš„å¯è§†åŒ–ï¼Œæˆ‘ä»¬é€šè¿‡<code>PIL</code>æ¥è¯»å–<code>Image</code>ç±»å‹çš„æ•°æ®ã€‚è¿™æ­¥å¯ä»¥å†™ä½œï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x=np.fromfile(imgPath,dtype=np.float32) <span class="comment"># è¯»å–æˆndarray</span></span><br><span class="line">x=cv2.imdecode(x,<span class="number">1</span>) <span class="comment"># å°†åŒºé—´è½¬åŒ–ä¸º[0,255]</span></span><br><span class="line">img=PIL.Image.fromarray(x) <span class="comment"># è¯»å–æˆImageå¯¹è±¡</span></span><br></pre></td></tr></table></figure><img src="/2023/05/20/%E3%80%90%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%B7%B5%E3%80%91%E7%8C%AB%E5%8D%81%E4%BA%8C%E5%88%86%E7%B1%BB/image-20230525222735963.png" alt="image-20230525222735963" style="zoom:50%;"><p>ä¸Šå›¾ä¸­ï¼Œå·¦è¾¹çš„æ˜¯Imageç±»å‹çš„æ•°æ®ï¼Œå³è¾¹æ˜¯cvè¯»å–çš„æ•°æ®ï¼Œå¯ä»¥å‘ç°å‘ç”Ÿäº†é¢œè‰²é€šé“çš„è°ƒæ¢ã€‚å®é™…ä¸Šï¼Œè¯»å–åˆ°cvè¿™éƒ¨åˆ†å°±å¥½äº†ï¼Œå¯ä»¥è°ƒç”¨å¤šçª—å£çš„<code>imshow</code>è¿›è¡Œæ•°æ®å¯è§†åŒ–ã€‚</p><p>æˆ‘ä»¬ç°åœ¨æ‹¿åˆ°äº†çŒ«çŒ«å›¾åƒï¼é‚£ä¹ˆæ¥ä¸‹æ¥å°±è¦æ‹¿åˆ°çŒ«çŒ«çš„æ ‡ç­¾å•¦ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šå°†æ•°æ®è·Ÿæ ‡ç­¾è®°å½•åœ¨ä¸€ä¸ªæ–‡æ¡£é‡Œï¼Œæ¯ä¸€è¡Œå¯¹åº”ä¸€ä¸ªæ•°æ®(å›¾ç‰‡)è·¯å¾„å’Œä¸€ä¸ªæ ‡ç­¾ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ–‡ä»¶æ ‡ç­¾</span></span><br><span class="line">filelist=<span class="string">r&quot;data_split_list.txt&quot;</span></span><br><span class="line">imgs,labels=[],[] <span class="comment"># å­˜å‚¨åˆ—è¡¨</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(filelist) <span class="keyword">as</span> f:</span><br><span class="line">    lines=[_.strip() <span class="keyword">for</span> _ <span class="keyword">in</span> f] <span class="comment"># å»é™¤ç©ºç™½</span></span><br><span class="line">    np.random.shuffle(lines) <span class="comment"># éšæœºæ‰“ä¹±</span></span><br><span class="line">    <span class="keyword">for</span> l <span class="keyword">in</span> lines:</span><br><span class="line">        img_path,label=l.split(<span class="string">&#x27;\t&#x27;</span>) <span class="comment"># è·å–å›¾ç‰‡è·¯å¾„å’Œæ ‡ç­¾</span></span><br><span class="line">        img=Image.fromarray(cv2.imdecode(np.fromfile(img_path,np.float32),<span class="number">1</span>))</span><br><span class="line">        imgs.append(img)</span><br><span class="line">        labels.append(label)</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å°†è¿™éƒ¨åˆ†å·¥ä½œå°è£…æˆä¸€ä¸ªå‡½æ•°ï¼Œå°±å¯ä»¥å®ç°æ•°æ®çš„è¯»å–äº†ã€‚</p><p>æ¥ä¸‹æ¥çš„å·¥ä½œï¼Œå°±æ˜¯å°†æ•°æ®è½¬åŒ–ä¸º<code>PyTorch</code>æ¥å—çš„æ ¼å¼å•¦ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œ<code>PyTorch</code>çš„æ¨¡å‹è®­ç»ƒè·Ÿæ¨ç†ä¸€èˆ¬æ˜¯é€šè¿‡è¿­ä»£ä¸€ä¸ª<code>DataLoader</code>å¯¹è±¡æ¥è¿›è¡Œçš„ï¼Œè€Œ<code>DataLoader</code>å¯¹è±¡çš„æ•°æ®é›†æ˜¯ä¸€ä¸ª<code>DataSet</code>ç±»ã€‚æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬éœ€è¦æ„å»ºä¸€ä¸ª<code>Dataset</code>ç±»å•¦ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">myData</span>(<span class="title class_ inherited__">Dataset</span>):</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(myData,self).__init__()</span><br><span class="line">        self.data=[]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self,x</span>):</span><br><span class="line">        <span class="keyword">return</span> self.data[x]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__len__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(self.data)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å—¯ï¼ŒæŠŠä¸Šé¢ä¸‰ä¸ªå‡½æ•°å¡«å®Œå°±é˜”ä»¥å•¦ã€‚</p><p>å¯¹äºå›¾åƒæ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦åº”ç”¨ä¸€ä¸ª<code>transforms</code>ï¼Œè¿™é‡Œåšæœ€ç®€å•çš„å˜æ¢ï¼š<code>è½¬ä¸ºTensorï¼Œå°ºå¯¸è£å‰ªï¼Œæ ‡å‡†åŒ–</code>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">self.transform=transforms.Compose(</span><br><span class="line">    transforms.ToTensor(),</span><br><span class="line">    transforms.Resize((<span class="number">299</span>,<span class="number">299</span>)),</span><br><span class="line">    transforms.Normalize((<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>),(<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>))</span><br><span class="line">)</span><br></pre></td></tr></table></figure><p>æœ€ç»ˆçš„Datasetå¦‚ä¸‹:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">myData</span>(<span class="title class_ inherited__">Dataset</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,kind</span>):</span><br><span class="line">        <span class="built_in">super</span>(myData, self).__init__()</span><br><span class="line">        self.mode=kind</span><br><span class="line">        self.transform=transforms.Compose(</span><br><span class="line">            transforms.ToTensor(),</span><br><span class="line">            transforms.Resize((<span class="number">299</span>,<span class="number">299</span>)),</span><br><span class="line">            transforms.Normalize((<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>),(<span class="number">0.5</span>,<span class="number">0.5</span>,<span class="number">0.5</span>))</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> kind==<span class="string">&quot;test&quot;</span>:</span><br><span class="line">            self.imgs=self.load_origin_data()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.imgs,self.labels=self.load_origin_data()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__getitem__</span>(<span class="params">self, item</span>):</span><br><span class="line">        <span class="keyword">if</span> self.mode==<span class="string">&quot;test&quot;</span>:</span><br><span class="line">            <span class="keyword">return</span> self.transform(self.imgs[item])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> self.transform(self.imgs[item]),torch.tensor(self.labels[item])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__len__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(self.imgs)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">load_origin_data</span>(<span class="params">self</span>):</span><br><span class="line">        filelist = <span class="string">&#x27;./data/%s_split_list.txt&#x27;</span> % self.mode</span><br><span class="line">        imgs,labels=[],[]</span><br><span class="line">        data_dir=os.getcwd()+<span class="string">&quot;/data&quot;</span></span><br><span class="line">        <span class="keyword">if</span> self.mode==<span class="string">&#x27;train&#x27;</span> <span class="keyword">or</span> self.mode==<span class="string">&#x27;val&#x27;</span>:</span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(filelist) <span class="keyword">as</span> f:</span><br><span class="line">                lines=[_.strip() <span class="keyword">for</span> _ <span class="keyword">in</span> f]</span><br><span class="line">                <span class="keyword">if</span> self.mode==<span class="string">&#x27;train&#x27;</span>:</span><br><span class="line">                    np.random.shuffle(lines)</span><br><span class="line">                    <span class="keyword">for</span> l <span class="keyword">in</span> lines:</span><br><span class="line">                        img_path,label=l.split(<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">                        img_path=os.path.join(data_dir,img_path)</span><br><span class="line">                        <span class="keyword">try</span>:</span><br><span class="line">                            img=Image.fromarray(cv2.imdecode(np.fromfile(img_path,dtype=np.float32),<span class="number">1</span>))</span><br><span class="line">                            imgs.append(img)</span><br><span class="line">                            labels.append(<span class="built_in">int</span>(label))</span><br><span class="line">                        <span class="keyword">except</span> Exception(<span class="string">&quot;The path %s&quot;</span>%img_path+<span class="string">&quot; may be wrong&quot;</span>) <span class="keyword">as</span> e:</span><br><span class="line">                            <span class="built_in">print</span>(e)</span><br><span class="line">                            <span class="keyword">continue</span></span><br><span class="line">                    <span class="keyword">return</span> imgs,labels</span><br><span class="line">                <span class="keyword">elif</span> self.mode==<span class="string">&quot;test&quot;</span>:</span><br><span class="line">                    full_lines = os.listdir(<span class="string">&#x27;data/cat_12_test/&#x27;</span>)</span><br><span class="line">                    lines = [line.strip() <span class="keyword">for</span> line <span class="keyword">in</span> full_lines]</span><br><span class="line">                    <span class="keyword">for</span> img_path <span class="keyword">in</span> lines:</span><br><span class="line">                        img_path = os.path.join(data_dir, <span class="string">&quot;cat_12_test/&quot;</span>, img_path)</span><br><span class="line">                        img = Image.<span class="built_in">open</span>(img_path)</span><br><span class="line">                        imgs.append(img)</span><br><span class="line">                    <span class="keyword">return</span> imgs</span><br></pre></td></tr></table></figure><h3 id="2-3-æ¨¡å‹è®­ç»ƒ">2.3 æ¨¡å‹è®­ç»ƒ</h3><p>æˆ‘ä»¬åˆšåˆšè¯´<code>PyTorch</code>çš„æ¨¡å‹è®­ç»ƒè·Ÿæ¨ç†ä¸€èˆ¬æ˜¯é€šè¿‡è¿­ä»£ä¸€ä¸ª<code>DataLoader</code>å¯¹è±¡æ¥è¿›è¡Œçš„ï¼Œç°åœ¨å°±æ˜¯éœ€è¦æ„å»ºè¿™ä¸ªä¸œè¥¿å•¦ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">get_Dataloader</span>():</span><br><span class="line">    img_datasets = &#123;x: myData(x) <span class="keyword">for</span> x <span class="keyword">in</span> [<span class="string">&#x27;train&#x27;</span>, <span class="string">&#x27;val&#x27;</span>, <span class="string">&#x27;test&#x27;</span>]&#125;</span><br><span class="line">    dataset_sizes = &#123;x: <span class="built_in">len</span>(img_datasets[x]) <span class="keyword">for</span> x <span class="keyword">in</span> [<span class="string">&#x27;train&#x27;</span>, <span class="string">&#x27;val&#x27;</span>, <span class="string">&#x27;test&#x27;</span>]&#125;</span><br><span class="line"></span><br><span class="line">    train_loader = DataLoader(</span><br><span class="line">        dataset=img_datasets[<span class="string">&#x27;train&#x27;</span>],</span><br><span class="line">        batch_size=<span class="number">24</span>,</span><br><span class="line">        shuffle=<span class="literal">True</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    val_loader = DataLoader(</span><br><span class="line">        dataset=img_datasets[<span class="string">&#x27;val&#x27;</span>],</span><br><span class="line">        batch_size=<span class="number">1</span>,</span><br><span class="line">        shuffle=<span class="literal">False</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    test_loader = DataLoader(</span><br><span class="line">        dataset=img_datasets[<span class="string">&#x27;test&#x27;</span>],</span><br><span class="line">        batch_size=<span class="number">1</span>,</span><br><span class="line">        shuffle=<span class="literal">False</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    dataloaders = &#123;</span><br><span class="line">        <span class="string">&#x27;train&#x27;</span>: train_loader,</span><br><span class="line">        <span class="string">&#x27;val&#x27;</span>: val_loader,</span><br><span class="line">        <span class="string">&#x27;test&#x27;</span>: test_loader</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dataset_sizes,dataloaders</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥å°±æ˜¯å•çº¯çš„è®­ç»ƒè¿‡ç¨‹äº†ã€‚æ­¥éª¤æ€»ç»“å¦‚ä¸‹ï¼š</p><ul><li>å‚æ•°è®¾ç½®é˜¶æ®µ<ul><li>è®¾ç½®GPU</li><li>è®¾ç½®ä¼˜åŒ–å™¨ã€æŸå¤±å‡½æ•°ã€å­¦ä¹ ç­–ç•¥</li></ul></li><li>è®­ç»ƒè¿‡ç¨‹<ul><li>è¿­ä»£DataLoader</li><li>ä¼˜åŒ–å™¨æ¢¯åº¦æ¸…é›¶</li><li>æ¨¡å‹æ¨ç†</li><li>è¯¯å·®è®¡ç®—</li><li>åå‘ä¼ æ’­</li><li>æ›´æ–°ä¼˜åŒ–å™¨ã€å­¦ä¹ ç‡</li></ul></li><li>æ¨¡å‹è¯„ä¼°<ul><li>è®¡ç®—æ¯è½®çš„è¯¯å·®ç´¯è®¡å€¼ã€ç²¾åº¦</li><li>é€‰æ‹©æœ€ä¼˜ç²¾åº¦å¹¶è¿›è¡Œæ¨¡å‹ä¿å­˜</li></ul></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">Train</span>(<span class="params">model,criterion,optimizer,scheduler,num_epoches=<span class="number">25</span></span>):</span><br><span class="line">    dataset_sizes,dataloaders=get_Dataloader()</span><br><span class="line">    device=torch.device(<span class="string">&quot;cuda:0&quot;</span> <span class="keyword">if</span> torch.cuda.is_available() <span class="keyword">else</span> <span class="string">&quot;cpu&quot;</span>)</span><br><span class="line">    best_model_wts=copy.deepcopy(model.state_dict())</span><br><span class="line">    best_acc=<span class="number">0.0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(num_epoches):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Epoch &#123;&#125;/&#123;&#125;&quot;</span>.<span class="built_in">format</span>(epoch+<span class="number">1</span>,num_epoches))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> phase <span class="keyword">in</span> [<span class="string">&#x27;train&#x27;</span>,<span class="string">&#x27;val&#x27;</span>]:</span><br><span class="line">            <span class="keyword">if</span> phase==<span class="string">&quot;train&quot;</span>:</span><br><span class="line">                model.train()</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                model.<span class="built_in">eval</span>()</span><br><span class="line"></span><br><span class="line">            trian_loss=<span class="number">0.0</span></span><br><span class="line">            train_corrects=<span class="number">0</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> inputs,labels <span class="keyword">in</span> dataloaders[phase]:</span><br><span class="line">                inputs,labels=inputs.to(device),labels.to(device)</span><br><span class="line">                optimizer.zero_grad()</span><br><span class="line"></span><br><span class="line">                <span class="keyword">with</span> torch.set_grad_enabled(phase==<span class="string">&quot;train&quot;</span>):</span><br><span class="line">                    <span class="comment"># ä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼Œå‚æ•°æ˜¯Boolï¼Œç”¨äºç¡®å®šæ˜¯å¦å¯¹Blockå†…çš„è¯­å¥è¿›è¡Œæ±‚å¯¼</span></span><br><span class="line">                    y_pre=model(inputs)</span><br><span class="line">                    _,y_pre=torch.<span class="built_in">max</span>(y_pre,<span class="number">1</span>)</span><br><span class="line">                    loss=criterion(y_pre,labels)</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> phase==<span class="string">&quot;train&quot;</span>:</span><br><span class="line">                        loss.backward()</span><br><span class="line">                        optimizer.step()</span><br><span class="line"></span><br><span class="line">                trian_loss+=loss.item()*inputs.size(<span class="number">0</span>)</span><br><span class="line">                train_corrects+=torch.<span class="built_in">sum</span>(y_pre==labels)</span><br><span class="line">            <span class="keyword">if</span> phase==<span class="string">&quot;train&quot;</span>:</span><br><span class="line">                scheduler.step()</span><br><span class="line"></span><br><span class="line">            epoch_loss=trian_loss/dataset_sizes[phase]</span><br><span class="line">            epoch_acc=train_corrects.<span class="built_in">float</span>()/dataset_sizes[phase]</span><br><span class="line"></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;&#123;&#125; Loss :&#123;:.4f&#125; Acc &#123;:.4&#125;&quot;</span>.<span class="built_in">format</span>(phase,epoch_loss,epoch_acc))</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> phase==<span class="string">&quot;val&quot;</span> <span class="keyword">and</span> epoch_acc&gt;best_acc:</span><br><span class="line">                best_acc=epoch_acc</span><br><span class="line">                best_model_wts=copy.deepcopy(model.state_dict())</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Best val Acc : &#123;:4f&#125;&quot;</span>.<span class="built_in">format</span>(best_acc))</span><br><span class="line">    model.load_state_dict(best_model_wts)</span><br><span class="line">    <span class="keyword">return</span> model</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€è¿ç§»å­¦ä¹ ">ä¸‰ã€è¿ç§»å­¦ä¹ </h2><p>è¿ç§»å­¦ä¹ (Transfer Learning)å°±æ˜¯åˆ©ç”¨é¢„è®­ç»ƒå¥½çš„å¤§æ¨¡å‹å‚æ•°å»å­¦ä¹ å…¶ä»–æ•°æ®çš„åˆ†å¸ƒã€‚</p><p>è¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬ä¸€èˆ¬ä¸å¸Œæœ›åŸå§‹æ¨¡å‹å‚æ•°æ”¹å˜ï¼Œå› è€Œä¸€èˆ¬éœ€è¦åšå¦‚ä¸‹å·¥ä½œ:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> param <span class="keyword">in</span> model.parameters():</span><br><span class="line">    param.requires_grad=<span class="literal">False</span></span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œæˆ‘ä»¬éœ€è¦æ„æ¶æœ€åä¸€å±‚å…¨è¿æ¥å±‚ï¼Œç”¨æ¥å­¦ä¹ æ–°çš„æ•°æ®é›†ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">model.fc=nn.Linear(<span class="number">2048</span>,num_classes)</span><br></pre></td></tr></table></figure><p>ä¹Ÿå°±æ˜¯æœ€åéœ€è¦è®­ç»ƒçš„å°±æ˜¯è¿™ä¸ªå…¨è¿æ¥å±‚äº†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">Inception</span>(<span class="params">device</span>):</span><br><span class="line">    <span class="comment"># ç”¨è®­ç»ƒå¥½çš„æ¨¡å‹è¿›è¡Œè¿ç§»</span></span><br><span class="line">    model_ft=models.inception_v3(pretrained=<span class="literal">True</span>)</span><br><span class="line">    <span class="comment"># model_ft=models.resnet50(pretrained=True)</span></span><br><span class="line">    <span class="comment"># model_ft=models.alexnet(pretrained=True)</span></span><br><span class="line"></span><br><span class="line">    num_ftrs=model_ft.fc.in_features</span><br><span class="line">    model_ft.fc=nn.Linear(num_ftrs,<span class="number">12</span>) <span class="comment"># è®¾ç½®å…¨è¿æ¥å±‚æœ€ç»ˆç»“æœ</span></span><br><span class="line">    </span><br><span class="line">    model_ft=model_ft.to(device)</span><br><span class="line"></span><br><span class="line">    cirterion=nn.CrossEntropyLoss()</span><br><span class="line">    optimizer_ft=torch.optim.SGD(model_ft.parameters(),lr=<span class="number">0.001</span>,momentum=<span class="number">0.9</span>)</span><br><span class="line">    exp_lr_scheduler=lr_scheduler.StepLR(optimizer_ft,step_size=<span class="number">5</span>,gamma=<span class="number">0.1</span>)</span><br><span class="line">    model_ft=Train(model_ft,cirterion,optimizer_ft,exp_lr_scheduler,num_epoches=<span class="number">30</span>)</span><br></pre></td></tr></table></figure><h2 id="å››ã€ç»“æœåˆ†æ">å››ã€ç»“æœåˆ†æ</h2><ul><li><p>Inception</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Epoch 30/30</span><br><span class="line">train Loss: 0.1065 Acc: 0.9858</span><br><span class="line">val Loss: 0.3026 Acc: 0.8983</span><br><span class="line">Best val Acc: 0.918336</span><br></pre></td></tr></table></figure></li><li><p>AlexNet</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Epoch 30/30</span><br><span class="line">train Loss: 0.1403 Acc: 0.9601</span><br><span class="line">val Loss: 0.6815 Acc: 0.7750</span><br><span class="line">Best val Acc: 0.779661</span><br></pre></td></tr></table></figure></li><li><p>ResNet50</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Epoch 30/30</span><br><span class="line">train Loss: 0.0480 Acc: 0.9973</span><br><span class="line">val Loss: 0.3157 Acc: 0.9060</span><br><span class="line">Best val Acc: 0.909091</span><br></pre></td></tr></table></figure></li></ul><p>ä¸­é—´éƒ¨åˆ†ç‰¹å¾å›¾çš„ç»“æœå¦‚ä¸‹ï¼š</p><img src="/2023/05/20/%E3%80%90%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%B7%B5%E3%80%91%E7%8C%AB%E5%8D%81%E4%BA%8C%E5%88%86%E7%B1%BB/image-20230525231256607.png" alt="image-20230525231256607" style="zoom:33%;"><p>ç‰¹å¾å›¾å˜›ï¼Œä¸»æ‰“çš„å°±æ˜¯ä¸€ä¸ªæŠ½è±¡ã€‚å¯ä»¥å‘ç°åŒä¸€å¼ å›¾ç»è¿‡ä¸åŒçš„å·ç§¯æ ¸ä½œç”¨åï¼Œæœ‰äº†å…¨æ–°çš„é«˜ç»´ç‰¹å¾ï¼Œè¿™äº›ç‰¹å¾ä¹Ÿä¸»æ‰“çš„å°±æ˜¯ä¸€ä¸ªéš¾ä»¥è§£é‡Šï¼Œåæ­£å°±çœ‹ä¸ªä¹ã€‚</p><img src="/2023/05/20/%E3%80%90%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%B7%B5%E3%80%91%E7%8C%AB%E5%8D%81%E4%BA%8C%E5%88%86%E7%B1%BB/image-20230525231541473.png" alt="image-20230525231541473" style="zoom:50%;"><p>åŸºæœ¬ä¸Š7ä¸ªepochå°±æ”¶æ•›äº†ã€‚</p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">åŸºäºResNetçš„çŒ«åäºŒåˆ†ç±»è¿ç§»å­¦ä¹ </summary>
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="é¡¹ç›®å®è·µ" scheme="http://example.com/tags/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%B7%B5/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="http://example.com/2023/05/10/%E3%80%90%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E3%80%91GNN/"/>
    <id>http://example.com/2023/05/10/%E3%80%90%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E3%80%91GNN/</id>
    <published>2023-05-09T18:02:46.083Z</published>
    <updated>2023-05-09T18:04:11.640Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch.nn <span class="keyword">as</span> nn</span><br><span class="line"><span class="keyword">import</span> torch.nn.functional <span class="keyword">as</span> F</span><br><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GNN_Core</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,A,inC,outC</span>):</span><br><span class="line">        <span class="built_in">super</span>(GNN_Core, self).__init__()</span><br><span class="line">        <span class="comment"># Features Matrix X: [N,D]</span></span><br><span class="line">        <span class="comment"># Adjacent Matrix A: [N,D]</span></span><br><span class="line">        N=A.shape[<span class="number">0</span>]</span><br><span class="line">        self.self_adjecent=nn.Sequential(</span><br><span class="line">            nn.Linear(N,<span class="number">64</span>),</span><br><span class="line">            nn.BatchNorm1d(<span class="number">64</span>),</span><br><span class="line">            nn.ReLU(),</span><br><span class="line">            nn.Linear(<span class="number">64</span>,N)</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line">        self.adjacent=nn.Sequential(</span><br><span class="line">            nn.Linear(inC,<span class="number">32</span>),</span><br><span class="line">            nn.BatchNorm1d(<span class="number">32</span>),</span><br><span class="line">            nn.ReLU(),</span><br><span class="line">            nn.Linear(<span class="number">32</span>,outC)</span><br><span class="line">        )</span><br><span class="line">        self.A=A</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self,x,w</span>):</span><br><span class="line">        <span class="comment"># By the way, there is a small knowledge which about Diag</span></span><br><span class="line">        <span class="comment"># We can get Diag by torch.diag(M) and rebuild the dimension by torch.diag_embed(x)</span></span><br><span class="line">        <span class="comment"># by this approach, we also can easily make diag to 0.</span></span><br><span class="line">        <span class="comment"># Ori-torch.diag_embed(torch.diag(Ori)</span></span><br><span class="line">        sA=self.self_adjecent(torch.diag(x)) <span class="comment"># Only need to train the diag of matrix</span></span><br><span class="line">        A=self.adjacent(torch.bmm(self.A,x)) <span class="comment"># simulate the multiplication between A and X</span></span><br><span class="line">        A=w*A <span class="comment"># w means normalization function</span></span><br><span class="line">        <span class="comment"># A [B,N,O]</span></span><br><span class="line">        <span class="comment"># sA [N]</span></span><br><span class="line">        <span class="keyword">return</span> (A.T+sA).T</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GNN</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,A,hidden_num,hidden_out</span>):</span><br><span class="line">        <span class="built_in">super</span>(GNN, self).__init__()</span><br><span class="line">        self.hiddens=nn.Sequential()</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(hidden_num):</span><br><span class="line">            self.hiddens.append(GNN_Core(A,hidden_out[i],hidden_out[i+<span class="number">1</span>]))</span><br><span class="line">            <span class="keyword">if</span> i&lt;hidden_num-<span class="number">1</span>:</span><br><span class="line">                self.hiddens.append(nn.BatchNorm1d(hidden_out[i+<span class="number">1</span>]))</span><br><span class="line">                self.hiddens.append(nn.ReLU())</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self,x</span>):</span><br><span class="line">        x=self.hiddens(x)</span><br><span class="line">        <span class="keyword">return</span> F.softmax(x)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Loss</span>(nn.Module):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(Loss, self).__init__()</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">forward</span>(<span class="params">self,x,y</span>):</span><br><span class="line">        <span class="keyword">return</span> torch.<span class="built_in">sum</span>(y*np.log(x)+(<span class="number">1</span>-y)*np.log(<span class="number">1</span>-x))</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">train</span>():</span><br><span class="line">    model=GNN(<span class="literal">None</span>,<span class="number">3</span>,<span class="number">128</span>)</span><br><span class="line">    loss_func=Loss()</span><br><span class="line"></span><br><span class="line">    optimizer=torch.optim.SGD()</span><br><span class="line">    data=<span class="literal">None</span></span><br><span class="line">    y=<span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># ç®€å•æ¨¡æ‹Ÿä¸‹</span></span><br><span class="line">    y_pre=model(data)</span><br><span class="line">    optimizer.zero_grad()</span><br><span class="line">    loss=loss_func(y_pre,y)</span><br><span class="line">    loss.backward()</span><br><span class="line">    optimizer.step()</span><br><span class="line"></span><br></pre></td></tr></table></figure><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span clas</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>English Essay</title>
    <link href="http://example.com/2023/05/09/%E3%80%90%E8%8B%B1%E8%AF%AD%E3%80%91English%20Essay/"/>
    <id>http://example.com/2023/05/09/%E3%80%90%E8%8B%B1%E8%AF%AD%E3%80%91English%20Essay/</id>
    <published>2023-05-08T16:00:00.000Z</published>
    <updated>2023-05-09T16:01:42.411Z</updated>
    
    <content type="html"><![CDATA[<h3 id="The-Dissertation-Revision-Trap">The Dissertation Revision Trap</h3><blockquote><p>Imagine this common scenario: Youâ€™ve put your heart, blood, and time into creating and submitting an initial dissertation prospectus, concept paper, or dissertation proposal â€“ only to receive a request for revision.</p></blockquote><p>æƒ³è±¡ä¸€ä¸‹è¿™ä¸ªå¸¸è§çš„åœºæ™¯:ä½ æŠ•å…¥äº†å¿ƒè¡€å’Œæ—¶é—´æ¥åˆ›ä½œå’Œæäº¤ä¸€ä»½åˆæ­¥çš„è®ºæ–‡å¤§çº²ã€æ¦‚å¿µè®ºæ–‡æˆ–è®ºæ–‡ææ¡ˆï¼Œç»“æœå´æ”¶åˆ°äº†ä¿®æ”¹çš„è¯·æ±‚ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">put your heart, blood, <span class="keyword">and</span> time into : æŠ•èº«äº</span><br></pre></td></tr></table></figure><blockquote><p>Now, itâ€™s up to you to revise this thing and return it to your chair and/or committee members such that you can move forward. You make the revisions based upon your understanding of the requests being made. You resubmit. Then, it happens: You receive more request for revision.</p></blockquote><p>ç°åœ¨ï¼Œç”±ä½ æ¥ä¿®æ”¹è¿™ä¸ªä¸œè¥¿ï¼Œå¹¶æŠŠå®ƒè¿˜ç»™ä½ çš„ä¸»å¸­å’Œ/æˆ–å§”å‘˜ä¼šæˆå‘˜ï¼Œä»¥ä¾¿ä½ èƒ½ç»§ç»­å‰è¿›ã€‚ä½ æ ¹æ®ä½ å¯¹æ‰€æè¦æ±‚çš„ç†è§£è¿›è¡Œä¿®æ”¹ã€‚ä½ é‡æ–°æäº¤ã€‚ç„¶åï¼Œäº‹æƒ…å‘ç”Ÿäº†ï¼š ä½ æ”¶åˆ°æ›´å¤šçš„ä¿®æ”¹è¦æ±‚ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">it<span class="string">&#x27;s up to ï¼šå–å†³äº</span></span><br><span class="line"><span class="string">such that ï¼š å¦‚æ­¤...ä»¥è‡³äº</span></span><br><span class="line"><span class="string">based upon : å–å†³äº</span></span><br></pre></td></tr></table></figure><blockquote><p>Itâ€™s at this point where most candidates get stuck. Itâ€™s from this point that so many candidates will never advance. Such candidates are forever caught in the cycle of what I call â€œThe Dissertation Revision Trap.â€</p></blockquote><p>æ­£æ˜¯åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œå¤§å¤šæ•°å€™é€‰äººè¢«å¡ä½äº†ã€‚æ­£æ˜¯ä»è¿™ä¸€ç‚¹å‡ºå‘ï¼Œè®¸å¤šå€™é€‰äººå°†æ°¸è¿œæ— æ³•å‰è¿›ã€‚è¿™äº›å€™é€‰äººæ°¸è¿œé™·å…¥äº†æˆ‘ç§°ä¹‹ä¸º &quot;è®ºæ–‡ä¿®æ”¹é™·é˜± &quot;çš„å¾ªç¯ä¹‹ä¸­</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">at this point : åœ¨è¿™æ—¶ï¼Œåœ¨æ­¤å¤„</span><br><span class="line">It<span class="string">&#x27;s at this point where ..... : xxxåœ¨è¿™ä¸ªåœ°æ–¹</span></span><br><span class="line"><span class="string">get stuck : å¡ä½äº†</span></span><br><span class="line"><span class="string">be forever caught in the cycle of : é™·å…¥å¾ªç¯</span></span><br></pre></td></tr></table></figure><blockquote><p>Here are reasons that candidates get stuck in this trap:</p><p>POISON #1 : They submit their work far too early.</p><p>Candidates sometimes submit their â€œdraftâ€ before itâ€™s fully ready for chair and committee eyes. While checking in with oneâ€™s chair, asking for feedback about specific elements of oneâ€™s draft, and asking specific questions about executing specific section of oneâ€™s draft are great strategies to writing a great dissertation, submitting an all-out draft before you know that is fully meets the expectations of a finished draft is pretty unwise.</p></blockquote><p>ä»¥ä¸‹æ˜¯å€™é€‰äººé™·å…¥è¿™ä¸ªé™·é˜±çš„åŸå› ï¼š</p><p>POISON1ï¼šä»–ä»¬è¿‡æ—©åœ°æäº¤äº†ä»–ä»¬çš„å·¥ä½œã€‚</p><p>å€™é€‰äººæœ‰æ—¶ä¼šåœ¨è‡ªå·±çš„ &quot;è‰ç¨¿ &quot;å®Œå…¨å‡†å¤‡å¥½ä¾›ä¸»å¸­å’Œå§”å‘˜ä¼šå®¡é˜…ä¹‹å‰å°±æäº¤ã€‚è™½ç„¶å‘ä¸»å¸­äº†è§£æƒ…å†µï¼Œå°±è‰æ¡ˆçš„å…·ä½“å†…å®¹å¾æ±‚åé¦ˆæ„è§ï¼Œå¹¶å°±è‰æ¡ˆçš„å…·ä½“éƒ¨åˆ†æå‡ºå…·ä½“é—®é¢˜ï¼Œæ˜¯å†™å‡ºä¸€ç¯‡å¥½è®ºæ–‡çš„å¥½ç­–ç•¥ï¼Œä½†åœ¨ä½ çŸ¥é“å®Œå…¨æ»¡è¶³å®Œæˆè‰æ¡ˆçš„æœŸæœ›ä¹‹å‰å°±æäº¤ä¸€ä»½å…¨é¢çš„è‰æ¡ˆæ˜¯éå¸¸ä¸æ˜æ™ºçš„ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">specific : ç‰¹å®šçš„ï¼Œæ˜ç¡®çš„</span><br><span class="line">pretty unwise : åŠå…¶ä¸æ˜æ™º</span><br></pre></td></tr></table></figure><blockquote><p>POISON #2 : They only address the revision request.</p><p>When you receive a request from a committee member, itâ€™s natural to want to satisfy that revision. However, satisfying that revision request alone is not enough. Often you have to adjust other elements of your draft to satisfy the revision request AND address any paper-wide changes required to accommodate the request.</p><p>The antidote: Make the requested revision and examine how the draft needs to change around the revision. Carefully check your line of logic to make sure that it still holds with the new revision. In the event you donâ€™t understand the revision request, call the requester on the phone or meet face-to-face to ask some questions.</p></blockquote><p>POISON2:å®ƒä»¬åªå¤„ç†ä¿®æ”¹è¯·æ±‚ã€‚</p><p>å½“ä½ æ”¶åˆ°ä¸€ä¸ªå§”å‘˜ä¼šæˆå‘˜çš„è¯·æ±‚æ—¶ï¼Œæƒ³è¦æ»¡è¶³è¿™ä¸ªä¿®æ”¹æ˜¯å¾ˆè‡ªç„¶çš„ã€‚ç„¶è€Œï¼Œä»…ä»…æ»¡è¶³ä¿®æ”¹è¦æ±‚æ˜¯ä¸å¤Ÿçš„ã€‚é€šå¸¸ï¼Œä½ å¿…é¡»è°ƒæ•´è‰ç¨¿çš„å…¶ä»–å…ƒç´ ä»¥æ»¡è¶³ä¿®æ”¹è¦æ±‚ï¼Œå¹¶å¤„ç†ä¸ºé€‚åº”è¦æ±‚è€Œéœ€è¦è¿›è¡Œçš„æ‰€æœ‰çº¸å¼ æ›´æ”¹ã€‚</p><p>è§£å†³æ–¹æ³•:è¿›è¡Œè¦æ±‚çš„ä¿®æ”¹ï¼Œå¹¶æ£€æŸ¥è‰ç¨¿éœ€è¦å¦‚ä½•å›´ç»•ä¿®æ”¹è¿›è¡Œæ›´æ”¹ã€‚ä»”ç»†æ£€æŸ¥ä½ çš„é€»è¾‘çº¿ï¼Œä»¥ç¡®ä¿å®ƒä»ç„¶é€‚ç”¨äºæ–°çš„ä¿®è®¢ã€‚å¦‚æœä½ ä¸æ˜ç™½ä¿®æ”¹è¯·æ±‚ï¼Œæ‰“ç”µè¯ç»™è¯·æ±‚è€…æˆ–é¢å¯¹é¢åœ°é—®ä¸€äº›é—®é¢˜ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">address : ä¹Ÿæœ‰ä¿®è®¢çš„æ„æ€</span><br><span class="line">accommodate : å®¹çº³ï¼Œæ»¡è¶³ï¼Œè¿å°±</span><br><span class="line">it<span class="string">&#x27;s natural to do : è‡ªç„¶è€Œç„¶åš</span></span><br><span class="line"><span class="string">antidote : è§£æ¯’è¯(çŸ«æ­£æ–¹æ³•)</span></span><br><span class="line"><span class="string">make sure : ç¡®ä¿</span></span><br><span class="line"><span class="string">In the event : å‡å¦‚ï¼Œå€˜è‹¥</span></span><br></pre></td></tr></table></figure><blockquote><p>POISON #3: They go overboard in their revisions.</p><p>Sometimes, rarely, candidates will change their draft more than required. For example, if a revision request was made to augment a minute element of a single sentence and the candidate made unnecessary global changes to oneâ€™s literature review based upon that single request, that would be an overreaction.</p><p>The antidote: Ask careful questions to the person requesting the revision. Understand the extent of the change before you make it.</p></blockquote><p>POISON3:ä»–ä»¬åœ¨ä¿®æ”¹ä¸­åšå¾—å¤ªè¿‡ç«äº†ã€‚</p><p>æœ‰æ—¶ï¼Œå¾ˆå°‘ï¼Œå€™é€‰äººä¼šä¿®æ”¹ä»–ä»¬çš„è‰ç¨¿è¶…è¿‡è¦æ±‚ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªä¿®æ”¹è¯·æ±‚æ˜¯ä¸ºäº†å¢åŠ ä¸€ä¸ªå¥å­çš„ä¸€ä¸ªå¾®å°å…ƒç´ ï¼Œè€Œå€™é€‰äººæ ¹æ®è¿™ä¸ªè¯·æ±‚å¯¹ä»–çš„æ–‡çŒ®ç»¼è¿°è¿›è¡Œäº†ä¸å¿…è¦çš„å…¨é¢ä¿®æ”¹ï¼Œè¿™å°†æ˜¯ååº”è¿‡åº¦ã€‚</p><p>è§£å†³æ–¹æ³•:å‘è¦æ±‚ä¿®æ”¹çš„äººä»”ç»†æé—®ã€‚åœ¨åšå‡ºæ”¹å˜ä¹‹å‰ï¼Œè¦äº†è§£æ”¹å˜çš„ç¨‹åº¦ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">go overboard <span class="keyword">in</span> : å¤ªè¿‡ç«äº†</span><br><span class="line">rarely : å¾ˆå°‘</span><br><span class="line">the extent of : ç¨‹åº¦</span><br></pre></td></tr></table></figure><hr><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;The-Dissertation-Revision-Trap&quot;&gt;The Dissertation Revision Trap&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Imagine this common scenario: Youâ€™ve put your he</summary>
      
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="è‹±è¯­" scheme="http://example.com/tags/%E8%8B%B1%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>ã€OpenCVã€‘OpenCVåŸºæœ¬æ“ä½œ</title>
    <link href="http://example.com/2023/03/21/%E3%80%90OpenCV%E3%80%91OpenCV%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/"/>
    <id>http://example.com/2023/03/21/%E3%80%90OpenCV%E3%80%91OpenCV%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/</id>
    <published>2023-03-21T09:32:51.556Z</published>
    <updated>2023-03-21T16:38:41.557Z</updated>
    
    <content type="html"><![CDATA[<h1>OpenCVåŸºæœ¬æ“ä½œ</h1><hr><p>OpenCVæœ¬è´¨ä¸Šè¿˜æ˜¯C/C++æ¶æ„ï¼Œåªä¸è¿‡æˆ‘ä»¬å¯ä»¥é€šè¿‡Pythonçš„æ¥å£æ¥è°ƒç”¨åº•å±‚ä»£ç ã€‚å…¶ä¸­çš„æ¨¡å—å¤§è‡´å¦‚ä¸‹ï¼š</p><img src="/2023/03/21/%E3%80%90OpenCV%E3%80%91OpenCV%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/image-20230321173939350.png" alt="image-20230321173939350" style="zoom:50%;"><p><img src="/2023/03/21/%E3%80%90OpenCV%E3%80%91OpenCV%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/image-20230321174122542.png" alt="image-20230321174122542"></p><img src="/2023/03/21/%E3%80%90OpenCV%E3%80%91OpenCV%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/image-20230321174217314.png" alt="image-20230321174217314" style="zoom:50%;"><hr><h2 id="3-1-å›¾åƒè¾“å…¥ä¸è¾“å‡º">3.1 å›¾åƒè¾“å…¥ä¸è¾“å‡º</h2><p>å¤„ç†å›¾åƒä¹‹å‰ï¼Œéœ€è¦å°†å›¾åƒæ–‡ä»¶ä»ç£ç›˜ä¸Šè¯»å–åˆ°å†…å­˜ï¼Œå¤„ç†å®Œæ¯•åå†ä¿å­˜åˆ°å†…å­˜ã€‚<code>imgproc</code>æ¨¡å—æä¾›äº†è¿™äº›å…¨å±€å‡½æ•°ï¼Œç”¨æ¥è¯»å–æˆ–ä¿å­˜å›¾åƒæ–‡ä»¶ã€‚</p><h3 id="3-1-1-è¯»å–å›¾åƒ">3.1.1  è¯»å–å›¾åƒ</h3><p>å‡½æ•°<code>imread</code>ç”¨äºè¯»å–å›¾åƒæ–‡ä»¶æˆ–åŠ è½½å›¾åƒæ–‡ä»¶ã€‚å…¶å£°æ˜å¦‚ä¸‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cv.imread(filename[, flags])-&gt;retval</span><br></pre></td></tr></table></figure><p>è¿™ä¸ª<code>flags</code>å‚æ•°è¡¨ç¤ºè¯»å–æ¨¡å¼ï¼Œè¾“å…¥æ˜¯ä¸€ç»„æšä¸¾æ•°æ®ï¼Œå–å€¼å¦‚ä¸‹ï¼š</p><ul><li><code>cv.IMREAD_ANYDEPTH:2</code>,è‹¥è¾“å…¥çš„å›¾åƒæ·±åº¦æ˜¯<code>16</code>æˆ–è€…<code>32</code>ï¼Œå°±è¿”å›å¯¹åº”æ·±åº¦çš„å›¾åƒï¼Œå¦åˆ™è½¬æ¢ä¸º<code>8</code>ä½å›¾åƒè¿”å›ã€‚</li><li><code>cv.IMREAD_COLOR:1</code>ï¼Œå°†è¾“å…¥å›¾åƒè½¬åŒ–ä¸ºä¸‰é€šé“å½©è‰²å›¾åƒ</li><li><code>cv.IMREAD_GRAYSCALE:0</code>ï¼Œå°†å›¾åƒè½¬ä¸ºä¸€é€šé“ç°åº¦å›¾</li><li><code>cv.IMREAD_UNCHANGED:-1</code>ï¼ŒåŸå°ä¸åŠ¨è¯»å–åŸå›¾</li></ul><p>å¦‚æœè¿™ä¸ªå‡½æ•°æ²¡æœ‰è¯»å–æˆåŠŸï¼Œåˆ™ä¼šè¿”å›<code>None</code>ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¯»å–çš„ç»“æœæ˜¯ä¸€ä¸ª<code>Ndarray</code>æ•°ç»„ï¼Œå¯ä»¥é€šè¿‡<code>Numpy</code>çš„æ–¹æ³•å¯¹å…¶è¿›è¡Œå¤„ç†ã€‚</p><p>é™¤å´<code>imread</code>å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡<code>imdecode</code>ä»ç¼“å­˜ä¸­è¯»å–å›¾åƒã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cv.imdecode(np.fromfile(imgpath,dtype=np.unint8),flag)</span><br></pre></td></tr></table></figure><h3 id="3-2-2-ä¿å­˜å›¾åƒ">3.2.2  ä¿å­˜å›¾åƒ</h3><p>æˆ‘ä»¬ç°åœ¨ç”¨å‡½æ•°<code>imwrite</code>æ¥ä¿å­˜å›¾åƒã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">imwrite(filename,img[.params])-&gt;retval</span><br></pre></td></tr></table></figure><p>å¥½äº†ï¼Œæˆ‘ä»¬ç›´æ¥æ¥çœ‹ä¸€ä¸ªä¾‹å­å§ï¼Œ<strong>è¯»å–å¹¶ä¿å­˜å›¾åƒ</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¯»å–ä¸€å¼ å›¾åƒ</span></span><br><span class="line">img=cv.imread(<span class="string">&quot;./Files/img1.png&quot;</span>,cv.IMREAD_GRAYSCALE)</span><br><span class="line"><span class="comment"># åœ¨namewindow(GUI)æ˜¾ç¤ºå›¾åƒ</span></span><br><span class="line">cv.imshow(<span class="string">&quot;window1&quot;</span>,img)</span><br><span class="line">cv.waitKey(<span class="number">0</span>)</span><br><span class="line">cv.imwrite(<span class="string">&quot;./Files/img4.jpg&quot;</span>,img)</span><br><span class="line">cv.destroyWindow(<span class="string">&quot;window1&quot;</span>)</span><br></pre></td></tr></table></figure><p>å½“ç„¶é™¤äº†é€šè¿‡namewindowæ˜¾ç¤ºå›¾åƒå¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è°ƒç”¨matplotlibçš„æ¥å£ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">img=cv.imread(<span class="string">&quot;./Files/img1.png&quot;</span>,cv.IMREAD_GRAYSCALE)</span><br><span class="line">plt.imshow(img)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p>å¦‚æœæˆ‘ä»¬æ‰‹ä¸Šæœ‰ä¸¤å¹…å›¾åƒï¼Œå¯ä»¥é€šè¿‡çº¿æ€§åŠ å’Œçš„æ–¹å¼å°†å…¶<strong>æ··åˆ</strong>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å›¾åƒæ··åˆ</span></span><br><span class="line">alpha=<span class="number">0.5</span></span><br><span class="line">img1=cv.imread(<span class="string">&quot;./Files/img2.png&quot;</span>)</span><br><span class="line">img2=cv.imdecode(np.fromfile(<span class="string">&quot;./Files/img3.png&quot;</span>,dtype=np.uint8),-<span class="number">1</span>)</span><br><span class="line"><span class="keyword">if</span> img1 <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">    sys.exit(<span class="string">&quot;Could not read the image1&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> img2 <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">    sys.exit(<span class="string">&quot;Could not read the image2&quot;</span>)</span><br><span class="line">img2=cv.resize(img2,(img1.shape[<span class="number">1</span>],img1.shape[<span class="number">0</span>]),interpolation=cv.INTER_LINEAR)</span><br><span class="line">i1,i2,i3=img2[:,:,<span class="number">0</span>],img2[:,:,<span class="number">1</span>],img2[:,:,<span class="number">2</span>]</span><br><span class="line">img2=cv.merge((i1,i2,i3))</span><br><span class="line">beta=(<span class="number">1.0</span>-alpha)</span><br><span class="line">dst=cv.addWeighted(img1,alpha,img2,beta,<span class="number">0.0</span>,<span class="number">0</span>)</span><br><span class="line">cv.imshow(<span class="string">&quot;result&quot;</span>,dst)</span><br><span class="line">cv.waitKey(<span class="number">0</span>)</span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæœ‰ä¸€ä¸ª<code>cv.resize(img,(newH,newW),method)</code>æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡æ’å€¼çš„æ–¹å¼å¯¹å›¾åƒé‡æ–°é‡‡æ ·ã€‚ä¸åŒé€šé“çš„å›¾åƒå¯ä»¥é€šè¿‡<code>ndarray</code>ç´¢å¼•çš„æ–¹å¼è¿›è¡Œæ‹†åˆ†ï¼Œå¹¶é€šè¿‡<code>cv.merge()</code>æ–¹æ³•è¿›è¡Œå †å ã€‚</p><p><code>merge</code>æ–¹æ³•ç­‰ä»·äºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dataset=[np.random.randn(<span class="number">4</span>,<span class="number">3</span>) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">6</span>)]</span><br><span class="line">np.stack(dataset,axis=-<span class="number">1</span>)</span><br></pre></td></tr></table></figure><p>ç„¶åå›¾åƒçº¿æ€§åŠ å’Œå‡½æ•°<code>addWeighted(img,alpha,img,alpha,0.0,0)</code>ï¼Œå®é™…ä¸Šä¹Ÿç±»ä¼¼äºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">D=img1*alpha+img2*beta</span><br><span class="line">D=D.astype(<span class="built_in">int</span>)</span><br><span class="line">dst1=np.clip(D,<span class="number">0</span>,<span class="number">255</span>)</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªæ —å­ï¼Œå¯¹å¤šå¹…å›¾åƒè¿›è¡Œ<strong>æ‹¼æ¥</strong>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¤šå¹…å›¾åƒ</span></span><br><span class="line">img1=cv.resize(img1,(<span class="number">100</span>,<span class="number">100</span>),interpolation=cv.INTER_LINEAR)</span><br><span class="line">img2=cv.resize(img2,(<span class="number">100</span>,<span class="number">100</span>),interpolation=cv.INTER_LINEAR)</span><br><span class="line">img=np.hstack((img1,img2))</span><br><span class="line">Img=np.vstack((img1,img2))</span><br><span class="line">cv.imshow(<span class="string">&quot;01&quot;</span>,img)</span><br><span class="line">cv.waitKey(<span class="number">0</span>) <span class="comment"># 0ä¸è‡ªåŠ¨é€€å‡ºï¼Œå¦åˆ™æ­£æ•°ä»£è¡¨æ¯«ç§’</span></span><br><span class="line">cv.destroyAllWindows()</span><br></pre></td></tr></table></figure><p>è¿™è¾¹å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ<code>hstack</code>å’Œ<code>vstack</code>åˆ†åˆ«ä¼šåœ¨<code>dim=0</code>å’Œ<code>dim=1</code>ä¸Šæ“ä½œã€‚</p><p>å¦‚æœæƒ³è¦<strong>è°ƒæ•´GUIçª—å£å¤§å°</strong>ï¼Œå¯ä»¥è¿™æ ·ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºä¸€ä¸ªçª—å£å¹¶è°ƒæ•´å¤§å°</span></span><br><span class="line">cv.namedWindow(<span class="string">&quot;02&quot;</span>,cv.WINDOW_NORMAL)</span><br><span class="line">cv.resizeWindow(<span class="string">&quot;02&quot;</span>,Img.shape[<span class="number">1</span>],Img.shape[<span class="number">0</span>])</span><br><span class="line"><span class="comment"># resizeWindowçš„é€»è¾‘é¡ºåºåº”è¯¥åœ¨imshowä¹‹å‰</span></span><br><span class="line"></span><br><span class="line">cv.imshow(<span class="string">&quot;02&quot;</span>,Img)</span><br><span class="line"></span><br><span class="line">cv.waitKey(<span class="number">0</span>)</span><br><span class="line">cv.destroyAllWindows()</span><br></pre></td></tr></table></figure><h3 id="3-2-3-é¼ æ ‡äº‹ä»¶">3.2.3  é¼ æ ‡äº‹ä»¶</h3><p>è¿™é‡Œæˆ‘ä»¬è¦ä»‹ç»<strong>å›è°ƒå‡½æ•°</strong>(call back function)ï¼Œä¸€èˆ¬æƒ…å†µä¸‹åº”ç”¨ç¨‹åºä¼šé€šè¿‡åº”ç”¨ç¼–ç¨‹æ¥å£è°ƒç”¨ç³»ç»Ÿåº“çš„å‡½æ•°ï¼Œä½†æœ‰äº›åº“å‡½æ•°å´è¦æ±‚åº”ç”¨ç¨‹åºä¼ å›ä¸€ä¸ªå‡½æ•°ï¼Œè¿™æ ·å…·æœ‰æå¤§çš„çµæ´»æ€§ã€‚</p><p>OpenCVæä¾›äº†<code>setMousecallback</code>æ¥å£ï¼Œç”¨æ¥é¢„å…ˆè®¾ç½®å¥½å›è°ƒå‡½æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SetMouseCallback(WindowName,onMouse,param=<span class="literal">None</span>)-&gt;<span class="literal">None</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥å®šä¹‰è‡ªå·±çš„å›è°ƒå‡½æ•°ï¼Œè¯·æ³¨æ„ï¼Œè¿™ä¸ªå‡½æ•°ç»§æ‰¿è‡ª<code>event</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">MouseCallback</span>(<span class="params">event,x,y,flags,param</span>)</span><br></pre></td></tr></table></figure><p><code>event</code>çš„æšä¸¾ç±»å‹æœ‰ï¼š</p><table><thead><tr><th style="text-align:center">Name</th><th style="text-align:center">Value</th><th style="text-align:center">Meaning</th></tr></thead><tbody><tr><td style="text-align:center">EVENT_MOUSEMOVE</td><td style="text-align:center">0</td><td style="text-align:center">æ»‘åŠ¨</td></tr><tr><td style="text-align:center">EVENT_LBUTTONDOWN</td><td style="text-align:center">1</td><td style="text-align:center">å·¦é”®ç‚¹å‡»</td></tr><tr><td style="text-align:center">EVENT_RBUTTONDOWN</td><td style="text-align:center">2</td><td style="text-align:center">å³é”®ç‚¹å‡»</td></tr><tr><td style="text-align:center">EVENT_MBUTTONDOWN</td><td style="text-align:center">3</td><td style="text-align:center">ä¸­é”®ç‚¹å‡»</td></tr><tr><td style="text-align:center">EVENT_LBUTTONUP</td><td style="text-align:center">4</td><td style="text-align:center">å·¦é”®æ”¾å¼€</td></tr><tr><td style="text-align:center">EVENT_RBUTTONUP</td><td style="text-align:center">5</td><td style="text-align:center">å³é”®æ”¾å¼€</td></tr><tr><td style="text-align:center">EVENT_MBUTTONUP</td><td style="text-align:center">6</td><td style="text-align:center">ä¸­é”®æ”¾å¼€</td></tr><tr><td style="text-align:center">EVENT_LBUTTONBLCLK</td><td style="text-align:center">7</td><td style="text-align:center">å·¦é”®åŒå‡»</td></tr><tr><td style="text-align:center">EVENT_RBUTTONBLCLK</td><td style="text-align:center">8</td><td style="text-align:center">å³é”®åŒå‡»</td></tr><tr><td style="text-align:center">EVENT_MBUTTONBLCLK</td><td style="text-align:center">9</td><td style="text-align:center">ä¸­é”®åŒå‡»</td></tr></tbody></table><p><code>flags</code>çš„ç±»å‹æœ‰</p><table><thead><tr><th style="text-align:center">Name</th><th style="text-align:center">Value</th><th style="text-align:center">Meaning</th></tr></thead><tbody><tr><td style="text-align:center">EVENT_FLAG_LBUTTON</td><td style="text-align:center">1</td><td style="text-align:center">å·¦é”®æ‹–æ‹½</td></tr><tr><td style="text-align:center">EVENT_FLAG_RBUTTON</td><td style="text-align:center">2</td><td style="text-align:center">å³é”®æ‹–æ‹½</td></tr><tr><td style="text-align:center">EVENT_FLAG_MBUTTON</td><td style="text-align:center">4</td><td style="text-align:center">ä¸­é”®æ‹–æ‹½</td></tr><tr><td style="text-align:center">EVENT_FLAG_CTRLKEY</td><td style="text-align:center">8</td><td style="text-align:center">ctr</td></tr><tr><td style="text-align:center">EVENT_FLAG_SHIFTKEY</td><td style="text-align:center">16</td><td style="text-align:center">shift</td></tr><tr><td style="text-align:center">EVENT_FLAG_ALTKEY</td><td style="text-align:center">32</td><td style="text-align:center">alt</td></tr></tbody></table><p>ç°åœ¨æˆ‘ä»¬æ¥çœ‹ä¸ªæ —å­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2 <span class="keyword">as</span> cv</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line">img=np.zeros((<span class="number">500</span>,<span class="number">500</span>))</span><br><span class="line"><span class="comment"># å®šä¹‰å›è°ƒå‡½æ•°</span></span><br><span class="line">nx,ny=<span class="number">0</span>,<span class="number">0</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">draw_circle</span>(<span class="params">event,x,y,flags,param</span>):</span><br><span class="line">    <span class="keyword">global</span> nx,ny</span><br><span class="line">    <span class="keyword">if</span> event==cv.EVENT_LBUTTONDOWN:</span><br><span class="line">        <span class="comment"># ç»˜åˆ¶åœ†</span></span><br><span class="line">        nx,ny=x,y</span><br><span class="line">    <span class="keyword">if</span> event==cv.EVENT_LBUTTONUP:</span><br><span class="line">        cv.circle(img,(nx,ny),<span class="built_in">int</span>(math.sqrt((x-nx)**<span class="number">2</span>+(y-ny)**<span class="number">2</span>)),<span class="number">255</span>,-<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">cv.namedWindow(<span class="string">&quot;IMG&quot;</span>)</span><br><span class="line">cv.setMouseCallback(<span class="string">&#x27;IMG&#x27;</span>,draw_circle)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">    cv.imshow(<span class="string">&#x27;IMG&#x27;</span>,img)</span><br><span class="line">    n=cv.waitKey(<span class="number">5</span>) <span class="comment"># è·å–é”®ç›˜è¾“å…¥</span></span><br><span class="line">    <span class="keyword">if</span> n==<span class="built_in">ord</span>(<span class="string">&#x27;q&#x27;</span>):</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">elif</span> n==<span class="built_in">ord</span>(<span class="string">&#x27;s&#x27;</span>):</span><br><span class="line">        <span class="comment"># ä¿å­˜</span></span><br><span class="line">        cv.imwrite(<span class="string">&quot;./Files/img5.png&quot;</span>,img)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Save successfully&quot;</span>)</span><br><span class="line">cv.destroyAllWindows()</span><br></pre></td></tr></table></figure><img src="/2023/03/21/%E3%80%90OpenCV%E3%80%91OpenCV%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/image-20230321234107166.png" alt="image-20230321234107166" style="zoom:50%;"><h3 id="3-2-4-æ»‘åŠ¨æ¡äº‹ä»¶">3.2.4  æ»‘åŠ¨æ¡äº‹ä»¶</h3><p>åœ¨OpenCVä¸­ï¼Œæ»‘åŠ¨æ¡ä¸€èˆ¬æ˜¯ç”¨æ¥åœ¨è§†é¢‘æ’­æ”¾å¸§ä¸­é€‰æ‹©ç‰¹å®šå¸§ã€‚æˆ‘ä»¬ä¸€èˆ¬éœ€è¦ç»™æ»‘åŠ¨æ¡åˆ›å»ºä¸€ä¸ªåå­—ï¼Œå¹¶é€šè¿‡è¿™ä¸ªåå­—è¿›è¡Œå¼•ç”¨ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CreateTrackbar(trackbarName,windowName,value,count,onChange)-&gt; None</span><br></pre></td></tr></table></figure><p>æ»‘åŠ¨æ¡ä¸ä¼šæŒ¡ä½çˆ¶çª—å£çš„å›¾åƒï¼Œåªä¼šè®©å…¶å˜å¤§ã€‚<code>value</code>è¡¨ç¤ºå½“å‰æ»‘åŠ¨æ¡çš„ä½ç½®ï¼Œ<code>count</code>è¡¨ç¤ºåä¸œçš„æœ€å¤§å€¼ã€‚<code>onChange</code>ä¹Ÿæ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚</p><p>æˆ‘ä»¬ç°åœ¨æ¥çœ‹æ»‘åŠ¨æ¡çš„å›è°ƒå‡½æ•°ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">def <span class="title function_">TrackbarCallback</span><span class="params">(pos,userdata)</span></span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<code>pos</code>è¡¨ç¤ºæ»‘åŠ¨å—å½“å‰ä½ç½®ï¼Œ<code>userdata</code>è¡¨ç¤ºå¯é€‰å‚æ•°ã€‚å¦‚æœä¸éœ€è¦ï¼Œå°±æŠŠ<code>onChange</code>è®¾ç½®æˆ<code>None</code>å°±è¡Œäº†ã€‚</p><p>å¦‚æœæˆ‘ä»¬æƒ³è·å–æ»‘åŠ¨å—çš„ä½ç½®ï¼Œå¯ä»¥æ˜¯ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">GetTrackbarPos(Name,WindowName)-&gt;retval</span><br><span class="line"><span class="title function_">SetTrackbarPos</span><span class="params">(Name,WindowName,pos)</span>-&gt;None</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æˆ‘ä»¬ä¸¾ä¸ªæ —å­æ¥çœ‹å¦‚ä½•é€šè¿‡æ»‘åŠ¨å—è°ƒèŠ‚äº®åº¦ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2 <span class="keyword">as</span> cv</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line">alpha=<span class="number">0.3</span></span><br><span class="line">beta=<span class="number">80</span></span><br><span class="line"></span><br><span class="line">img_path=<span class="string">r&quot;./Files/img2.png&quot;</span></span><br><span class="line">img=cv.imread(img_path)</span><br><span class="line">img2=cv.imread(img_path)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">updateAlpha</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="keyword">global</span> alpha,img,img2</span><br><span class="line">    alpha=cv.getTrackbarPos(<span class="string">&#x27;Alpha&#x27;</span>,<span class="string">&#x27;image&#x27;</span>)</span><br><span class="line">    alpha*=<span class="number">0.01</span></span><br><span class="line">    img=np.uint8(np.clip((alpha*img2+beta),<span class="number">0</span>,<span class="number">255</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">updateBeta</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="keyword">global</span> beta,img,img2</span><br><span class="line">    beta=cv.getTrackbarPos(<span class="string">&quot;Beta&quot;</span>,<span class="string">&#x27;image&#x27;</span>)</span><br><span class="line">    img=np.uint8(np.clip((alpha*img2+beta),<span class="number">0</span>,<span class="number">255</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºçª—å£</span></span><br><span class="line">cv.namedWindow(<span class="string">&quot;image&quot;</span>)</span><br><span class="line">cv.createTrackbar(<span class="string">&#x27;Alpha&#x27;</span>,<span class="string">&#x27;image&#x27;</span>,<span class="number">0</span>,<span class="number">300</span>,updateAlpha)</span><br><span class="line">cv.createTrackbar(<span class="string">&#x27;Beta&#x27;</span>,<span class="string">&#x27;image&#x27;</span>,<span class="number">0</span>,<span class="number">255</span>,updateBeta)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®é»˜è®¤å€¼</span></span><br><span class="line">cv.setTrackbarPos(<span class="string">&#x27;Alpha&#x27;</span>,<span class="string">&#x27;image&#x27;</span>,<span class="number">100</span>)</span><br><span class="line">cv.setTrackbarPos(<span class="string">&#x27;Beta&#x27;</span>,<span class="string">&#x27;image&#x27;</span>,<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">    cv.imshow(<span class="string">&#x27;image&#x27;</span>,img)</span><br><span class="line">    <span class="keyword">if</span> cv.waitKey(<span class="number">1</span>)==<span class="built_in">ord</span>(<span class="string">&#x27;q&#x27;</span>):</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">cv.destroyAllWindows()</span><br></pre></td></tr></table></figure><img src="/2023/03/21/%E3%80%90OpenCV%E3%80%91OpenCV%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/image-20230322003836973.png" alt="image-20230322003836973" style="zoom:50%;"><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ</summary>
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="OpenCV" scheme="http://example.com/tags/OpenCV/"/>
    
  </entry>
  
  <entry>
    <title>ã€OpenCVã€‘è®¡ç®—æœºè§†è§‰æ¦‚è¿°</title>
    <link href="http://example.com/2023/03/20/%E3%80%90OpenCV%E3%80%91%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89%E6%A6%82%E8%BF%B0/"/>
    <id>http://example.com/2023/03/20/%E3%80%90OpenCV%E3%80%91%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89%E6%A6%82%E8%BF%B0/</id>
    <published>2023-03-20T15:14:01.415Z</published>
    <updated>2023-03-21T09:32:36.032Z</updated>
    
    <content type="html"><![CDATA[<h1>è®¡ç®—æœºè§†è§‰æ¦‚è¿°</h1><h2 id="1-å›¾åƒçš„åŸºæœ¬æ¦‚å¿µ">1  å›¾åƒçš„åŸºæœ¬æ¦‚å¿µ</h2><h3 id="1-1-å›¾åƒå’Œå›¾å½¢">1.1  å›¾åƒå’Œå›¾å½¢</h3><p>å›¾åƒæ˜¯æ‘„å½±æœºã€ç…§ç›¸æœºç­‰è¾“å…¥è®¾å¤‡æ•æ‰å®é™…çš„ç”»é¢äº§ç”Ÿçš„æ•°å­—å›¾åƒï¼Œæ˜¯ç”±åƒç´ æ„æˆçš„ä½å›¾ï¼Œæ˜¯å¯¹å®¢è§‚ä¸–ç•Œçš„åæ˜ ã€‚</p><p>è€Œå›¾å½¢å‘¢ï¼Ÿå›¾å½¢åˆ™æ˜¯é€šè¿‡æ•°å­¦è§„åˆ™äº§ç”Ÿçš„ã€å…·æœ‰ä¸€å®šè§„åˆ™çš„å›¢ï¼Œä¸€èˆ¬æ˜¯çŸ¢é‡å›¾ã€‚å›¾å½¢é€šè¿‡ä¸€ç»„æŒ‡ä»¤é›†æ¥æè¿°å†…å®¹ï¼Œå› è€Œä¸ä¼šå¤±çœŸã€‚</p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">å›¾åƒ</th><th style="text-align:center">å›¾å½¢</th></tr></thead><tbody><tr><td style="text-align:center">äº§ç”Ÿ</td><td style="text-align:center">ä»çœŸå®ä¸–ç•Œè®°å½•</td><td style="text-align:center">ç”±æ•°å­¦è§„åˆ™ç”Ÿæˆ</td></tr><tr><td style="text-align:center">å­˜å‚¨</td><td style="text-align:center">ç‚¹é˜µå€¼</td><td style="text-align:center">å±æ€§</td></tr><tr><td style="text-align:center">ç±»å‹</td><td style="text-align:center">ä½å›¾</td><td style="text-align:center">çŸ¢é‡å›¾</td></tr><tr><td style="text-align:center">æ˜¯å¦ä¼šå¤±çœŸ</td><td style="text-align:center">æ˜¯</td><td style="text-align:center">å¦</td></tr></tbody></table><hr><h3 id="1-2-æ•°å­—å›¾åƒåŠå…¶ç‰¹ç‚¹">1.2  æ•°å­—å›¾åƒåŠå…¶ç‰¹ç‚¹</h3><p>æ•°å­—å›¾åƒä¹Ÿå«åšæ•°ç å›¾åƒæˆ–è€…æ•°ä½å›¾åƒï¼Œå­˜å‚¨æ–¹å¼ä¸€èˆ¬æ˜¯æ•°ç»„æˆ–è€…çŸ©é˜µï¼Œå…‰ç…§ä½ç½®å’Œå¼ºåº¦éƒ½æ˜¯ç¦»æ•£çš„ã€‚æ•°å­—å›¾åƒä¸€èˆ¬æ˜¯ç”±æ¨¡æ‹Ÿå›¾åƒæ•°å­—åŒ–å¾—åˆ°ï¼Œä»¥åƒç´ ä¸ºåŸºæœ¬å•å…ƒã€‚</p><p>ä¸€èˆ¬æˆ‘ä»¬å¯¹äºæ•°å­—å›¾åƒçš„ç ”ç©¶ï¼Œå°±æ˜¯ç ”ç©¶å…¶å˜æ¢ç®—æ³•ã€‚</p><p>æ•°å­—å›¾åƒå…·æœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š</p><p>1ï¸âƒ£ <strong>ä¿¡æ¯é‡å¤§</strong></p><p>ä¸€å¹…å›¾åƒä¸€èˆ¬æœ‰ä¸‰ä¸ªåŸºæœ¬å±æ€§ï¼šé•¿<code>h</code>ã€å®½<code>w</code>ã€é€šé“<code>c</code>ã€‚ä¸ºäº†è®©æ•°å­—å›¾åƒé€¼è¿‘çœŸå®æƒ…å†µï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä½¿ç”¨é¢å¤–çš„ç©ºé—´å­˜å‚¨å®ƒçš„è‰²å½©ä¿¡æ¯ã€‚ä¾‹å¦‚<code>8-bit</code>å›¾åƒå°±è¡¨ç¤ºä¸€ä¸ªåƒç´ ç‚¹çš„å¼ºåº¦é‡å°†ä¼šç”±<code>8</code>ä¸ªæ¯”ç‰¹æ§åˆ¶ã€‚æ‰€ä»¥ä¸€å¹…å›¾åƒçš„æ•°æ®å¤§å°ä¸ºï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo>+</mo><mi>h</mi><mo>âˆ—</mo><mi>w</mi><mo>âˆ—</mo><mi>c</mi><mo>âˆ—</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">O+h*w*c*b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">h</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4653em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4653em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span>ï¼Œå…¶ä¸­<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi></mrow><annotation encoding="application/x-tex">O</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span></span></span></span>æ˜¯å…¶ä»–ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ–‡ä»¶å¤´ã€å…ƒæ•°æ®ç­‰ã€‚</p><p>2ï¸âƒ£ <strong>å ç”¨å¸¦å®½å¤§</strong></p><p>å¤§çš„ä¿¡æ¯é‡å½“ç„¶è¦æ›´å¤§çš„å¸¦å®½å•¦~æ™®é€šç”µè§†çš„æ ‡å‡†å¸¦å®½ä¸º<code>6.5MHz</code>ï¼Œæ˜¯ç”µè¯ã€ä¼ çœŸç­‰æ ‡å‡†å¸¦å®½çš„14å€ã€‚</p><p>3ï¸âƒ£ <strong>ç›¸å…³æ€§å¤§</strong></p><p>å›¾åƒä¹‹é—´çš„åƒç´ éå¸¸ä¸ç‹¬ç«‹ï¼Œå…·æœ‰å¾ˆå¤§çš„ç›¸å…³æ€§ï¼è¿™å¯¼è‡´å›¾åƒä¿¡æ¯çš„å‹ç¼©æ½œåŠ›éå¸¸å¤§ï¼</p><p>4ï¸âƒ£ <strong>éå®¢è§‚æ€§</strong></p><p>è¿™ä¸ªç‰¹æ€§è·Ÿäººæœ‰å…³ç³»ï¼Œæœ€åå¯¹å›¾åƒä¸Šçš„ä¿¡æ¯åšè§£è¯‘çš„æ˜¯äººï¼Œä¸€åƒä¸ªäººçœ¼ä¸­æœ‰ä¸€åƒä¸ªå“ˆå§†é›·ç‰¹ã€‚</p><hr><h3 id="1-3-ç›¸å…³åè¯ä»‹ç»">1.3  ç›¸å…³åè¯ä»‹ç»</h3><table><thead><tr><th style="text-align:center">åè¯</th><th style="text-align:center">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center">åƒç´ </td><td style="text-align:center">æ•°å­—å›¾åƒçš„åŸºæœ¬ç¦»æ•£å•å…ƒ</td></tr><tr><td style="text-align:center">åˆ†è¾¨ç‡</td><td style="text-align:center">æ¯è‹±å¯¸å›¾åƒå†…çš„åƒç´ ç‚¹æ•°(æ§åˆ¶åƒå…ƒå¤§å°)</td></tr><tr><td style="text-align:center">ç°åº¦çº§</td><td style="text-align:center">æŒ‰ç…§å¯¹æ•°å…³ç³»å°†è‰²å½©åˆ†çº§</td></tr><tr><td style="text-align:center">ç°åº¦å€¼</td><td style="text-align:center">ç”¨äºé‡åŒ–å›¾åƒçš„äº®åº¦</td></tr><tr><td style="text-align:center">æ·±åº¦</td><td style="text-align:center">å›¾åƒæ·±åº¦æŒ‡çš„æ˜¯å­˜å‚¨æ¯ä¸ªåƒç´ çš„ä½æ•°ï¼Œå®ƒç¡®å®šäº†å›¾åƒæ¯ä¸ªåƒç´ å¯èƒ½æœ‰çš„é¢œè‰²æ•°é‡ä¼šç°åº¦çº§æ•°</td></tr><tr><td style="text-align:center">é€šé“</td><td style="text-align:center">å³ç¬¬ä¸‰ä¸ªç»´åº¦ï¼Œä¾‹å¦‚RGBå°±æ˜¯ä¸‰é€šé“ï¼Œé«˜å…‰è°±åˆ™æœ‰ä¸Šç™¾ä¸ªé€šé“</td></tr></tbody></table><hr><h2 id="2-å›¾åƒå™ªå£°">2  å›¾åƒå™ªå£°</h2><p>æ‰€è°“å›¾åƒå™ªå£°ï¼Œå¯ä»¥ç†è§£ä¸ºå¦¨ç¢äººçš„è§†è§‰å™¨å®˜æˆ–ç³»ç»Ÿä¼ æ„Ÿå™¨å¯¹æ‰€æ¥å—å›¾åƒæºä¿¡æ¯è¿›è¡Œç†è§£æˆ–åˆ†æçš„å„ç§å› ç´ ã€‚ä¸€èˆ¬çš„å™ªå£°æ˜¯ä¸å¯é¢„æµ‹çš„éšæœºä¿¡å·ï¼Œå¯èƒ½å‡ºç°åœ¨å›¾åƒé‡‡é›†ã€å›¾åƒå¤„ç†çš„å…¨è¿‡ç¨‹ã€‚</p><p>å›¾åƒå™ªå£°æœ‰å¾ˆå¤šç§ï¼Œä¸»è¦æœ‰é«˜æ–¯å™ªå£°ã€ç‘ä¸½å™ªå£°ã€ä¼½é©¬ã€è„‰å†²å™ªå£°ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè„‰å†²å™ªå£°(æ¤’ç›å™ªå£°)æ˜¯æœ€å¸¸è§çš„ã€‚äº§ç”Ÿå™ªå£°çš„åŸå› æœ‰å¾ˆå¤šï¼Œè­¬å¦‚ï¼š</p><ul><li>å…‰å’Œç”µå­çš„åŸºæœ¬æ€§è´¨æ‰€å¼•èµ·çš„å™ªå£°</li><li>ç”µå™¨çš„æœºæ¢°è¿åŠ¨äº§ç”Ÿçš„å™ªå£°</li><li>å™¨ææœ¬èº«äº§ç”Ÿçš„å™ªå£°</li><li>ç³»ç»Ÿå†…éƒ¨äº§ç”Ÿçš„å™ªå£°</li></ul><blockquote><p>å›¾åƒå™ªå£°çš„æ»¤é™¤</p></blockquote><p>ä¸€èˆ¬æ¥è¯´ï¼Œé€šè¿‡å›¾åƒå¹³æ»‘å¯ä»¥æœ‰æ•ˆå‡å°‘å’Œæ¶ˆé™¤å›¾åƒä¸­çš„å™ªå£°ï¼Œä»¥æ”¹å–„å›¾åƒè´¨é‡ï¼ŒæŠ½å–å¯¹è±¡ç‰¹å¾è¿›è¡Œåˆ†æã€‚</p><p>é€šå¸¸å›¾åƒæ»¤æ³¢å’Œå¹³æ»‘å¯ä»¥åˆ†ä¸ºçº¿æ€§æ»¤æ³¢å’Œéçº¿æ€§æ»¤æ³¢ä¸¤ç§ï¼Œçº¿æ€§æ»¤æ³¢ä¸€èˆ¬é€šè¿‡åšç¦»æ•£å·ç§¯æ ¸æ¥å®ç°ï¼Œéçº¿æ€§æ»¤æ³¢è­¬å¦‚é«˜æ–¯æ»¤æ³¢ã€ä¸­å€¼æ»¤æ³¢ï¼Œæ˜¾ç„¶å¹¶ä¸å¯¹çº¿æ€§è¿™ä¸ªæ¦‚å¿µå°é—­(é½æ¬¡ã€æ•°ä¹˜)ã€‚ä¸­å€¼æ»¤æ³¢ä¸€èˆ¬ç”¨æ¥å¤„ç†å™ªå£°ï¼Œä½†ä¹Ÿä¼šæ”¹å˜æœªè¢«å™ªå£°æ±¡æŸ“çš„åƒç´ (å‡æ‘Šäº†)ã€‚</p><h2 id="3-å›¾åƒå¤„ç†">3  å›¾åƒå¤„ç†</h2><p>å›¾åƒä½œä¸ºäººç±»æ„ŸçŸ¥ä¸–ç•Œçš„è§†è§‰åŸºç¡€ï¼Œæ˜¯äººç±»è·å–ä¿¡æ¯ã€è¡¨è¾¾ä¿¡æ¯å’Œä¼ é€’ä¿¡æ¯çš„é‡è¦æ‰‹æ®µï¼Œè®¡ç®—æœºæ—¶ä»£æ‰€è¯´çš„å›¾åƒå¤„ç†é€šå¸¸æ˜¯æŒ‡æ•°å­—å›¾åƒå¤„ç†ï¼Œæœ€æ—©å¯ä»¥æº¯æºåˆ°20ä¸–çºª20å¹´ä»£ï¼Œä»ä¼¦æ•¦é€šè¿‡æµ·åº•ç”µç¼†ä¼ åˆ°çº½çº¦çš„ç¬¬ä¸€å¼ å‹ç¼©ç…§ç‰‡ã€‚è¿™é¡¹æŠ€æœ¯å¯ä»¥å¸®åŠ©äººä»¬æ›´åŠ å‡†ç¡®ã€å®¢è§‚åœ°è®¤è¯†ä¸–ç•Œï¼Œè·å–æ›´å¤šçš„ä¿¡æ¯ã€‚</p><h3 id="3-1-å›¾åƒå¤„ç†çš„åˆ†ç±»">3.1 å›¾åƒå¤„ç†çš„åˆ†ç±»</h3><ul><li>å…‰å­¦æ¨¡æ‹Ÿå¤„ç†<ul><li>ä¹Ÿç§°å…‰ä¿¡æ¯å¤„ç†ï¼Œå»ºç«‹åœ¨å‚…é‡Œå¶å…‰å­¦ä¸Š</li></ul></li><li>ç”µå­¦æ¨¡æ‹Ÿå¤„ç†<ul><li>å°†å…‰å¼ºåº¦ä¿¡å·è½¬åŒ–ä¸ºç”µä¿¡å·ï¼Œæˆæœ¬æŠ•å…¥ç›¸å¯¹è¾ƒä½ï¼Œå…·æœ‰æ˜æ˜¾çš„ä¼˜åŠ¿ï¼Œå¯ä»¥åœ¨çŸ­æ—¶é—´å†…å®Œæˆæ»¤æ³¢å¤„ç†ã€‚</li></ul></li><li>è®¡ç®—æœºæ•°å­—å¤„ç†<ul><li>åœ¨è®¡ç®—æœºä¸Šï¼Œå°†è¿ç»­çš„æ¨¡æ‹Ÿå›¾åƒä¿¡å·è½¬åŒ–ä¸ºç¦»æ•£çš„æ•°å­—å›¾åƒè¿›è¡Œå¤„ç†ã€‚</li></ul></li></ul><h3 id="3-2-æ•°å­—å›¾åƒå¤„ç†">3.2  æ•°å­—å›¾åƒå¤„ç†</h3><p>æ•°å­—å›¾åƒå¤„ç†çš„ç”Ÿå‘½å‘¨æœŸåŒ…æ‹¬å››ä¸ªè¿‡ç¨‹ï¼š</p><ul><li>å›¾åƒä¿¡æ¯çš„è·å–</li><li>å›¾åƒä¿¡æ¯çš„å­˜å‚¨ä¸äº¤æ¢</li><li>å›¾åƒå¤„ç†<ul><li>å›¾åƒé¢„å¤„ç†</li><li>ç‰¹å¾æŠ½å–</li><li>è¯†åˆ«åˆ†æ</li></ul></li><li>å›¾åƒè¾“å‡ºä¸æ˜¾ç¤º</li></ul><h3 id="3-3-å›¾åƒå¤„ç†æ–¹æ³•">3.3  å›¾åƒå¤„ç†æ–¹æ³•</h3><p>è¿™ä¸€å°èŠ‚æˆ‘ä»¬ä¼šä»‹ç»å›¾åƒå˜æ¢ã€å›¾åƒå¢å¼ºã€å›¾åƒåˆ†å‰²ã€å›¾åƒæè¿°ã€å›¾åƒåˆ†ç±»å’Œå›¾åƒé‡å»ºè¿™å‡ ä¸ªçƒ­ç‚¹é¢†åŸŸã€‚</p><hr><p><strong>å›¾åƒå˜æ¢</strong></p><p>è¿›è¡Œå›¾åƒå˜æ¢çš„åŸå› åœ¨äºï¼Œç¦»æ•£å›¾åƒå ç”¨çš„ä¿¡æ¯é‡æ˜¯åœ¨å¤ªå¤§ï¼Œå¯¹å…¶çš„æ“ä½œååˆ†è´¹æ—¶å’Œè´¹å†…å­˜ã€‚é€šè¿‡å‚…é‡Œå¶å˜æ¢ã€æ²ƒå°”ä»€å˜æ¢ã€ç¦»æ•£ä½™å¼¦å˜æ¢ç­‰ç©ºé—´è½¬æ¢æŠ€æœ¯ï¼Œå¯ä»¥å°†ç©ºåŸŸè½¬ä¸ºå˜æ¢åŸŸå¤„ç†ã€‚åœ¨å‡å°‘è®¡ç®—é‡çš„åŒæ—¶ï¼Œå¢åŠ äº†å¯è¡Œçš„å¤„ç†æ‰‹æ®µã€‚</p><p>å›¾åƒç¼–ç å‹ç¼©ä¹Ÿå¯ä»¥å±äºå›¾åƒå˜æ¢çš„ä¸€ç§ï¼Œè¿™ç§æ–¹å¼å¯ä»¥å‡å°‘æè¿°å›¾åƒçš„æ•°æ®é‡ï¼ŒèŠ‚çœå›¾åƒä¼ è¾“ã€å¤„ç†æ—¶é—´å’Œå ç”¨å­˜å‚¨çš„ç©ºé—´ã€‚</p><hr><p><strong>å›¾åƒå¢å¼º</strong></p><p>å›¾åƒå¢å¼ºçš„ç›®çš„åœ¨äºæé«˜å›¾åƒçš„è´¨é‡ï¼Œæ¯”å¦‚å»é™¤å™ªå£°ã€æé«˜æ¸…æ™°åº¦ç­‰ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå›¾åƒå¢å¼ºä¼šçªå‡ºç ”ç©¶äººå‘˜æ‰€æ„Ÿå…´è¶£çš„éƒ¨åˆ†ï¼Œä¾‹å¦‚é€šè¿‡é«˜é€šæ»¤æ³¢å¼ºåŒ–è¾¹ç¼˜ã€ä½é€šæ»¤æ³¢å‡å°‘å™ªå£°ç­‰ã€‚åœ¨æ·±åº¦å­¦ä¹ ä¸­ï¼Œå¾€å¾€éœ€è¦ä½¿ç”¨å›¾åƒå¢å¼ºæ¥æ¨¡æ‹Ÿå¤šç§è§†è§’ã€å¤šç§å°ºåº¦çš„å›¾åƒä¿¡æ¯ï¼Œä»è€Œæé«˜æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚å›¾åƒå¢å¼ºæ˜¯å›¾åƒé¢„å¤„ç†ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€ç¯ï¼Œå›¾åƒé¢„å¤„ç†çš„å®è´¨åœ¨äºçªå‡ºé‡ç‚¹ä¿¡æ¯ï¼ŒæŠ‘åˆ¶æ— ç”¨ä¿¡æ¯ã€‚</p><p>ä¸‹å›¾æ˜¯å›¾åƒå¢å¼ºçš„ä¸€äº›å¤„ç†æ–¹æ³•</p><img src="/2023/03/20/%E3%80%90OpenCV%E3%80%91%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%A7%86%E8%A7%89%E6%A6%82%E8%BF%B0/image-20230321170750055.png" alt="image-20230321170750055" style="zoom:50%;"><hr><p><strong>å›¾åƒåˆ†å‰²</strong></p><p>å›¾åƒåˆ†å‰²æ˜¯æ•°å­—å›¾åƒå¤„ç†ä¸­çš„å…³é”®æŠ€æœ¯ä¹‹ä¸€ï¼Œå®ƒå¯ä»¥å°†å›¾åƒä¸­æœ‰æ„ä¹‰çš„ç‰¹å¾éƒ¨åˆ†æå–å‡ºæ¥ï¼ŒåŒ…æ‹¬å›¾åƒä¸­çš„è¾¹ç¼˜ã€åŒºåŸŸï¼Œè¿™æ˜¯è¿›ä¸€æ­¥è¿›è¡Œå›¾åƒè¯†åˆ«ã€åˆ†æå’Œç†è§£çš„åŸºç¡€ã€‚</p><hr><p><strong>å›¾åƒæè¿°</strong></p><p>å›¾åƒæè¿°æ˜¯å›¾åƒè¯†åˆ«å’Œç†è§£çš„å‰æã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå›¾åƒçš„æè¿°æ–¹æ³•å¯ä»¥æœ‰è¾¹ç•Œæè¿°ã€åŒºåŸŸæè¿°ã€ä½“ç§¯æè¿°ã€çº¹ç†æè¿°ã€è¡¨é¢æè¿°ç­‰ã€‚</p><hr><p><strong>å›¾åƒåˆ†ç±»(è¯†åˆ«)</strong></p><p>å›¾åƒåˆ†ç±»è¯†åˆ«å±äºæ¨¡å¼è¯†åˆ«çš„èŒƒç•´ï¼Œä¸»è¦å†…å®¹æ˜¯å›¾åƒç»è¿‡é¢„å¤„ç†åè¿›è¡Œå›¾åƒåˆ†å‰²å’Œç‰¹å¾æå–ï¼Œä»è€Œè¿›è¡Œåˆ¤å†³åˆ†ç±»ã€‚</p><hr><p><strong>å›¾åƒé‡å»º</strong></p><p>å¯¹äºä¸€äº›ä¸‰ç»´ç‰©ä½“ï¼Œå¯ä»¥é€šè¿‡Xå°„çº¿ã€è¶…å£°æ³¢ç­‰ç‰©ç†æ–¹æ³•ï¼Œè·å–ç‰©ä½“å†…éƒ¨ç»“æ„æ•°æ®ï¼Œå†è®²è¿™äº›æ•°æ®è¿›è¡Œå¤„ç†è€Œæ„æˆç‰©ä½“å†…éƒ¨éƒ¨ä½çš„å›¾åƒã€‚ç›®å‰æœ€æˆåŠŸçš„çš„æ —å­å°±æ˜¯CT(è®¡ç®—æœºæ–­å±‚æ‰«ææˆåƒæŠ€æœ¯)ã€‚</p><h2 id="4-è®¡ç®—æœºè§†è§‰æ¦‚è¿°">4  è®¡ç®—æœºè§†è§‰æ¦‚è¿°</h2><p>è®¡ç®—æœºè§†è§‰æ˜¯ä¸€é—¨ç ”ç©¶æœºå™¨å¦‚ä½•â€œçœ‹â€çš„ç§‘å­¦ï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯é€šè¿‡æ‘„å½±æœºç­‰è¾“å…¥è®¾å¤‡ä»£æ›¿äººçœ¼ã€è®¡ç®—æœºä»£æ›¿è§†è§‰ä¸­æ¢ï¼Œä»è€Œæ¨¡æ‹Ÿäººç±»å¯¹å›¾åƒç›®æ ‡çš„è¯†åˆ«ä¸åˆ†æã€‚</p><p>è®¡ç®—æœºè§†è§‰æœ¬è´¨ä¸Šæ˜¯å¯¹ç”Ÿç‰©è§†è§‰çš„æ¨¡æ‹Ÿï¼Œæ ¸å¿ƒä»»åŠ¡åœ¨äºå¯¹é‡‡é›†çš„å›¾åƒæˆ–è§†é¢‘æ•°æ®å¤„ç†ï¼Œä»¥è·å¾—ç›¸åº”åœºæ™¯çš„ä¿¡æ¯ã€‚å…¶æœ€ç»ˆçš„ç ”ç©¶ç›®æ ‡ï¼Œåœ¨äºä½¿è®¡ç®—æœºèƒ½åƒäººé‚£æ ·é€šè¿‡è§†è§‰è§‚å¯Ÿå’Œç†è§£ä¸–ç•Œï¼Œå…·æœ‰è‡ªä¸»é€‚åº”ç¯å¢ƒçš„èƒ½åŠ›ã€‚</p><blockquote><p>ä¸ç›¸å…³å­¦ç§‘çš„åŒºåˆ«</p></blockquote><ul><li>è®¡ç®—æœºè§†è§‰ï¼ˆComputer Visionï¼‰ï¼š è®¡ç®—æœºè§†è§‰æ˜¯ç ”ç©¶å¦‚ä½•è®©è®¡ç®—æœºæ¨¡æ‹Ÿäººç±»è§†è§‰ç³»ç»Ÿè¿›è¡Œå¤„ç†ã€ç†è§£å’Œè§£é‡Šæ•°å­—å›¾åƒæˆ–è§†é¢‘çš„ç§‘å­¦ã€‚è®¡ç®—æœºè§†è§‰çš„ç›®æ ‡æ˜¯ä»è§†è§‰æ•°æ®ä¸­æå–æœ‰æ„ä¹‰çš„ä¿¡æ¯ï¼Œå¹¶ä¸ºè¿›ä¸€æ­¥çš„å†³ç­–å’Œå¤„ç†æä¾›ä¾æ®ã€‚è¿™ä¸€é¢†åŸŸåŒ…æ‹¬äº†è¯¸å¦‚ç›®æ ‡æ£€æµ‹ã€ç›®æ ‡è·Ÿè¸ªã€å›¾åƒåˆ†å‰²ã€ä¸‰ç»´é‡å»ºç­‰å¤šä¸ªå­é¢†åŸŸã€‚</li><li>å›¾åƒå¤„ç†ï¼ˆImage Processingï¼‰ï¼š å›¾åƒå¤„ç†æ˜¯ç ”ç©¶å¦‚ä½•å¯¹æ•°å­—å›¾åƒè¿›è¡Œæ“ä½œå’Œåˆ†æçš„æŠ€æœ¯ã€‚å›¾åƒå¤„ç†ä¸»è¦å…³æ³¨å¯¹å›¾åƒçš„é¢„å¤„ç†ï¼Œä»¥ä¾¿æ›´å¥½åœ°ç†è§£å’Œåˆ†æå›¾åƒã€‚è¿™åŒ…æ‹¬å›¾åƒå¢å¼ºã€æ»¤æ³¢ã€å»å™ªã€å‹ç¼©å’Œç‰¹å¾æå–ç­‰æŠ€æœ¯ã€‚å›¾åƒå¤„ç†æ˜¯è®¡ç®—æœºè§†è§‰çš„åŸºç¡€æŠ€æœ¯ä¹‹ä¸€ã€‚</li><li>æœºå™¨è§†è§‰ï¼ˆMachine Visionï¼‰ï¼š æœºå™¨è§†è§‰ä¸»è¦å…³æ³¨ä¸ºå·¥ä¸šè‡ªåŠ¨åŒ–é¢†åŸŸæä¾›è§£å†³æ–¹æ¡ˆã€‚æœºå™¨è§†è§‰ç³»ç»Ÿé€šå¸¸ç”±å›¾åƒé‡‡é›†è®¾å¤‡ï¼ˆå¦‚æ‘„åƒå¤´ï¼‰ã€å…‰æºã€å¤„ç†å™¨å’Œæ‰§è¡Œè®¾å¤‡ç»„æˆã€‚æœºå™¨è§†è§‰ç³»ç»Ÿçš„ç›®æ ‡æ˜¯é€šè¿‡è‡ªåŠ¨åŒ–çš„æ–¹å¼æå–å›¾åƒä¸­çš„ä¿¡æ¯ï¼Œä»¥ä¾¿ç”¨äºæ£€æµ‹ã€æµ‹é‡ã€è¯†åˆ«ã€åˆ†ç±»ç­‰å·¥ä¸šåº”ç”¨ã€‚æœºå™¨è§†è§‰é€šå¸¸åŒ…å«è®¡ç®—æœºè§†è§‰å’Œå›¾åƒå¤„ç†æŠ€æœ¯ã€‚</li><li>æ¨¡å¼è¯†åˆ«ï¼ˆPattern Recognitionï¼‰ï¼š æ¨¡å¼è¯†åˆ«å…³æ³¨çš„æ˜¯ä»åŸå§‹æ•°æ®ä¸­è¯†åˆ«å’Œåˆ†ç±»ç‰¹å®šæ¨¡å¼çš„é—®é¢˜ã€‚æ¨¡å¼è¯†åˆ«å¯ä»¥åº”ç”¨äºå¤šç§æ•°æ®ç±»å‹ï¼Œå¦‚å›¾åƒã€éŸ³é¢‘ã€æ–‡æœ¬ç­‰ã€‚è¯¥é¢†åŸŸä¸»è¦ç ”ç©¶å¦‚ä½•è®¾è®¡å’Œä¼˜åŒ–ç®—æ³•ï¼Œä»¥å®ç°å¯¹ä¸åŒæ•°æ®ç±»å‹ä¸­çš„æ¨¡å¼è¿›è¡Œè¯†åˆ«ã€‚è®¡ç®—æœºè§†è§‰å’Œæœºå™¨è§†è§‰éƒ½å¯ä»¥çœ‹ä½œæ˜¯æ¨¡å¼è¯†åˆ«çš„å…·ä½“åº”ç”¨åœºæ™¯ã€‚</li></ul><p>æ€»ç»“ä¸€ä¸‹ï¼Œè®¡ç®—æœºè§†è§‰ã€å›¾åƒå¤„ç†ã€æœºå™¨è§†è§‰å’Œæ¨¡å¼è¯†åˆ«éƒ½æ¶‰åŠåˆ°ä»æ•°æ®ä¸­æå–ä¿¡æ¯çš„è¿‡ç¨‹ï¼Œä½†å®ƒä»¬å…³æ³¨çš„é¢†åŸŸå’Œåº”ç”¨åœºæ™¯æœ‰æ‰€ä¸åŒã€‚è®¡ç®—æœºè§†è§‰å…³æ³¨å¯¹è§†è§‰æ•°æ®çš„ç†è§£å’Œè§£é‡Šï¼Œå›¾åƒå¤„ç†å…³æ³¨å¯¹å›¾åƒçš„æ“ä½œå’Œåˆ†æï¼Œæœºå™¨è§†è§‰å…³æ³¨å·¥ä¸šè‡ªåŠ¨åŒ–é¢†åŸŸçš„è§†è§‰ç³»ç»Ÿï¼Œè€Œæ¨¡å¼è¯†åˆ«å…³æ³¨ä»å¤šç§æ•°æ®ç±»å‹ä¸­è¯†åˆ«å’Œåˆ†ç±»ç‰¹å®šæ¨¡å¼çš„é—®é¢˜ã€‚</p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ</summary>
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="OpenCV" scheme="http://example.com/tags/OpenCV/"/>
    
  </entry>
  
  <entry>
    <title>ã€PyTorchã€‘PyTorchè‡ªåŠ¨æ±‚å¯¼</title>
    <link href="http://example.com/2023/03/19/%E3%80%90PyTorch%E3%80%91PyTorch%E8%87%AA%E5%8A%A8%E6%B1%82%E5%AF%BC/"/>
    <id>http://example.com/2023/03/19/%E3%80%90PyTorch%E3%80%91PyTorch%E8%87%AA%E5%8A%A8%E6%B1%82%E5%AF%BC/</id>
    <published>2023-03-19T14:41:40.452Z</published>
    <updated>2023-03-23T12:11:04.861Z</updated>
    
    <content type="html"><![CDATA[<h1>PyTorchè‡ªåŠ¨æ±‚å¯¼</h1><hr><blockquote><p>PyTorchçš„è‡ªåŠ¨æ±‚å¯¼åœ¨torch.autogradåŒ…ä¸­å®ç°ã€‚torch.Tensorå’Œtorch.Functionä¸ºautogradåŒ…ä¸­çš„ä¸¤ä¸ªæ ¸å¿ƒç±»ï¼Œä»–ä»¬äº’ç›¸è¿æ¥å¹¶ç”Ÿæˆä¸€ä¸ªæœ‰å‘éå¾ªç¯å›¾ã€‚</p></blockquote><h2 id="1-1-è‡ªåŠ¨æ±‚å¯¼è¦ç‚¹">1.1  è‡ªåŠ¨æ±‚å¯¼è¦ç‚¹</h2><p><code>autograd</code>åŒ…åœ¨è‡ªåŠ¨æ±‚å¯¼æ—¶ï¼Œéœ€è¦è€ƒè™‘ä»¥ä¸‹äº‹é¡¹ï¼š</p><ul><li>åˆ›å»ºå¶å­ç»“ç‚¹çš„<code>Tensor</code>,ä½¿ç”¨<code>requires_grad</code>å‚æ•°æŒ‡å®šæ˜¯å¦è®°å½•å¯¹å…¶çš„æ“ä½œï¼Œä»¥ä¾¿ä¹‹ååˆ©ç”¨<code>backward</code>å‡½æ•°æ±‚è§£ã€‚<code>requires_grad</code>å‚æ•°é»˜è®¤ä¸º<code>False</code>ï¼Œå½“å…¶ä¸º<code>True</code>æ—¶ï¼Œä¸è¿™ä¸ªèŠ‚ç‚¹ç›¸ä¾èµ–çš„å…¶ä»–èŠ‚ç‚¹ä¹Ÿä¼šå˜æˆ<code>True</code>(è¿™æ¡è·¯å¾„éƒ½è¢«æ±¡æŸ“äº†)</li><li>é€šè¿‡<code>requires_grad_()</code>æ–¹æ³•ä¿®æ”¹<code>Tensor</code>æ±‡æ€»çš„<code>requires_grad</code>å±æ€§ï¼Œå¯ä»¥è°ƒç”¨<code>.detach()</code>æˆ–è€…<code>with torch.no_grad()</code>ä¸å†è®¡ç®—å¼ é‡çš„æ¢¯åº¦ï¼Œä¾¿äºè¿›è¡Œè¯„ä¼°ã€æµ‹è¯•æ¨¡å‹ã€‚</li><li>é€šè¿‡è¿ç®—åˆ›å»ºçš„éå¶å­ç»“ç‚¹ï¼Œä¼šè¢«è‡ªåŠ¨èµ‹äºˆ<code>grad_fn</code>å±æ€§ï¼Œè¡¨ç¤ºæ¢¯åº¦å‡½æ•°ï¼Œå¶å­ç»“ç‚¹çš„<code>grad_fn</code>ä¸º<code>None</code></li><li>å¯¹æœ€åå¾—åˆ°çš„<code>Tensor</code>æ‰§è¡Œ<code>backward</code>å‡½æ•°(åå‘ä¼ æ’­ä¸­ä½œä¸ºæ ¹èŠ‚ç‚¹)ï¼Œä¼šè‡ªåŠ¨è®¡ç®—å„å˜é‡çš„æ¢¯åº¦ï¼Œå¹¶å°†ç´¯åŠ ç»“æœæ”¾åœ¨<code>grad</code>å±æ€§ä¸­ï¼Œå½“è®¡ç®—å®Œæˆåï¼Œéå¶å­ç»“ç‚¹çš„<code>grad</code>å±æ€§ä¼šè¢«è‡ªåŠ¨é‡Šæ”¾</li><li><code>backward</code>å‡½æ•°æ¥æ”¶å‚æ•°ï¼Œè¯¥å‚æ•°åº”è¯¥ä¸è°ƒç”¨è¯¥å‡½æ•°çš„<code>Tensor</code>ç»´åº¦ç›¸åŒï¼Œæˆ–è€…æ˜¯å¯ä»¥å¹¿æ’­çš„ç»´åº¦ã€‚å¦‚æœæ±‚å¯¼çš„<code>Tensor</code>æ˜¯ä¸€ä¸ªæ ‡é‡ï¼Œ<code>backward</code>ä¸­çš„å‚æ•°å¯ä»¥çœç•¥æ‰</li><li>åå‘ä¼ æ’­çš„ä¸­é—´ç¼“å­˜ä¼šè¢«æ¸…ç©ºï¼Œå¦‚æœéœ€è¦è¿›è¡Œå¤šæ¬¡ä¼ æ’­ï¼Œéœ€è¦æŒ‡å®šå‡½æ•°ä¸­çš„å‚æ•°<code>retain_graph</code>ä¸º<code>True</code>ã€‚åœ¨å¤šæ¬¡åå‘ä¼ æ’­è¿‡ç¨‹ä¸­ï¼Œæ¢¯åº¦æ˜¯ç´¯åŠ çš„ã€‚</li><li>éå¶å­ç»“ç‚¹çš„æ¢¯åº¦åœ¨è¢«<code>backward()</code>å‡½æ•°è°ƒç”¨åå°±ä¼šè¢«æ¸…ç©ºã€‚</li><li>å¯ä»¥é€šè¿‡<code>torch.no_grad()</code>åŒ…è£¹ä»£ç å—æ¥é˜»æ­¢<code>autograd</code>å»è·Ÿè¸ªå“ªäº›æ ‡è®°ä¸º<code>.requesgrad=True</code>çš„å¼ é‡çš„å†å²è®°å½•ã€‚</li></ul><hr><h2 id="1-2-è®¡ç®—å›¾">1.2  è®¡ç®—å›¾</h2><p>åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œ<code>PyTorch</code>é‡‡ç”¨è®¡ç®—å›¾çš„å½¢å¼è¿›è¡Œç»„ç»‡ï¼Œè¯¥è®¡ç®—å›¾ä¸ºåŠ¨æ€å›¾ï¼Œå®ƒçš„è®¡ç®—å›¾åœ¨æ¯æ¬¡æ­£å‘ä¼ æ’­è¿‡ç¨‹ä¸­éƒ½å°†é‡æ–°æ„å»ºã€‚è€Œå…¶ä»–çš„æ¶æ„(TFæ˜¯åé¢æ‰å¼•è¿›çš„)ï¼Œä¸€èˆ¬éƒ½æ˜¯é™æ€å›¾ã€‚</p><p>è®¡ç®—å›¾æ˜¯ä¸€ç§æœ‰å‘æ— ç¯å›¾(DAG)ï¼Œç”¨æ¥è¡¨ç¤ºç®—å­ä¸å˜é‡ä¹‹é—´çš„å…³ç³»ï¼Œç›´è§‚ä¸”é«˜æ•ˆã€‚</p><p>ä¸€èˆ¬æ¥è¯´ï¼Œåœ†å½¢è¡¨ç¤ºå˜é‡ï¼ŒçŸ©å½¢è¡¨ç¤ºç®—å­ã€‚ä¾‹å¦‚è¡¨è¾¾å¼<code>z=wx+b</code>ï¼Œå˜é‡ä¸º<code>x, w, b</code>ï¼Œè¿™äº›å˜é‡æ˜¯ç”¨æˆ·æ‰€åˆ›å»ºçš„ï¼Œä¸ä¾èµ–äºå…¶ä»–å˜é‡ï¼Œå› æ­¤æ˜¯å¶å­ç»“ç‚¹ã€‚è¯¥è¡¨è¾¾å¼çš„è®¡ç®—å›¾å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">graph BT;</span><br><span class="line">id1((dz))--&gt;id2[addBackward]</span><br><span class="line">id2--&gt;id3((db))</span><br><span class="line">id2--&gt;id4((dy))</span><br><span class="line">id4--&gt;id5[mulBackward]</span><br><span class="line">id5--&gt;id6((dx))</span><br><span class="line">id5--&gt;id7((dw))</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">graph TB</span><br><span class="line">i1((x))--&gt;o1[mul]</span><br><span class="line">i2((w))--&gt;o1</span><br><span class="line">o1--&gt;i3((y))</span><br><span class="line">i4((b))--&gt;o2[add]</span><br><span class="line">i3--&gt;o2</span><br><span class="line">o2--&gt;i5((z))</span><br></pre></td></tr></table></figure><p><img src="/2023/03/19/%E3%80%90PyTorch%E3%80%91PyTorch%E8%87%AA%E5%8A%A8%E6%B1%82%E5%AF%BC/image-20230319231749030.png" alt="image-20230319231749030"></p><p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œå¶å­èŠ‚ç‚¹ä¸º<code>x,w,b</code>ï¼Œéå¶èŠ‚ç‚¹ä¸º<code>z, y</code>ã€‚</p><p>å½“å—²ç”¨<code>backward()</code>å‡½æ•°åï¼Œ<code>autograd</code>ä¼šä»æ ¹èŠ‚ç‚¹<code>z</code>è¿›è¡Œåå‘æº¯æºï¼Œå¹¶æ ¹æ®é“¾å¼æ³•åˆ™è®¡ç®—æ¯ä¸ªå¶å­ç»“ç‚¹çš„æ¢¯åº¦ï¼Œå¹¶<strong>ç´¯åŠ </strong>åˆ°<code>grad</code>å±æ€§æ±‡æ€»ã€‚å¯¹äºéå¶å­ç»“ç‚¹æˆ–ç®—å­çš„æ“ä½œè®°å½•åœ¨<code>grad_fn</code>ä¸­ï¼Œå¶å­ç»“ç‚¹çš„<code>grad_fn</code>ä¸º<code>None</code>ã€‚</p><hr><h2 id="1-3-åå‘ä¼ æ’­">1.3  åå‘ä¼ æ’­</h2><blockquote><p>æ ‡é‡åå‘</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">torch.autograd.backward(tensor,grad_tensors=<span class="literal">None</span>,retain_graph=<span class="literal">None</span>,create_graph=<span class="literal">False</span>,grad_variables=<span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># tensor æ˜¯ç”¨äºè®¡ç®—çš„å¼ è‰¯</span></span><br><span class="line"><span class="comment"># grad_tensors æ˜¯ç”¨æ¥è®¡ç®—éæ ‡é‡çš„æ¢¯åº¦ï¼Œå½¢çŠ¶éœ€è¦ä¸tensorä¿æŒä¸€è‡´</span></span><br><span class="line"><span class="comment"># retain_graph é‡å¤åˆ©ç”¨è®¡ç®—å›¾</span></span><br><span class="line"><span class="comment"># create_graph è®¡ç®—æ›´é«˜é˜¶æ®µæ¢¯åº¦</span></span><br></pre></td></tr></table></figure><p>å¯¹æ ‡é‡çš„<code>backward</code>æ— éœ€æŒ‡å®šå‚æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line">x=torch.Tensor([<span class="number">2</span>])</span><br><span class="line">w=torch.randn(<span class="number">1</span>,requires_grad=<span class="literal">True</span>)</span><br><span class="line">b=torch.randn(<span class="number">1</span>,requires_grad=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">y=torch.matmul(w,x)</span><br><span class="line">z=torch.add(y,b)</span><br><span class="line"></span><br><span class="line">z.backward()</span><br><span class="line"><span class="built_in">print</span>(w.grad)</span><br><span class="line"><span class="built_in">print</span>(b.grad)</span><br></pre></td></tr></table></figure><blockquote><p>éæ ‡é‡åå‘</p></blockquote><p>PyTorchä¸å…è®¸å¼ é‡å¯¹å¼ é‡æ±‚å¯¼ï¼Œéœ€è¦é‡‡ç”¨æ ‡é‡å¯¹å¼ é‡è¿›è¡Œæ±‚å¯¼ï¼Œå› æ­¤ï¼Œå¦‚æœç›®æ ‡å¼ é‡å¯¹ä¸€ä¸ªéæ ‡é‡è°ƒç”¨<code>backward</code>ï¼Œéœ€è¦ä¼ å…¥ä¸€ä¸ª<code>gradient</code>å‚æ•°ï¼Œè¯¥å‚æ•°ä¹Ÿæ˜¯å¼ é‡ï¼Œå½¢çŠ¶è¦è·Ÿè°ƒç”¨<code>backward</code>çš„å¼ é‡ç›¸åŒã€‚</p><p>è¿™ä¸ªå‚æ•°è´Ÿè´£ä¹˜ä»¥éœ€è¦æ±‚å¯¼å‚æ•°çš„é›…å¯æ¯”çŸ©é˜µã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬æœ‰ï¼š</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mn>1</mn></msub><mo>=</mo><mn>2</mn><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo>=</mo><mn>3</mn><mo stretchy="false">)</mo><mo separator="true">,</mo><mi>y</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>y</mi><mn>1</mn></msub><mo>=</mo><msubsup><mi>x</mi><mn>1</mn><mn>2</mn></msubsup><mo>+</mo><mn>3</mn><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>y</mi><mn>2</mn></msub><mo>=</mo><msubsup><mi>x</mi><mn>2</mn><mn>2</mn></msubsup><mo>+</mo><mn>2</mn><msub><mi>x</mi><mn>1</mn></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x=(x_1=2,x_2=3),y=(y_1=x^2_1+3x_2,y_2=x_2^2+2x_1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">3</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0622em;vertical-align:-0.2481em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">3</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0622em;vertical-align:-0.2481em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.4519em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2481em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></p><p>é‚£ä¹ˆå¯¹å¼ é‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>æ±‚é›…å¯æ¯”çŸ©é˜µ(ä¸€é˜¶åå¯¼)ï¼Œå¾—åˆ°çš„ç»“æœä¸ºï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">È·</mi><mo>=</mo><mrow><mo fence="true">âˆ£</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><msub><mi>y</mi><mn>1</mn></msub></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msub><mi>x</mi><mn>1</mn></msub></mrow></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><msub><mi>y</mi><mn>1</mn></msub></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msub><mi>x</mi><mn>2</mn></msub></mrow></mfrac></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><msub><mi>y</mi><mn>2</mn></msub></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msub><mi>x</mi><mn>1</mn></msub></mrow></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><msub><mi>y</mi><mn>2</mn></msub></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msub><mi>x</mi><mn>2</mn></msub></mrow></mfrac></mstyle></mtd></mtr></mtable><mo fence="true">âˆ£</mo></mrow><mo>=</mo><mrow><mo fence="true">âˆ£</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>2</mn><msub><mi>x</mi><mn>1</mn></msub></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>2</mn><msub><mi>x</mi><mn>2</mn></msub></mrow></mstyle></mtd></mtr></mtable><mo fence="true">âˆ£</mo></mrow></mrow><annotation encoding="application/x-tex">\jmath=\begin{vmatrix}\frac{\partial y_1}{\partial x_1} &amp; \frac{\partial y_1}{\partial x_2}\\\frac{\partial y_2}{\partial x_1}&amp;\frac{\partial y_2}{\partial x_2}\end{vmatrix}=\begin{vmatrix}2x_1&amp;3\\2&amp;2x_2\end{vmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">îˆ·</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.012em;vertical-align:-1.25em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.762em;"><span style="top:-2.566em;"><span class="pstrut" style="height:3.816em;"></span><span class="delimsizinginner delim-size1"><span>âˆ£</span></span></span><span style="top:-3.164em;"><span class="pstrut" style="height:3.816em;"></span><span style="height:1.816em;width:0.3333em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.3333em" height="1.816em" style="width:0.3333em" viewbox="0 0 333.33000000000004 1816" preserveaspectratio="xMinYMin"><path d="M145 0 H188 V1816 H145z M145 0 H188 V1816 H145z"/></svg></span></span><span style="top:-4.972em;"><span class="pstrut" style="height:3.816em;"></span><span class="delimsizinginner delim-size1"><span>âˆ£</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6273em;"><span style="top:-3.6951em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4451em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.3178em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4451em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.1273em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6273em;"><span style="top:-3.6951em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4451em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.3178em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4451em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.1273em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.762em;"><span style="top:-2.566em;"><span class="pstrut" style="height:3.816em;"></span><span class="delimsizinginner delim-size1"><span>âˆ£</span></span></span><span style="top:-3.164em;"><span class="pstrut" style="height:3.816em;"></span><span style="height:1.816em;width:0.3333em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.3333em" height="1.816em" style="width:0.3333em" viewbox="0 0 333.33000000000004 1816" preserveaspectratio="xMinYMin"><path d="M145 0 H188 V1816 H145z M145 0 H188 V1816 H145z"/></svg></span></span><span style="top:-4.972em;"><span class="pstrut" style="height:3.816em;"></span><span class="delimsizinginner delim-size1"><span>âˆ£</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em;"><span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.412em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.462em;"><span style="top:-2.266em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size1"><span>âˆ£</span></span></span><span style="top:-2.864em;"><span class="pstrut" style="height:3.216em;"></span><span style="height:1.216em;width:0.3333em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.3333em" height="1.216em" style="width:0.3333em" viewbox="0 0 333.33000000000004 1216" preserveaspectratio="xMinYMin"><path d="M145 0 H188 V1216 H145z M145 0 H188 V1216 H145z"/></svg></span></span><span style="top:-4.072em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size1"><span>âˆ£</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.462em;"><span style="top:-2.266em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size1"><span>âˆ£</span></span></span><span style="top:-2.864em;"><span class="pstrut" style="height:3.216em;"></span><span style="height:1.216em;width:0.3333em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.3333em" height="1.216em" style="width:0.3333em" viewbox="0 0 333.33000000000004 1216" preserveaspectratio="xMinYMin"><path d="M145 0 H188 V1216 H145z M145 0 H188 V1216 H145z"/></svg></span></span><span style="top:-4.072em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size1"><span>âˆ£</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>å½“<code>x=[2,3]</code>æ—¶ï¼Œæœ‰ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi mathvariant="normal">È·</mi><mo>=</mo><mrow><mo fence="true">âˆ£</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd></mtr></mtable><mo fence="true">âˆ£</mo></mrow><mspace linebreak="newline"></mspace><mspace linebreak="newline"></mspace><msup><mi mathvariant="normal">È·</mi><mi>T</mi></msup><mo>=</mo><mrow><mo fence="true">âˆ£</mo><mtable rowspacing="0.16em" columnalign="center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>4</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>3</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>6</mn></mstyle></mtd></mtr></mtable><mo fence="true">âˆ£</mo></mrow></mrow><annotation encoding="application/x-tex">\jmath=\begin{vmatrix}4&amp;3\\2&amp;6\end{vmatrix}\\\\\jmath^T=\begin{vmatrix}4&amp;2\\3&amp;6\end{vmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">îˆ·</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.412em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.462em;"><span style="top:-2.266em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size1"><span>âˆ£</span></span></span><span style="top:-2.864em;"><span class="pstrut" style="height:3.216em;"></span><span style="height:1.216em;width:0.3333em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.3333em" height="1.216em" style="width:0.3333em" viewbox="0 0 333.33000000000004 1216" preserveaspectratio="xMinYMin"><path d="M145 0 H188 V1216 H145z M145 0 H188 V1216 H145z"/></svg></span></span><span style="top:-4.072em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size1"><span>âˆ£</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.462em;"><span style="top:-2.266em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size1"><span>âˆ£</span></span></span><span style="top:-2.864em;"><span class="pstrut" style="height:3.216em;"></span><span style="height:1.216em;width:0.3333em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.3333em" height="1.216em" style="width:0.3333em" viewbox="0 0 333.33000000000004 1216" preserveaspectratio="xMinYMin"><path d="M145 0 H188 V1216 H145z M145 0 H188 V1216 H145z"/></svg></span></span><span style="top:-4.072em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size1"><span>âˆ£</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.0858em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">îˆ·</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.412em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.462em;"><span style="top:-2.266em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size1"><span>âˆ£</span></span></span><span style="top:-2.864em;"><span class="pstrut" style="height:3.216em;"></span><span style="height:1.216em;width:0.3333em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.3333em" height="1.216em" style="width:0.3333em" viewbox="0 0 333.33000000000004 1216" preserveaspectratio="xMinYMin"><path d="M145 0 H188 V1216 H145z M145 0 H188 V1216 H145z"/></svg></span></span><span style="top:-4.072em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size1"><span>âˆ£</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.462em;"><span style="top:-2.266em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size1"><span>âˆ£</span></span></span><span style="top:-2.864em;"><span class="pstrut" style="height:3.216em;"></span><span style="height:1.216em;width:0.3333em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.3333em" height="1.216em" style="width:0.3333em" viewbox="0 0 333.33000000000004 1216" preserveaspectratio="xMinYMin"><path d="M145 0 H188 V1216 H145z M145 0 H188 V1216 H145z"/></svg></span></span><span style="top:-4.072em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size1"><span>âˆ£</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>ç”±äºä¸æ”¯æŒTensorå¯¹Tensorçš„æ±‚å¯¼ï¼Œæ‰€ä»¥æˆ‘ä»¬å€ŸåŠ©é¢å¤–çš„å‘é‡ï¼Œå°†å…¶è½¬åŒ–ä¸ºæ ‡é‡å¯¹å‘é‡çš„æ±‚å¯¼ã€‚ä¾‹å¦‚å‘é‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><msup><mo stretchy="false">]</mo><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">[0,1]^T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0913em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span>ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">È·</mi><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo><mo>=</mo><mo stretchy="false">[</mo><mn>2</mn><mo separator="true">,</mo><mn>6</mn><msup><mo stretchy="false">]</mo><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">\jmath[1]=[2 ,6]^T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">îˆ·</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0913em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">6</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span>ï¼Œè¿™è¡¨ç¤º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">y_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>å¯¹<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>æ±‚å¯¼çš„æ¢¯åº¦ã€‚åŒæ ·ï¼Œé‡‡ç”¨å‘é‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>1</mn><mo separator="true">,</mo><mn>0</mn><msup><mo stretchy="false">]</mo><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">[1,0]^T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0913em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">0</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span>è¡¨ç¤º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>y</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">y_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>å¯¹<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>çš„æ¢¯åº¦ã€‚</p><p>ç”¨ä¸ªä¾‹å­çœ‹ä¸€ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"></span><br><span class="line">x=torch.tensor([[<span class="number">2</span>,<span class="number">3</span>]],dtype=torch.<span class="built_in">float</span>,requires_grad=<span class="literal">True</span>)</span><br><span class="line">j=torch.zeros(<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line">y=torch.zeros(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">y[<span class="number">0</span>,<span class="number">0</span>]=x[<span class="number">0</span>][<span class="number">0</span>]**<span class="number">2</span>+<span class="number">3</span>*x[<span class="number">0</span>][<span class="number">1</span>]</span><br><span class="line">y[<span class="number">0</span>,<span class="number">1</span>]=x[<span class="number">0</span>][<span class="number">1</span>]**<span class="number">2</span>+<span class="number">2</span>*x[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¡ç®—y_1æ¢¯åº¦</span></span><br><span class="line">y.backward(torch.Tensor([[<span class="number">1</span>,<span class="number">0</span>]]),retain_graph=<span class="literal">True</span>) <span class="comment"># ä¸é‡Šæ”¾å›¾ï¼Œå’±ç­‰ä¼šè¿˜è¦ç”¨</span></span><br><span class="line">j[<span class="number">0</span>]=x.grad</span><br><span class="line">x.grad=torch.zeros_like(x.grad)</span><br><span class="line"></span><br><span class="line">y.backward(torch.Tensor([[<span class="number">0</span>,<span class="number">1</span>]]))</span><br><span class="line">j[<span class="number">1</span>]=x.grad</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(j)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">tensor([[4., 3.],</span></span><br><span class="line"><span class="string">        [2., 6.]])</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><hr><h2 id="1-4-ç”Ÿå‘½å‘¨æœŸ">1.4  ç”Ÿå‘½å‘¨æœŸ</h2><img src="/2023/03/19/%E3%80%90PyTorch%E3%80%91PyTorch%E8%87%AA%E5%8A%A8%E6%B1%82%E5%AF%BC/image-20230323200359329.png" alt="image-20230323200359329" style="zoom:50%;"><hr><h2 id="1-5-åˆ‡æ–­åˆ†æ”¯çš„åå‘ä¼ æ’­">1.5  åˆ‡æ–­åˆ†æ”¯çš„åå‘ä¼ æ’­</h2><p>è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬æƒ³ä¿æŒä¸€éƒ¨åˆ†çš„ç½‘ç»œå‚æ•°ä¸å˜ï¼Œè€Œæ”¯é˜Ÿå…¶ä¸­ä¸€éƒ¨åˆ†çš„å‚æ•°è¿›è¡Œè°ƒæ•´ï¼Œåªè®­ç»ƒéƒ¨åˆ†åˆ†æ”¯ï¼Œé‚£ä¹ˆè¿™æ—¶å€™å°±å¯ä»¥é€šè¿‡<code>detach()</code>å‡½æ•°æ¥åˆ‡æ–­ä¸€äº›åˆ†æ”¯çš„åå‘ä¼ æ’­ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">detach_()</span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†èŠ‚ç‚¹è®¾ç½®ä¸ºå¶å­ï¼Œrequires_grad=False grad_fn=None</span></span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ€ä¹ˆè¯´å‘¢ï¼Œæ¯”å¦‚<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi><mo>=</mo><msup><mi>x</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">y=x^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>z</mi><mo>=</mo><mi>y</mi><mi>x</mi></mrow><annotation encoding="application/x-tex">z=yx</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord mathnormal">x</span></span></span></span>ï¼Œæ­¤æ—¶æˆ‘ä»¬æƒ³æŠŠ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>è§†ä¸ºå¸¸æ•°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span>ï¼Œä¹Ÿå°±æ˜¯<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><mi>z</mi></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><mi>x</mi></mrow></mfrac><mo>=</mo><mi>c</mi></mrow><annotation encoding="application/x-tex">\frac{\partial z}{\partial x}=c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2251em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal mtight">x</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span>ï¼Œå¯ä»¥ç”¨ä»¥ä¸‹çš„æ–¹æ³•ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"></span><br><span class="line">x=torch.ones(<span class="number">2</span>,requires_grad=<span class="literal">True</span>)</span><br><span class="line">y=x**<span class="number">2</span>+<span class="number">3</span></span><br><span class="line">c=y.detach_()</span><br><span class="line">z=y*x</span><br><span class="line">z.<span class="built_in">sum</span>().backward()</span><br><span class="line"><span class="built_in">print</span>(x.grad==c)</span><br><span class="line"><span class="built_in">print</span>(x.grad)</span><br><span class="line"></span><br><span class="line">tensor([<span class="literal">True</span>, <span class="literal">True</span>])</span><br><span class="line">tensor([<span class="number">4.</span>, <span class="number">4.</span>])</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦‚æœæˆ‘ä»¬ä¸ç”¨detachï¼Œå¾—åˆ°çš„ç»“æœå°±åº”è¯¥æ˜¯ï¼š<code>3*2+3=6</code>äº†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"></span><br><span class="line">x=torch.ones(<span class="number">2</span>,requires_grad=<span class="literal">True</span>)</span><br><span class="line">y=x**<span class="number">2</span>+<span class="number">3</span></span><br><span class="line"><span class="comment"># c=y.detach_()</span></span><br><span class="line">z=y*x</span><br><span class="line">z.<span class="built_in">sum</span>().backward()</span><br><span class="line"><span class="built_in">print</span>(x.grad)</span><br><span class="line"></span><br><span class="line">tensor([<span class="number">6.</span>, <span class="number">6.</span>])</span><br></pre></td></tr></table></figure><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">PyTorchè‡ªåŠ¨æ±‚å¯¼</summary>
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="PyTorch" scheme="http://example.com/tags/PyTorch/"/>
    
  </entry>
  
  <entry>
    <title>Pandaså†™å…¥å¤šä¸ªSheetä»¥åŠnp.matç”¨æ³•</title>
    <link href="http://example.com/2023/02/08/%E3%80%90Python%E3%80%91%E5%90%8C%E6%97%B6%E5%A1%AB%E5%85%A5SheetName/"/>
    <id>http://example.com/2023/02/08/%E3%80%90Python%E3%80%91%E5%90%8C%E6%97%B6%E5%A1%AB%E5%85%A5SheetName/</id>
    <published>2023-02-07T16:01:03.170Z</published>
    <updated>2023-02-07T16:06:54.764Z</updated>
    
    <content type="html"><![CDATA[<p>åŸç”Ÿçš„<code>pd.to_excel</code>ä¼šè¦†å†™ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°<code>pd.ExcelWriter</code>ã€‚</p><p>likeï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> pd.ExcelWriter(p,mode=<span class="string">&quot;a&quot;</span>,engine=<span class="string">&quot;openpyxl&quot;</span>) <span class="keyword">as</span> writer:</span><br><span class="line">    df=[pd.DataFrame(i) <span class="keyword">for</span> i <span class="keyword">in</span> Record_List]</span><br><span class="line">    <span class="keyword">for</span> i,j <span class="keyword">in</span> <span class="built_in">enumerate</span>(years):</span><br><span class="line">        df[i].to_excel(writer,sheet_name=<span class="built_in">str</span>(j))</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œåœ¨ä¹‹å‰å¿…é¡»ä¿è¯è¿™ä¸ªæ–‡ä»¶çš„å­˜åœ¨ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> pandas.core.frame <span class="keyword">import</span> DataFrame</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># urban_pop,rural_pop,NF,CFä¸ºm*1çŸ©é˜µ,</span></span><br><span class="line"><span class="comment"># urban_prot,rural_pop,ncf,Rediä¸ºæ•°å€¼,</span></span><br><span class="line"><span class="comment"># AN,WP,CP,CAä¸ºm*nçŸ©é˜µ,</span></span><br><span class="line"><span class="comment"># ANI,ANI,ANO,PW,NF,PCä¸ºn*1çŸ©é˜µã€‚</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">caculate_NANI</span>(<span class="params">urban_pop,rural_pop,urban_prot,rural_prot,AN,ANI,ANO,Redi,CP,PC,NF,CF,rN,CA,Ndep</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">Map</span>(<span class="params">x</span>):</span><br><span class="line">        <span class="keyword">return</span> [<span class="built_in">float</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> x]</span><br><span class="line">    Nhc = urban_pop.T*urban_prot+rural_pop.T*rural_prot</span><br><span class="line">    Nlc = np.dot(AN*(<span class="number">10e5</span>), ANI)</span><br><span class="line">    Nlp = np.dot(AN*(<span class="number">10e5</span>), (ANI-ANO))*Redi</span><br><span class="line">    Ncp = np.dot(CP*(<span class="number">10e5</span>), PC)</span><br><span class="line">    Nfer = N*(<span class="number">10e5</span>) + CF*(<span class="number">10e5</span>)*rN</span><br><span class="line">    Ncro = np.dot(CA*<span class="number">10</span>, NF)</span><br><span class="line">    Nim = Nhc + Nlc - Nlp - Ncp</span><br><span class="line">    NANI = Nim+Nfer+Ncro+Ndep</span><br><span class="line">    <span class="keyword">return</span> NANI,&#123;<span class="string">&quot;Nhc&quot;</span>:<span class="built_in">list</span>(<span class="built_in">map</span>(<span class="keyword">lambda</span> x:<span class="built_in">float</span>(x),Nhc)),<span class="string">&quot;Nlc&quot;</span>:<span class="built_in">list</span>(<span class="built_in">map</span>(<span class="keyword">lambda</span> x:<span class="built_in">float</span>(x),Nlc)),</span><br><span class="line">                 <span class="string">&quot;Nlp&quot;</span>:Map(Nlp),<span class="string">&quot;Ncp&quot;</span>:Map(Ncp),<span class="string">&quot;Nfer&quot;</span>:Map(Nfer),<span class="string">&quot;Ncro&quot;</span>:Map(Ncro),<span class="string">&quot;Nim&quot;</span>:Map(Nim),<span class="string">&quot;NANI&quot;</span>:Map(NANI)&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    years = [<span class="number">1990</span>, <span class="number">2000</span>, <span class="number">2010</span>, <span class="number">2020</span>]</span><br><span class="line">    <span class="comment"># years = [1990,2000]</span></span><br><span class="line">    root = <span class="string">r&#x27;C:\Users\lenovo\Documents\Tencent Files\651421775\FileRecv\æ–°å»ºæ–‡ä»¶å¤¹ (2)\\&#x27;</span>  <span class="comment"># æ•°æ®å­˜æ”¾ç›®å½•è·¯å¾„</span></span><br><span class="line">    Record_path=<span class="string">r&quot;G:\\&quot;</span> <span class="comment"># ä¸­é—´å˜é‡è¾“å‡ºä½ç½®</span></span><br><span class="line">    file_paths = [os.path.join(root,<span class="built_in">str</span>(i))+<span class="string">&quot;.xlsx&quot;</span> <span class="keyword">for</span> i <span class="keyword">in</span> years]</span><br><span class="line">    all_list = []</span><br><span class="line">    urban_prot = <span class="number">4.77</span></span><br><span class="line">    rural_prot = <span class="number">4.31</span></span><br><span class="line">    Redi = <span class="number">0.9</span></span><br><span class="line">    rN = <span class="number">0.1285</span></span><br><span class="line">    ANI = np.mat([<span class="number">66.75</span>, <span class="number">44.80</span>, <span class="number">18.00</span>, <span class="number">18.00</span>, <span class="number">9.5</span>, <span class="number">14.5</span>, <span class="number">14.4</span>]).T</span><br><span class="line">    ANO = np.mat([<span class="number">58.51</span>, <span class="number">40.00</span>, <span class="number">15.15</span>, <span class="number">9.59</span>, <span class="number">7.21</span>, <span class="number">5.69</span>, <span class="number">5.69</span>]).T</span><br><span class="line">    PC = np.mat([<span class="number">12.6</span>, <span class="number">21.3</span>, <span class="number">13.0</span>, <span class="number">66.2</span>, <span class="number">2.0</span>, <span class="number">39.7</span>, <span class="number">12.2</span>, <span class="number">2.8</span>, <span class="number">1.5</span>, <span class="number">1.8</span>]).T</span><br><span class="line">    NF = np.mat([<span class="number">3700</span>, <span class="number">9600</span>, <span class="number">8000</span>, <span class="number">1500</span>, <span class="number">1500</span>]).T</span><br><span class="line">    <span class="keyword">if</span> os.path.exists(p:=(Record_path+<span class="string">&quot;process.xlsx&quot;</span>)):</span><br><span class="line">        os.remove(p)</span><br><span class="line"></span><br><span class="line">    pd.DataFrame([]).to_excel(p)</span><br><span class="line">    Record_List=[]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(file_paths)):</span><br><span class="line"></span><br><span class="line">        data = pd.read_excel(file_paths[i])</span><br><span class="line">        urban_pop, rural_pop = np.mat(data[<span class="string">&#x27;åŸé•‡äººå£&#x27;</span>]), np.mat(data[<span class="string">&#x27;å†œæ‘äººå£&#x27;</span>])</span><br><span class="line">        AN, CP, CA = np.mat(data.values[:, <span class="number">4</span>:<span class="number">11</span>]), np.mat(data.values[:, <span class="number">11</span>:<span class="number">21</span>]), np.mat(data.values[:, <span class="number">23</span>:<span class="number">28</span>])</span><br><span class="line">        N = np.mat(data[<span class="string">&#x27;æ°®è‚¥&#x27;</span>]).T</span><br><span class="line">        CF = np.mat(data[<span class="string">&#x27;å¤åˆè‚¥&#x27;</span>]).T</span><br><span class="line">        Ndep = np.mat(data[<span class="string">&#x27;å¤§æ°”æ°®æ²‰é™&#x27;</span>]).T</span><br><span class="line">        NANI,Record = caculate_NANI(urban_pop,rural_pop,urban_prot,rural_prot,AN,ANI,ANO,Redi,CP,PC,NF,CF,rN,CA,Ndep)</span><br><span class="line">        NANI_list=[<span class="built_in">float</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> NANI]</span><br><span class="line">        Record_List.append(Record)</span><br><span class="line">        all_list.append(NANI_list)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">with</span> pd.ExcelWriter(p,mode=<span class="string">&quot;a&quot;</span>,engine=<span class="string">&quot;openpyxl&quot;</span>) <span class="keyword">as</span> writer:</span><br><span class="line">        df=[pd.DataFrame(i) <span class="keyword">for</span> i <span class="keyword">in</span> Record_List]</span><br><span class="line">        <span class="keyword">for</span> i,j <span class="keyword">in</span> <span class="built_in">enumerate</span>(years):</span><br><span class="line">            df[i].to_excel(writer,sheet_name=<span class="built_in">str</span>(j))</span><br><span class="line"></span><br><span class="line">    df_data = &#123;<span class="string">&quot;çœåŸŸ&quot;</span>: <span class="built_in">list</span>(data[<span class="string">&#x27;çœåŸŸ&#x27;</span>]), <span class="string">&quot;1990&quot;</span>: all_list[<span class="number">0</span>], <span class="string">&quot;2000&quot;</span>: all_list[<span class="number">1</span>], <span class="string">&quot;2010&quot;</span>: all_list[<span class="number">2</span>], <span class="string">&quot;2020&quot;</span>: all_list[<span class="number">3</span>]&#125;</span><br><span class="line">    df = DataFrame(df_data)</span><br><span class="line">    df.to_excel(<span class="string">r&quot;G:\new.xlsx&quot;</span>)  <span class="comment"># ä¿å­˜ç»“æœè·¯å¾„</span></span><br></pre></td></tr></table></figure><p>Numpyçš„çŸ©é˜µä¹˜æ³•ç”¨äºå¤„ç†æ•°æ®æ—¶ï¼Œä¸€èˆ¬æ˜¯è¿™æ ·æ“ä½œï¼š</p><ul><li>è¯»å–åˆ—<code>A=np.mat(data.values[:,5:15])</code></li><li>å†™å…¥æƒé‡æˆ–è€…å¯¹åº”çŸ©é˜µ<code>w=[i for i in range(10)]</code></li><li>åšçŸ©é˜µä¹˜æ³•<code>np.dot(A,w.T)</code>ï¼Œä¹Ÿå°±æ˜¯<code>Aw=b</code></li><li>è¿™æ ·æ¯ä¸€åˆ—éƒ½è¢«ä¹˜ä¸Šäº†æƒé‡ã€‚</li></ul><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">Pandaså†™å…¥å¤šä¸ªSheetä»¥åŠnp.matç”¨æ³•</summary>
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="Python" scheme="http://example.com/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>ã€Typoraã€‘ç»˜åˆ¶æµç¨‹å›¾</title>
    <link href="http://example.com/2023/02/03/%E3%80%90Typora%E3%80%91SVG%E6%B5%81%E7%A8%8B%E5%9B%BE%E7%94%BB%E6%B3%95/"/>
    <id>http://example.com/2023/02/03/%E3%80%90Typora%E3%80%91SVG%E6%B5%81%E7%A8%8B%E5%9B%BE%E7%94%BB%E6%B3%95/</id>
    <published>2023-02-03T04:49:52.988Z</published>
    <updated>2023-03-23T07:53:59.219Z</updated>
    
    <content type="html"><![CDATA[<p>è¯´æ˜¯ç”»å›¾ï¼Œä½†å¹¶ä¸åƒå…¶ä»–ä¸“ä¸šçš„ç»˜å›¾è½¯ä»¶é‚£æ ·ï¼Œé€šè¿‡æ‹–æ‹–æ‹½æ‹½ä¸€äº›å…ƒç´ ï¼Œç”»å‡ºæµç¨‹å›¾ã€<a href="https://so.csdn.net/so/search?q=%E6%97%B6%E5%BA%8F%E5%9B%BE&amp;spm=1001.2101.3001.7020">æ—¶åºå›¾</a>ç­‰ã€‚Typora çš„åˆ¶å›¾åŠŸèƒ½æ˜¯ç”± Mermaid å¼ºåŠ›é©±åŠ¨ï¼Œå¦‚æœä½ ä½¿ç”¨è¿‡ PlantUMLï¼Œé‚£ä¹ˆ Mermaid ä¹Ÿéå¸¸å®¹æ˜“ä¸Šæ‰‹ã€‚</p><h3 id="Mermaid"><strong>Mermaid</strong></h3><p><strong>Mermaid[1]</strong> æ˜¯ä¸€ç§ç®€å•çš„ç±»ä¼¼ Markdown çš„è„šæœ¬è¯­è¨€ï¼Œé€šè¿‡ JavaScript ç¼–ç¨‹è¯­è¨€ï¼Œå°†æ–‡æœ¬è½¬æ¢ä¸ºå›¾ç‰‡ã€‚å› æ­¤ï¼ŒçœŸæ­£å®ç°ç”»å›¾åŠŸèƒ½çš„å¹¶ä¸æ˜¯ Typora æœ¬èº«ï¼Œå®ƒåªæ˜¯å†…ç½®äº†å¯¹ Mermaid çš„æ”¯æŒã€‚</p><p><img src="https://img-blog.csdnimg.cn/img_convert/ef6bb6e35dd37db59166f9a8539abccf.png" alt="ef6bb6e35dd37db59166f9a8539abccf.png"></p><p>Mermaid æ”¯æŒç»˜åˆ¶éå¸¸å¤šç§ç±»çš„å›¾ï¼Œå¸¸è§çš„æœ‰æ—¶åºå›¾ã€æµç¨‹å›¾ã€ç±»å›¾ã€ç”˜ç‰¹å›¾ç­‰ç­‰ã€‚ä¸‹é¢åˆ†äº«ä¸€ä¸‹å¦‚ä½•ç»˜åˆ¶è¿™äº›å›¾ï¼Œè¯­æ³•éå¸¸å®¹æ˜“æŒæ¡ã€‚</p><p>å…ˆåœ¨ Typora ä¸­ï¼Œè¾“å…¥ <strong>```mermaid</strong> ç„¶åæ•²å‡»å›è½¦ï¼Œå³å¯åˆå§‹åŒ–ä¸€å¼ ç©ºç™½å›¾ã€‚</p><h3 id="æµç¨‹å›¾"><strong>æµç¨‹å›¾</strong></h3><p>è¯­æ³•è§£é‡Šï¼š<code>graph</code> å…³é”®å­—å°±æ˜¯å£°æ˜ä¸€å¼ æµç¨‹å›¾ï¼Œ<code>TD</code> è¡¨ç¤ºçš„æ˜¯æ–¹å‘ï¼Œè¿™é‡Œçš„å«ä¹‰æ˜¯ Top-Down ç”±ä¸Šè‡³ä¸‹ã€‚</p><table><thead><tr><th style="text-align:center">Key</th><th style="text-align:center">Direction</th></tr></thead><tbody><tr><td style="text-align:center">TB</td><td style="text-align:center">from Top to Bottom</td></tr><tr><td style="text-align:center">BT</td><td style="text-align:center">from Bottom to Top</td></tr><tr><td style="text-align:center">RL</td><td style="text-align:center">from Right to Left</td></tr><tr><td style="text-align:center">LR</td><td style="text-align:center">from Left to Right</td></tr></tbody></table><p><strong>èŠ‚ç‚¹å½¢çŠ¶</strong></p><table><thead><tr><th style="text-align:center">èŠ‚ç‚¹å½¢çŠ¶</th><th style="text-align:center">å¦‚ä½•æ·»åŠ </th></tr></thead><tbody><tr><td style="text-align:center">çŸ©å½¢èŠ‚ç‚¹</td><td style="text-align:center">A[Description]</td></tr><tr><td style="text-align:center">åœ†è§’çŸ©å½¢</td><td style="text-align:center">A(Description)</td></tr><tr><td style="text-align:center">åœ†å½¢èŠ‚ç‚¹</td><td style="text-align:center">A((Description))</td></tr><tr><td style="text-align:center">å³å‘æ——å¸œ/éå¯¹ç§°</td><td style="text-align:center">A&gt;Description]</td></tr><tr><td style="text-align:center">è±å½¢èŠ‚ç‚¹</td><td style="text-align:center">E{Description}</td></tr></tbody></table><p><strong>èŠ‚ç‚¹é—´è¿çº¿</strong></p><table><thead><tr><th style="text-align:center">å½¢çŠ¶</th><th style="text-align:center">æ ¼å¼</th></tr></thead><tbody><tr><td style="text-align:center">â€” æˆ– --&gt;</td><td style="text-align:center">å•çº¿</td></tr><tr><td style="text-align:center">â€“æ–‡æœ¬â€” æˆ– --æ–‡æœ¬â€“&gt;</td><td style="text-align:center">å•çº¿æ–‡å­—</td></tr><tr><td style="text-align:center">===æˆ–==&gt;</td><td style="text-align:center">ç²—çº¿</td></tr><tr><td style="text-align:center">==text=== æˆ–==text==&gt;</td><td style="text-align:center">ç²—çº¿æ–‡å­—</td></tr><tr><td style="text-align:center">-.- æˆ–-.-&gt;</td><td style="text-align:center">è™šçº¿</td></tr><tr><td style="text-align:center">-.text- æˆ–-.text.-&gt;</td><td style="text-align:center">è™šçº¿æ–‡å­—</td></tr></tbody></table><p><strong>å­å›¾è¡¨</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">subgraph å­å›¾è¡¨åç§°</span><br><span class="line">    å­å›¾è¡¨ä¸­çš„æè¿°è¯­å¥...</span><br><span class="line">end</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">graph TB</span><br><span class="line">    id1(åœ†è§’çŸ©å½¢)--æ™®é€šçº¿--&gt;id2[çŸ©å½¢]</span><br><span class="line">    subgraph å­å›¾è¡¨åç§°</span><br><span class="line">        id2==ç²—çº¿==&gt;id3&#123;è±å½¢&#125;</span><br><span class="line">        id3-.è™šçº¿.-&gt;id4&gt;å³å‘æ——å¸œ]</span><br><span class="line">        id3--æ— ç®­å¤´---id5((åœ†å½¢))</span><br><span class="line">        id3--æœ‰ç®­å¤´---&gt;id6((ä½ å¥½))</span><br><span class="line">    end</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">graph TD;</span><br><span class="line">    A--&gt;B;</span><br><span class="line">    A--&gt;C;</span><br><span class="line">    B--&gt;D;</span><br><span class="line">    D==&gt;A;</span><br></pre></td></tr></table></figure><h3 id="æ—¶åºå›¾"><strong>æ—¶åºå›¾</strong></h3><p>è¯­æ³•è§£é‡Šï¼š<code>-&gt;&gt;</code> ä»£è¡¨å®çº¿ç®­å¤´ï¼Œ<code>--&gt;&gt;</code> åˆ™ä»£è¡¨è™šçº¿ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sequenceDiagram</span><br><span class="line"></span><br><span class="line">    Alice-&gt;&gt;John: Hello John, how are you?</span><br><span class="line"></span><br><span class="line">    John--&gt;&gt;Alice: Great!</span><br><span class="line">    </span><br><span class="line">    Alice--&gt;&gt;Tom: Hey</span><br></pre></td></tr></table></figure><h3 id="çŠ¶æ€å›¾"><strong>çŠ¶æ€å›¾</strong></h3><p>è¯­æ³•è§£é‡Šï¼š<code>[*]</code> è¡¨ç¤ºå¼€å§‹æˆ–è€…ç»“æŸï¼Œå¦‚æœåœ¨ç®­å¤´å³è¾¹åˆ™è¡¨ç¤ºç»“æŸã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">stateDiagram</span><br><span class="line"></span><br><span class="line">    [*] --&gt; s1</span><br><span class="line">    s1 --&gt; [*]</span><br></pre></td></tr></table></figure><h3 id="ç±»å›¾"><strong>ç±»å›¾</strong></h3><p>è¯­æ³•è§£é‡Šï¼š<code>&lt;|--</code> è¡¨ç¤ºç»§æ‰¿ï¼Œ<code>+</code> è¡¨ç¤º <code>public</code>ï¼Œ<code>-</code> è¡¨ç¤º <code>private</code>ï¼Œå­¦è¿‡ Java çš„åº”è¯¥éƒ½çŸ¥é“ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">classDiagram</span><br><span class="line"></span><br><span class="line">      Animal &lt;|-- Duck</span><br><span class="line"></span><br><span class="line">      Animal &lt;|-- Fish</span><br><span class="line">      Animal &lt;|-- Zebra</span><br><span class="line">      Animal : +int age</span><br><span class="line">      Animal : +String gender</span><br><span class="line">      Animal: +isMammal()</span><br><span class="line">      Animal: +mate()</span><br><span class="line"></span><br><span class="line">      class Duck&#123;</span><br><span class="line">          +String beakColor</span><br><span class="line">          +swim()</span><br><span class="line">          +quack()</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      class Fish&#123;</span><br><span class="line">          -int sizeInFeet</span><br><span class="line">          -canEat()</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      class Zebra&#123;</span><br><span class="line">          +bool is_wild</span><br><span class="line">          +run()</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure><h3 id="ç”˜ç‰¹å›¾"><strong>ç”˜ç‰¹å›¾</strong></h3><p>ç”˜ç‰¹å›¾ä¸€èˆ¬ç”¨æ¥è¡¨ç¤ºé¡¹ç›®çš„è®¡åˆ’æ’æœŸï¼Œç›®å‰åœ¨å·¥ä½œä¸­ç»å¸¸ä¼šç”¨åˆ°ã€‚</p><p>è¯­æ³•ä¹Ÿéå¸¸ç®€å•ï¼Œä»ä¸Šåˆ°ä¸‹ä¾æ¬¡æ˜¯å›¾ç‰‡æ ‡é¢˜ã€æ—¥æœŸæ ¼å¼ã€é¡¹ç›®ã€é¡¹ç›®ç»†åˆ†çš„ä»»åŠ¡ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">gantt</span><br><span class="line"></span><br><span class="line">    title å·¥ä½œè®¡åˆ’</span><br><span class="line">    dateFormat  YYYY-MM-DD</span><br><span class="line">    section Section</span><br><span class="line">    A task           :a1, 2020-01-01, 30d</span><br><span class="line">    Another task     :after a1  , 20d</span><br><span class="line">    section Another</span><br><span class="line">    Task in sec      :a2,2020-01-12  , 12d</span><br><span class="line">    another task      :a3,2020-01-14,24d</span><br></pre></td></tr></table></figure><h3 id="é¥¼å›¾"><strong>é¥¼å›¾</strong></h3><p>é¥¼å›¾ä½¿ç”¨ <code>pie</code> è¡¨ç¤ºï¼Œæ ‡é¢˜ä¸‹é¢åˆ†åˆ«æ˜¯åŒºåŸŸåç§°åŠå…¶ç™¾åˆ†æ¯”ã€‚</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pie</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    title Key elements in Product X</span><br><span class="line">    &quot;Calcium&quot; : 42.96</span><br><span class="line">    &quot;Potassium&quot; : 50.05</span><br><span class="line">    &quot;Magnesium&quot; : 10.01</span><br><span class="line">    &quot;Iron&quot; :  5</span><br></pre></td></tr></table></figure><h3 id="å¯¼å‡º"><strong>å¯¼å‡º</strong></h3><p>ç»˜åˆ¶å¥½çš„å›¾ç‰‡å¯ä»¥é€‰æ‹©èœå•/æ–‡ä»¶/å¯¼å‡ºï¼Œå¯¼å‡ºä¸ºå›¾ç‰‡æˆ–è€…ç½‘é¡µæ ¼å¼ã€‚åœ¨ç½‘é¡µä¸­å›¾ç‰‡æ˜¯ä»¥ SVG æ ¼å¼æ¸²æŸ“çš„ï¼Œä½ å¯ä»¥å¤åˆ¶ SVG å†…å®¹ï¼Œå¯¼å…¥åˆ° SVG çš„å›¾ç‰‡ç¼–è¾‘å™¨ä¸­è¿›ä¸€æ­¥æ“ä½œã€‚</p><p><img src="https://img-blog.csdnimg.cn/img_convert/1066ef81c868ffaad8bc991d781e0cb0.png" alt="1066ef81c868ffaad8bc991d781e0cb0.png"></p><p>Mermaid å®˜æ–¹æœ‰ä¸€ä¸ªåœ¨çº¿çš„å·¥å…·ï¼Œå¯ä»¥å¯¼å‡º SVG å’Œ PNGã€‚</p><p>Mermaid live <a href="http://editormermaid-js.github.io">editormermaid-js.github.io</a></p><h3 id="Flowè¯­æ³•ç»˜åˆ¶æµç¨‹å›¾">Flowè¯­æ³•ç»˜åˆ¶æµç¨‹å›¾</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">st=&gt;start: å¼€å§‹æ¡†</span><br><span class="line">op=&gt;operation: å¤„ç†æ¡†</span><br><span class="line">cond=&gt;condition: åˆ¤æ–­æ¡†(æ˜¯æˆ–å¦?)</span><br><span class="line">sub1=&gt;subroutine: å­æµç¨‹</span><br><span class="line">io=&gt;inputoutput: è¾“å…¥è¾“å‡ºæ¡†</span><br><span class="line">e=&gt;end: ç»“æŸæ¡†</span><br><span class="line">st-&gt;op-&gt;cond</span><br><span class="line">cond(yes)-&gt;io-&gt;e</span><br><span class="line">cond(no)-&gt;sub1(right)-&gt;op</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">st=&gt;start: å¼€å§‹æ¡†</span><br><span class="line">op=&gt;operation: å¤„ç†æ¡†</span><br><span class="line">cond=&gt;condition: åˆ¤æ–­æ¡†(æ˜¯æˆ–å¦?)</span><br><span class="line">sub1=&gt;subroutine: å­æµç¨‹</span><br><span class="line">io=&gt;inputoutput: è¾“å…¥è¾“å‡ºæ¡†</span><br><span class="line">e=&gt;end: ç»“æŸæ¡†</span><br><span class="line">st(right)-&gt;op(right)-&gt;cond</span><br><span class="line">cond(yes)-&gt;io(bottom)-&gt;e</span><br><span class="line">cond(no)-&gt;sub1(right)-&gt;op</span><br></pre></td></tr></table></figure><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">Typoraç»˜åˆ¶æµç¨‹å›¾</summary>
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
  </entry>
  
  <entry>
    <title>Gitå…¥é—¨åˆ°ç²¾é€š</title>
    <link href="http://example.com/2023/02/02/%E3%80%90Git%E3%80%91%E5%B0%9A%E7%A1%85%E8%B0%B7Git/"/>
    <id>http://example.com/2023/02/02/%E3%80%90Git%E3%80%91%E5%B0%9A%E7%A1%85%E8%B0%B7Git/</id>
    <published>2023-02-01T17:31:35.577Z</published>
    <updated>2023-04-23T08:23:27.568Z</updated>
    
    <content type="html"><![CDATA[<h1>Chapter 1. Git æ¦‚è¿°</h1><p>Git æ˜¯ä¸€ä¸ª<strong>å¼€æºåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶å·¥å…·</strong>ï¼Œå…¶ç‰¹ç‚¹æœ‰ï¼š</p><ul><li>å åœ°é¢ç§¯å°</li><li>æ˜“äºå­¦ä¹ </li><li>æ€§èƒ½æå¿«</li></ul><p>GItå…·æœ‰å»‰ä»·çš„æœ¬åœ°åº“ï¼Œæ–¹ä¾¿çš„æš‚å­˜åŒºåŸŸå’Œå¤šä¸ªå·¥ä½œæµåˆ†æ”¯ç­‰ç‰¹æ€§ï¼Œå…¶æ€§èƒ½ä¼˜äºSubversionã€CVSç­‰ç‰ˆæœ¬æ§åˆ¶å·¥å…·ã€‚</p><h2 id="1-1-ç‰ˆæœ¬æ§åˆ¶">1.1 ç‰ˆæœ¬æ§åˆ¶</h2><p>æ‰€è°“ç‰ˆæœ¬æ§åˆ¶ï¼Œå°±æ˜¯<strong>è®°å½•æ–‡ä»¶å†…å®¹å˜åŒ–</strong>ï¼Œä»¥ä¾¿å°†æ¥æŸ¥é˜…ç‰¹å®šç‰ˆæœ¬ä¿®è®¢æƒ…å†µçš„ç³»ç»Ÿã€‚</p><blockquote><p>å°±æ˜¯ç›¸å½“äºæ–‡æ¡£çš„å­˜æ¡£ç‚¹å•¦</p></blockquote><p>å…¶æœ€é‡è¦çš„å†…å®¹åœ¨äºå¯ä»¥è®°å½•æ–‡ä»¶ä¿®æ”¹çš„<strong>å†å²è®°å½•</strong>ï¼Œè®©ç”¨æˆ·æŸ¥çœ‹å†å²ç‰ˆæœ¬ï¼Œæ–¹ä¾¿ç‰ˆæœ¬åˆ‡æ¢ã€‚</p><blockquote><p>æ–¹ä¾¿ç”±å•æ‰“ç‹¬æ–—è½¬æ¢åˆ°å›¢é˜Ÿåä½œ</p></blockquote><h2 id="1-2-ç‰ˆæœ¬æ§åˆ¶å·¥å…·">1.2  ç‰ˆæœ¬æ§åˆ¶å·¥å…·</h2><p>â­ <strong>é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶å·¥å…·</strong></p><p>ä¾‹å¦‚CVSã€SVNï¼Œéƒ½æœ‰ä¸€ä¸ªå•ä¸€çš„é›†ä¸­ç®¡ç†çš„æœåŠ¡å™¨ï¼Œä¿å­˜æ‰€æœ‰æ–‡ä»¶çš„ä¿®è®¢ç‰ˆæœ¬ï¼Œç”¨æˆ·æƒ³è¦ä¿®æ”¹æ–‡ä»¶å‘¢ï¼Œå°±éœ€è¦å…ˆç”¨å®¢æˆ·ç«¯è¿æ¥åˆ°æœåŠ¡å™¨ï¼Œå–å‡ºæ–‡ä»¶æ¥æ›´æ–°ã€‚</p><p>è¿™ç§æ–¹å¼çš„å¥½å¤„åœ¨äºï¼š</p><ul><li>å·¥ä½œå¯è§†åŒ–(æ¯ä¸ªäººéƒ½èƒ½çœ‹åˆ°åˆ«äººåœ¨åšå•¥)</li><li>å§ç®¡æ§æƒé™(ç®¡ç†å‘˜)</li><li>æ›´å®¹æ˜“ç»´æŠ¤</li></ul><p>ç¼ºç‚¹åœ¨äºï¼š</p><ul><li>æœåŠ¡å™¨å®¹æ˜“ç‚¸ï¼Œç‚¸äº†å°±å¹²ä¸äº†æ´»ï¼Œèµšä¸äº†é’±</li></ul><p>ğŸŒŸ <strong>åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶å·¥å…·</strong></p><p>ä¾‹å¦‚Gitã€Darcsã€Bazaarç­‰ï¼Œå®¢æˆ·ç«¯æå–çš„ä¸æ˜¯æœ€æ–°ç‰ˆæœ¬çš„æ–‡ä»¶å¿«ç…§ï¼Œè€Œæ˜¯å°†ä»£ç ä»“åº“å®Œæ•´åœ°é•œåƒä¸‹æ¥ã€‚è¿™æ ·æ— è®ºé‚£ä¸€å¤„çš„æ–‡ä»¶å‘ç”Ÿæ•…éšœï¼Œäº‹åéƒ½å¯ä»¥ç”¨å…¶ä»–å®¢æˆ·ç«¯çš„æœ¬åœ°ä»“åº“è¿›è¡Œæ¢å¤ã€‚</p><p>ç›¸è¾ƒäºé›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶å·¥å…·ï¼Œå…¶åˆæ˜¯åœ¨äºï¼š</p><ul><li>æ–­ç½‘æƒ…å†µä¹Ÿå¯ä»¥è¿›è¡Œå¼€å‘(ç‰ˆæœ¬æ§åˆ¶æ˜¯åœ¨æœ¬åœ°è¿›è¡Œçš„ï¼ŒGitç™»å½•é¡µé¢ï¼š everything-is-local)</li><li>æ¯ä¸ªå®¢æˆ·ç«¯ä¿å­˜çš„ä¹Ÿæ˜¯æ•´ä¸ªå®Œæ•´çš„é¡¹ç›®</li></ul><h2 id="1-3-Gitç®€å²">1.3  Gitç®€å²</h2><p>å¼€å‘è€…ï¼šLinus(ä¹Ÿæ˜¯Linuxçš„å¼€å‘è€…)ï¼Œ2005å¹´ç”¨Cè¯­è¨€å¼€å‘äº†è¿™ä¸ªç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚2008å¹´GitHubä¸Šçº¿ã€‚</p><h2 id="1-4-Gitå·¥ä½œæœºåˆ¶">1.4  Gitå·¥ä½œæœºåˆ¶</h2><img src="/2023/02/02/%E3%80%90Git%E3%80%91%E5%B0%9A%E7%A1%85%E8%B0%B7Git/image-20230202020631353.png" alt="image-20230202020631353" style="zoom:50%;"><p>å†å²ç‰ˆæœ¬æ˜¯æ²¡åŠæ³•åˆ é™¤çš„ï¼Œè¿™æ˜¯å› ä¸ºä¸‹ä¸€ä¸ªç‰ˆæœ¬æ˜¯ä¾æ‰˜äºä¸Šä¸€ä¸ªç‰ˆæœ¬ç”Ÿæˆçš„ã€‚</p><h2 id="1-5-Gitå’Œä»£ç æ‰˜ç®¡ä¸­å¿ƒ">1.5  Gitå’Œä»£ç æ‰˜ç®¡ä¸­å¿ƒ</h2><p>ä»£ç æ‰˜ç®¡ä¸­å¿ƒæ˜¯åŸºäºç½‘ç»œæœåŠ¡å™¨çš„è¿œç¨‹ä»£ç ä»“åº“ï¼Œä¸€èˆ¬ç§°ä¸ºè¿œç¨‹åº“ã€‚</p><p><strong>å±€åŸŸç½‘</strong></p><ul><li>GitLab</li></ul><p><strong>äº’è”ç½‘</strong></p><ul><li>GitHub</li><li>Gitee</li></ul><hr><h1>Chapter 2.  Git å®‰è£…</h1><p>ç•¥</p><hr><h1>Chapter 3. GIt å¸¸ç”¨å‘½ä»¤</h1><table><thead><tr><th style="text-align:center">å‘½ä»¤åç§°</th><th style="text-align:center">ä½œç”¨</th></tr></thead><tbody><tr><td style="text-align:center">git config --global <a href="http://user.name">user.name</a> ç”¨æˆ·å</td><td style="text-align:center">è®¾ç½®ç”¨æˆ·ç­¾å</td></tr><tr><td style="text-align:center">git config --global user.email é‚®ç®±</td><td style="text-align:center">è®¾ç½®ç”¨æˆ·ç­¾å</td></tr><tr><td style="text-align:center">git init</td><td style="text-align:center">åˆå§‹åŒ–æœ¬åœ°åº“</td></tr><tr><td style="text-align:center">git status</td><td style="text-align:center">æŸ¥çœ‹æœ¬åœ°åº“çŠ¶æ€</td></tr><tr><td style="text-align:center">git add æ–‡ä»¶å</td><td style="text-align:center">æ·»åŠ åˆ°æš‚å­˜åŒº</td></tr><tr><td style="text-align:center">git commit -m â€œæ—¥å¿—ä¿¡æ¯â€ æ–‡ä»¶å</td><td style="text-align:center">æäº¤åˆ°æœ¬åœ°åº“</td></tr><tr><td style="text-align:center">git reflog</td><td style="text-align:center">æŸ¥çœ‹å†å²è®°å½•</td></tr><tr><td style="text-align:center">git reset --hard ç‰ˆæœ¬å·</td><td style="text-align:center">ç‰ˆæœ¬ç©¿æ¢­</td></tr></tbody></table><h2 id="3-1-è®¾ç½®ç”¨æˆ·ç­¾å">3.1  è®¾ç½®ç”¨æˆ·ç­¾å</h2><img src="/2023/02/02/%E3%80%90Git%E3%80%91%E5%B0%9A%E7%A1%85%E8%B0%B7Git/image-20230202110415257.png" alt="image-20230202110415257" style="zoom:50%;"><h2 id="3-2-åˆå§‹åŒ–æœ¬åœ°åº“">3.2  åˆå§‹åŒ–æœ¬åœ°åº“</h2><blockquote><p>åœ¨å¯¹åº”é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹ï¼Œä½¿ç”¨ git init</p></blockquote><p>æŸ¥çœ‹æœ¬åœ°åº“çš„çŠ¶æ€ï¼Œåªéœ€è¦ä½¿ç”¨ï¼š</p><blockquote><p>git status</p></blockquote><p>æˆ‘ä»¬æ–°å¢ä¸€ä¸ªæ–‡ä»¶åå†æŸ¥çœ‹æœ¬åœ°åº“çŠ¶æ€ï¼š</p><blockquote><p>vim hello.txt</p></blockquote><p>vim æ˜¯ä¸€æ¬¾æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œè¿™æ ·èƒ½ç”Ÿæˆä¸€ä¸ªæ–°çš„æ–‡æœ¬æ–‡ä»¶ã€‚</p><img src="/2023/02/02/%E3%80%90Git%E3%80%91%E5%B0%9A%E7%A1%85%E8%B0%B7Git/image-20230202111837307.png" alt="image-20230202111837307" style="zoom:50%;"><p>è¿™ä¸ªæ„æ€è¡¨ç¤ºï¼Œè¯¥æ–‡ä»¶ç°åœ¨ä»…æ”¾åœ¨å·¥ä½œåŒºï¼Œè¿˜æ²¡æœ‰è¢«è¿½è¸ªè¿‡ã€‚é‚£ä¹ˆæŒ‰ç…§ä¹‹å‰çš„æ€è·¯ï¼Œåº”è¯¥å°†è¿™ä¸ªæ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºäº†ã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨å‘½ä»¤ï¼š</p><blockquote><p>git add hello.txt</p></blockquote><img src="/2023/02/02/%E3%80%90Git%E3%80%91%E5%B0%9A%E7%A1%85%E8%B0%B7Git/image-20230202112302182.png" alt="image-20230202112302182" style="zoom:50%;"><p>æ­¤æ—¶ï¼Œå·²ç»æ”¾åˆ°æš‚å­˜åŒºäº†ï¼Œå¯ä»¥è¢«Gitè¿½è¸ªåˆ°ã€‚</p><p>æˆ‘ä»¬å¯ä»¥åˆ æ‰æš‚å­˜åŒºçš„æ–‡ä»¶ï¼Œä½†å¯¹å·¥ä½œåŒºå’Œæœ¬åœ°åº“æ²¡æœ‰å½±å“ï¼š</p><blockquote><p>$ git rm --cached hello.txt</p></blockquote><p>é‚£æœ€åå‘¢ï¼Œä¹Ÿå°±æ˜¯æ“ä½œçš„æœ€åä¸€æ­¥ï¼Œæˆ‘ä»¬éœ€è¦æäº¤åˆ°æœ¬åœ°åº“ã€‚</p><blockquote><p>$ git commit -m â€œMy first versionâ€ hello.txt</p></blockquote><p>è¯¥å‘½ä»¤åŸå§‹çš„æ ¼å¼æ˜¯ï¼š</p><figure class="highlight latex"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m &quot;æ—¥å¿—ä¿¡æ¯&quot; æ–‡ä»¶å</span><br></pre></td></tr></table></figure><p>å¦‚æœæˆåŠŸæäº¤äº†ï¼Œé‚£ä¹ˆä¼šæ˜¾ç¤ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[master (root-commit) 6bf530b] My first version</span><br><span class="line"> <span class="number">1</span> file changed, <span class="number">8</span> insertions(+)</span><br><span class="line"> create mode <span class="number">100644</span> hello.txt</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªä¸ƒä½å­—ç¬¦ç  6bf530b å°±æ˜¯æ§åˆ¶çš„ç‰ˆæœ¬å·ã€‚</p><p>æˆ‘ä»¬å¯ä»¥å†æ¬¡æŸ¥çœ‹æœ¬åœ°åº“çš„çŠ¶æ€ã€‚</p><img src="/2023/02/02/%E3%80%90Git%E3%80%91%E5%B0%9A%E7%A1%85%E8%B0%B7Git/image-20230202113511221.png" alt="image-20230202113511221" style="zoom:50%;"><p>æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯ï¼š</p><blockquote><p>git reflog ç‰ˆæœ¬ä¿¡æ¯</p><p>git log è¯¦ç»†ä¿¡æ¯</p></blockquote><h2 id="3-3-ä¿®æ”¹æ–‡ä»¶">3.3  ä¿®æ”¹æ–‡ä»¶</h2><p>å¦‚æœæˆ‘ä»¬è¿™æ—¶å€™ä¿®æ”¹äº†æ–‡ä»¶ä¿¡æ¯ï¼Œè¿™æ—¶å€™å†æ¬¡æŸ¥çœ‹æœ¬åœ°åº“çŠ¶æ€ï¼Œä¼šæç¤ºæ–‡ä»¶è¢«ä¿®æ”¹è¿‡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ git status</span><br><span class="line">On branch master</span><br><span class="line">Changes <span class="keyword">not</span> staged <span class="keyword">for</span> commit:</span><br><span class="line">  (use <span class="string">&quot;git add &lt;file&gt;...&quot;</span> to update what will be committed)</span><br><span class="line">  (use <span class="string">&quot;git restore &lt;file&gt;...&quot;</span> to discard changes <span class="keyword">in</span> working directory)</span><br><span class="line">        modified:   hello.txt</span><br><span class="line"></span><br><span class="line">no changes added to commit (use <span class="string">&quot;git add&quot;</span> <span class="keyword">and</span>/<span class="keyword">or</span> <span class="string">&quot;git commit -a&quot;</span>)</span><br></pre></td></tr></table></figure><p>é‚£è¿˜æ˜¯ä¸‰æ¿æ–§ï¼Œæˆ‘ä»¬æŠŠä»–æäº¤åˆ°æœ¬åœ°åº“ã€‚</p><p>é‚£æ¥æŸ¥çœ‹ä¸‹æ—¥å¿—ä¿¡æ¯å§ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git reflog</span><br><span class="line">267de41 (HEAD -&gt; master) HEAD@&#123;<span class="number">0</span>&#125;: commit: Second <span class="comment"># headæ˜¯æŒ‡é’ˆ</span></span><br><span class="line">6bf530b HEAD@&#123;<span class="number">1</span>&#125;: commit (initial): My first version</span><br></pre></td></tr></table></figure><p>gitçš„è¿ä½œæ–¹å¼æ˜¯æ¯”å¯¹ä¸¤ä¸ªç‰ˆæœ¬çš„å¼‚åŒï¼Œå¯¹è¡Œç›´æ¥è¿›è¡Œå¢åŠ æˆ–æ˜¯åˆ é™¤ã€‚</p><p>å…¶åº•å±‚çš„æœºåˆ¶åœ¨äºç§»åŠ¨æŒ‡é’ˆã€‚</p><h2 id="3-4-ç‰ˆæœ¬ç©¿æ¢­">3.4  ç‰ˆæœ¬ç©¿æ¢­</h2><p>ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬å…ˆç”¨å‘½ä»¤<code>git reflog</code>è·å–ç‰ˆæœ¬ä¿¡æ¯ï¼Œç„¶åå†ç”¨å‘½ä»¤ï¼š</p><blockquote><p>git reset --hard Ver.</p></blockquote><p>ç©¿è¶Šç‰ˆæœ¬ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git reset --hard  6bf530b</span><br><span class="line">HEAD <span class="keyword">is</span> now at 6bf530b My first version</span><br></pre></td></tr></table></figure><p>å¯ä»¥å‘ç°ï¼ŒæŒ‡é’ˆå·²ç»è¢«ç§»åŠ¨äº†ã€‚</p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨æ—¥å¿—ä¸Šçœ‹åˆ°è¿™æ­¥çš„æ“ä½œï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">6bf530b (HEAD -&gt; master) HEAD@&#123;<span class="number">0</span>&#125;: reset: moving to 6bf530b</span><br><span class="line">267de41 HEAD@&#123;<span class="number">1</span>&#125;: commit: Second</span><br><span class="line">6bf530b (HEAD -&gt; master) HEAD@&#123;<span class="number">2</span>&#125;: commit (initial): My first version</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶æŸ¥çœ‹æ–‡ä»¶ï¼Œå‘ç°å·²ç»å‘ç”Ÿäº†ç‰ˆæœ¬å˜åŒ–ã€‚</p><img src="/2023/02/02/%E3%80%90Git%E3%80%91%E5%B0%9A%E7%A1%85%E8%B0%B7Git/image-20230202115218012.png" alt="image-20230202115218012" style="zoom:67%;"><p>æŒ‡é’ˆä¿¡æ¯è®°å½•åœ¨.gitæ–‡ä»¶å¤¹é‡Œï¼Œä¸€ä¸ªæ˜¯æŒ‡å‘æ–‡ä»¶å¤¹çš„æŒ‡é’ˆï¼Œä¸€ä¸ªæ˜¯æŒ‡å‘ç‰ˆæœ¬çš„æŒ‡é’ˆã€‚</p><hr><h1>Chapter 4. Git åˆ†æ”¯æ“ä½œ</h1><img src="/2023/02/02/%E3%80%90Git%E3%80%91%E5%B0%9A%E7%A1%85%E8%B0%B7Git/image-20230202140252357.png" alt="image-20230202140252357" style="zoom:50%;"><p>ä¸Šé¢è¿™å¼ å›¾ï¼šä¸€ä¸ªåˆ†æ”¯ç”¨æ¥å¼€å‘ï¼Œä¸€ä¸ªåˆ†æ”¯ç”¨æ¥æµ‹è¯•ï¼Œä¸€ä¸ªåˆ†æ”¯ç”¨æ¥ä½¿ç”¨ã€‚Be like é•œåƒå‰¯æœ¬</p><h2 id="4-1-ä»€ä¹ˆæ˜¯åˆ†æ”¯">4.1  ä»€ä¹ˆæ˜¯åˆ†æ”¯</h2><p>åœ¨ç‰ˆæœ¬æ§åˆ¶è¿‡ç¨‹æ±‡æ€»ï¼Œæœ‰æ—¶å€™éœ€è¦åŒæ—¶æ¨è¿›å¤šä¸ªä»»åŠ¡ï¼Œå¯ä»¥ä¸ºæ¯ä¸ªä»»åŠ¡åˆ›å»ºå•ç‹¬çš„åˆ†æ”¯ï¼Œè¿™æ„å‘³ç€æ¯ä¸ªç»„å¼€å‘è‡ªå·±çš„åŠŸèƒ½çš„æ—¶å€™ï¼Œä¸ä¼šå½±å“åˆ°ä¸»çº¿åˆ†æ”¯çš„è¿è¡Œã€‚</p><blockquote><p>å®é™…ä¸Šåˆ†æ”¯åº•å±‚ä¹Ÿæ˜¯æŒ‡é’ˆçš„å¼•ç”¨ã€‚</p></blockquote><img src="/2023/02/02/%E3%80%90Git%E3%80%91%E5%B0%9A%E7%A1%85%E8%B0%B7Git/image-20230202140901961.png" alt="image-20230202140901961" style="zoom:50%;"><p>å¯ä»¥å‘ç°ï¼Œå„ä¸ªåŠŸèƒ½çš„åˆ†æ”¯éƒ½æ˜¯ä»ä¸»çº¿åˆ†æ”¯å¼•ç”¨å‡ºå»ï¼Œå½“å¼€å‘å®Œæˆæ—¶ï¼Œåˆä¼šåˆå¹¶åˆ°ä¸»çº¿åˆ†æ”¯ã€‚</p><h2 id="4-2-åˆ†æ”¯çš„å¥½å¤„">4.2  åˆ†æ”¯çš„å¥½å¤„</h2><ul><li>åŒæ—¶å¹¶è¡Œæ¨è¿›å¼€å‘å¤šä¸ªåŠŸèƒ½ï¼Œæé«˜å·¥ä½œæ•ˆç‡</li><li>å„ä¸ªåˆ†æ”¯åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæŸä¸ªåˆ†æ”¯å¼€å‘å¤±è´¥ï¼Œå¹¶ä¸ä¼šå¯¼è‡´å…¶ä»–åˆ†æ”¯å‡ºç°é—®é¢˜ã€‚</li></ul><h2 id="4-3-åˆ†æ”¯çš„æ“ä½œ">4.3  åˆ†æ”¯çš„æ“ä½œ</h2><table><thead><tr><th style="text-align:center">å‘½ä»¤åç§°</th><th style="text-align:center">ä½œç”¨</th></tr></thead><tbody><tr><td style="text-align:center">git branch åˆ†æ”¯å</td><td style="text-align:center">åˆ›å»ºåˆ†æ”¯</td></tr><tr><td style="text-align:center">git branch -v</td><td style="text-align:center">æŸ¥çœ‹åˆ†æ”¯</td></tr><tr><td style="text-align:center">git checkout åˆ†æ”¯å</td><td style="text-align:center">åˆ‡æ¢åˆ†æ”¯</td></tr><tr><td style="text-align:center">git merge åˆ†æ”¯å</td><td style="text-align:center">å°†æŒ‡å®šåˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ä¸Š</td></tr></tbody></table><h3 id="4-3-1-æŸ¥çœ‹åˆ†æ”¯">4.3.1  æŸ¥çœ‹åˆ†æ”¯</h3><p>æˆ‘ä»¬ä½¿ç”¨è¯­å¥</p><blockquote><p>git branch -v</p></blockquote><p>æŸ¥çœ‹åˆ†æ”¯ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -v</span><br><span class="line">* master 267de41 Second</span><br></pre></td></tr></table></figure><h3 id="4-3-2-åˆ›å»ºåˆ†æ”¯">4.3.2  åˆ›å»ºåˆ†æ”¯</h3><p>ä½¿ç”¨ä»£ç ï¼š</p><blockquote><p>git branch åˆ†æ”¯å</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git branch hotfix</span><br><span class="line">git branch -v</span><br><span class="line"></span><br><span class="line">  hotfix 267de41 Second</span><br><span class="line">* master 267de41 Second</span><br></pre></td></tr></table></figure><h3 id="4-3-3-ä¿®æ”¹å’Œåˆ‡æ¢åˆ†æ”¯">4.3.3  ä¿®æ”¹å’Œåˆ‡æ¢åˆ†æ”¯</h3><p>åˆ‡æ¢åˆ†æ”¯çš„è¯ï¼Œæˆ‘ä»¬ä½¿ç”¨è¯­å¥ï¼š</p><blockquote><p>git checkout åˆ†æ”¯å</p></blockquote><img src="/2023/02/02/%E3%80%90Git%E3%80%91%E5%B0%9A%E7%A1%85%E8%B0%B7Git/image-20230202150649367.png" alt="image-20230202150649367" style="zoom:50%;"><p>æ³¨æ„åˆ«æŠŠbranchæ‰“è¿›å»äº†ï¼</p><p>åœ¨åˆ†æ”¯ä¸Šä¿®æ”¹åï¼Œè¿˜æ˜¯ä¸‰æ¿æ–§æ”¾è¿›å»ã€‚æœ¬è´¨ä¸ŠGitçš„ç‰ˆæœ¬æ§åˆ¶è¿˜æ˜¯é€šè¿‡åº•å±‚æŒ‡é’ˆè¿›è¡Œçš„ã€‚</p><h3 id="4-3-4-åˆå¹¶åˆ†æ”¯">4.3.4  åˆå¹¶åˆ†æ”¯</h3><p>æˆ‘ä»¬å…ˆåˆ‡æ¢å›<code>Master</code>åˆ†æ”¯ï¼Œä¸éš¾å‘ç°ï¼Œè¿™ä¸ªæ–‡æ¡£å›åˆ°äº†æ²¡æœ‰ä¿®æ”¹å‰çš„æ ·å­ã€‚</p><p>é‚£æˆ‘ä»¬ç°åœ¨è¯•ç€æŠŠä¹‹å‰çš„ä¿®æ”¹åˆå¹¶ä¸Šå»ã€‚</p><p>æ³¨æ„ï¼Œè¦åœ¨æŸä¸ªåˆ†æ”¯ä¸Šåˆå¹¶å…¶ä»–åˆ†æ”¯ï¼Œå¿…é¡»ç”¨æŒ‡é’ˆæŒ‡å‘å½“å‰åˆ†æ”¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git merge hotfix</span><br><span class="line">Updating 267de41.<span class="number">.00</span>bea41</span><br><span class="line">Fast-forward</span><br><span class="line"> hello.txt | <span class="number">1</span> +</span><br><span class="line"> <span class="number">1</span> file changed, <span class="number">1</span> insertion(+)</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œå·²ç»å®Œæˆäº†åˆ†æ”¯åˆå¹¶ã€‚æˆ‘ä»¬æ¥æŸ¥çœ‹ä¸‹æ–‡ä»¶ï¼Œå‘ç°<code>hello.txt</code>å·²ç»å˜æˆäº†hotfixçš„æ¨¡æ ·</p><h3 id="4-3-5-åˆå¹¶åˆ†æ”¯">4.3.5  åˆå¹¶åˆ†æ”¯</h3><p>åˆå¹¶åˆ†æ”¯æ—¶ï¼Œä¸¤ä¸ªåˆ†æ”¯å¦‚æœåœ¨åŒä¸€ä¸ªæ–‡ä»¶åŒä¸€ä¸ªä½ç½®æœ‰ä¸¤å¥—å®Œå…¨ä¸åŒçš„ä¿®æ”¹ï¼ŒGitæ— æ³•å†³å®šä½¿ç”¨å“ªä¸€ä¸ªï¼Œå¿…é¡»äººä¸ºå†³å®šæ–°ä»£ç çš„å†…å®¹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git merge hotfix</span><br><span class="line">Auto-merging hello.txt</span><br><span class="line">CONFLICT (content): Merge conflict <span class="keyword">in</span> hello.txt</span><br><span class="line">Automatic merge failed; fix conflicts <span class="keyword">and</span> then commit the result.</span><br></pre></td></tr></table></figure><p>é‚£æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p>æ‰“å¼€æ–‡ä»¶ï¼Œå‘ç°Gitç»™æˆ‘ä»¬æ ‡å‡ºæ¥å†²çªçš„ä»£ç äº†ï¼š</p><img src="/2023/02/02/%E3%80%90Git%E3%80%91%E5%B0%9A%E7%A1%85%E8%B0%B7Git/image-20230202153343351.png" alt="image-20230202153343351" style="zoom:50%;"><p>æˆ‘ä»¬é‡æ–°ä¿®æ”¹åæäº¤ï¼Œæ³¨æ„ï¼Œè¿™æ—¶å€™ï¼</p><p>å¯¹äºå†²çªæ–‡ä»¶ï¼Œä¸å†éœ€è¦æ–‡ä»¶åï¼ï¼</p><img src="/2023/02/02/%E3%80%90Git%E3%80%91%E5%B0%9A%E7%A1%85%E8%B0%B7Git/image-20230202153942669.png" alt="image-20230202153942669" style="zoom:50%;"><p>æ­¤æ—¶çŠ¶æ€å·²ç»ä»Megingè½¬åŒ–ä¸ºå¸¸æ€äº†ã€‚</p><p>å¯¹äºåˆ†æ”¯HotFixï¼Œæ˜¯ä¸ä¼šä¿®æ”¹çš„ã€‚</p><img src="/2023/02/02/%E3%80%90Git%E3%80%91%E5%B0%9A%E7%A1%85%E8%B0%B7Git/image-20230202154216255.png" alt="image-20230202154216255" style="zoom:50%;"><p>masterã€hotfixå®é™…ä¸Šéƒ½æ˜¯æŒ‡å‘å…·ä½“ç‰ˆæœ¬è®°å½•çš„æŒ‡é’ˆï¼Œå½“å‰ç”¨æˆ·æ‰€åœ¨çš„åˆ†æ”¯åˆ™æ˜¯ç”±<code>Head</code>æ‰€å†³å®šçš„ã€‚</p><hr><h1>Chapter 5. Git å›¢é˜Ÿåä½œæœºåˆ¶</h1><p>å›¢é˜Ÿåä½œä¾æ‰˜äºè¿œç¨‹åº“</p><p>å›¢é˜Ÿå†…åˆä½œ</p><img src="/2023/02/02/%E3%80%90Git%E3%80%91%E5%B0%9A%E7%A1%85%E8%B0%B7Git/image-20230202190033989.png" alt="image-20230202190033989" style="zoom:50%;"><p>å¤šå›¢é˜Ÿåˆä½œ</p><img src="/2023/02/02/%E3%80%90Git%E3%80%91%E5%B0%9A%E7%A1%85%E8%B0%B7Git/image-20230202190131225.png" alt="image-20230202190131225" style="zoom:50%;"><p>åè¯è§£é‡Šï¼š</p><ul><li><code>pull</code> æ‹‰å–ï¼Œå¯¹æ›´æ–°åçš„ä»£ç è¿›è¡Œä¿®æ­£</li><li><code>push</code> æ¨é€ï¼Œä»æœ¬åœ°åº“åˆ°è¿œç¨‹åº“</li><li><code>clone</code> å…‹éš†ï¼Œè·å–è¿œç¨‹åº“å‰¯æœ¬</li><li><code>fork</code> å‰å­ï¼Œä»ä¸€ä¸ªè¿œç¨‹åº“æ‹·è´åˆ°å¦ä¸€ä¸ªè¿œç¨‹åº“</li></ul><hr><h1>Chaptert 6.  GitHubæ“ä½œ</h1><p>åœ¨GitHubä¸­åˆ›å»ºä¸€ä¸ªè¿œç¨‹ä»“åº“åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹è¿œç¨‹åº“è¿›è¡Œæ“ä½œå•¦ã€‚</p><h2 id="ä»“åº“åˆ«å">ä»“åº“åˆ«å</h2><p>ä¸»è¦æ˜¯ä¸ºäº†ä¾¿æ·æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºæˆ‘ä»¬çš„ä»“åº“åˆ›å»ºä¸€ä¸ªåˆ«åï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git remote -v <span class="comment"># æŸ¥çœ‹å½“å‰æ‰€æœ‰è¿œç¨‹åœ°å€åˆ«å</span></span><br><span class="line">git remote add åˆ«å è¿œç¨‹åœ°å€ <span class="comment"># ä¸ºå…¶æ·»åŠ åˆ«å</span></span><br><span class="line">git remote <span class="built_in">set</span>-url åˆ«å Url <span class="comment"># è®¾ç½®æ–°åœ°å€</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ç°åœ¨åœ¨https://github.com/Torture03/GitDemo.gitä¸Šåˆ›å»ºäº†ä¸€ä¸ªç©ºç™½ä»“åº“ï¼Œè¯•ç€ä¸ºå…¶æ·»åŠ ä¸€ä¸ªåˆ«åå§ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git remote add git-demo https://github.com/Torture03/GitDemo.git</span><br></pre></td></tr></table></figure><p>æ¥ç€å¯ä»¥æŸ¥çœ‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git remote -v</span><br><span class="line">Torture  (fetch)</span><br><span class="line">Torture  (push)</span><br><span class="line">git-demo        https://github.com/Torture03/GitDemo.git (fetch)</span><br><span class="line">git-demo        https://github.com/Torture03/GitDemo.git (push)</span><br></pre></td></tr></table></figure><p>ä¸€ä¸ªæ˜¯pushåˆ«åï¼Œå¦ä¸€ä¸ªæ˜¯cloneåˆ«åã€‚</p><h2 id="æ¨é€è¿œç¨‹åº“">æ¨é€è¿œç¨‹åº“</h2><p>ä¸‹é¢æˆ‘ä»¬æ¥å°†æœ¬åœ°ä»“åº“æ¨é€åˆ°è¿œç¨‹åº“ã€‚</p><blockquote><p>git push åˆ«å åˆ†æ”¯</p></blockquote><p>æˆ‘ä»¬å½“å‰çš„æœ¬åœ°åº“æœ‰ä¸¤ä¸ªåˆ†æ”¯ï¼Œè¿™é‡Œéœ€è¦é€‰æ‹©åˆ†æ”¯è¿›è¡Œæ¨é€ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$ git push Git-Demo_C master</span><br><span class="line"></span><br><span class="line">warning: ----------------- SECURITY WARNING ----------------</span><br><span class="line">warning: | TLS certificate verification has been disabled! |</span><br><span class="line">warning: ---------------------------------------------------</span><br><span class="line">warning: HTTPS connections may <span class="keyword">not</span> be secure. See https://aka.ms/gcm/tlsverify <span class="keyword">for</span> more information.</span><br><span class="line">warning: ----------------- SECURITY WARNING ----------------</span><br><span class="line">warning: | TLS certificate verification has been disabled! |</span><br><span class="line">warning: ---------------------------------------------------</span><br><span class="line">warning: HTTPS connections may <span class="keyword">not</span> be secure. See https://aka.ms/gcm/tlsverify <span class="keyword">for</span> more information.</span><br><span class="line">Enumerating objects: <span class="number">21</span>, done.</span><br><span class="line">Counting objects: <span class="number">100</span>% (<span class="number">21</span>/<span class="number">21</span>), done.</span><br><span class="line">Delta compression using up to <span class="number">16</span> threads</span><br><span class="line">Compressing objects: <span class="number">100</span>% (<span class="number">14</span>/<span class="number">14</span>), done.</span><br><span class="line">Writing objects: <span class="number">100</span>% (<span class="number">21</span>/<span class="number">21</span>), <span class="number">1.56</span> KiB | <span class="number">799.00</span> KiB/s, done.</span><br><span class="line">Total <span class="number">21</span> (delta <span class="number">7</span>), reused <span class="number">0</span> (delta <span class="number">0</span>), pack-reused <span class="number">0</span></span><br><span class="line">remote: Resolving deltas: <span class="number">100</span>% (<span class="number">7</span>/<span class="number">7</span>), done.</span><br><span class="line">To https://github.com/Chen-XiaoLv/Git-Demo.git</span><br><span class="line"> * [new branch]      master -&gt; master</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œå°±æˆåŠŸå®ç°äº†æ¨é€ã€‚</p><h2 id="æ‹‰å–è¿œç¨‹åº“">æ‹‰å–è¿œç¨‹åº“</h2><p>æœ‰äº†æ¨é€åï¼Œå½“ç„¶è¦æ‹‰å–å•¦</p><blockquote><p>git pull åˆ«å åˆ†æ”¯</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ git pull Git-Demo_C master</span><br><span class="line"></span><br><span class="line">remote: Enumerating objects: <span class="number">5</span>, done.</span><br><span class="line">remote: Counting objects: <span class="number">100</span>% (<span class="number">5</span>/<span class="number">5</span>), done.</span><br><span class="line">remote: Compressing objects: <span class="number">100</span>% (<span class="number">2</span>/<span class="number">2</span>), done.</span><br><span class="line">remote: Total <span class="number">3</span> (delta <span class="number">1</span>), reused <span class="number">0</span> (delta <span class="number">0</span>), pack-reused <span class="number">0</span></span><br><span class="line">Unpacking objects: <span class="number">100</span>% (<span class="number">3</span>/<span class="number">3</span>), <span class="number">670</span> <span class="built_in">bytes</span> | <span class="number">74.00</span> KiB/s, done.</span><br><span class="line">From https://github.com/Chen-XiaoLv/Git-Demo</span><br><span class="line"> * branch            master     -&gt; FETCH_HEAD</span><br><span class="line">   cacd9ae.<span class="number">.5217</span>c64  master     -&gt; Git-Demo_C/master</span><br><span class="line">Updating cacd9ae.<span class="number">.5217</span>c64</span><br><span class="line">Fast-forward</span><br><span class="line"> hello.txt | <span class="number">3</span> ++-</span><br><span class="line"> <span class="number">1</span> file changed, <span class="number">2</span> insertions(+), <span class="number">1</span> deletion(-)</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¹Ÿèƒ½åœ¨GitHubä¸Šçœ‹åˆ°ä¹‹å‰çš„ç‰ˆæœ¬ä¿¡æ¯ã€‚</p><p><img src="/2023/02/02/%E3%80%90Git%E3%80%91%E5%B0%9A%E7%A1%85%E8%B0%B7Git/image-20230202203611826.png" alt="image-20230202203611826"></p><h2 id="å…‹éš†è¿œç¨‹åº“">å…‹éš†è¿œç¨‹åº“</h2><p>å‰é¢çš„pullæ˜¯åŸºäºè¿œç¨‹åº“å¯¹æœ¬åœ°åº“çš„æ›´æ–°ï¼Œè€Œå…‹éš†åˆ™æ˜¯ç›´æ¥æä¸ªæ–°çš„æã€‚</p><p>æˆ‘ä»¬æ–°å»ºä¸ªæ–‡ä»¶å¤¹ã€‚</p><p>ç„¶åéœ€è¦è·å–è¿œç¨‹åº“çš„ä½ç½®ã€‚</p><p>æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬æƒ³æ¢ä¸ªè´¦å·ï¼Œéœ€è¦åœ¨Windowså‡­æ®ä¸­ç®¡ç†ã€‚(Windowsåªèƒ½è®°å½•ä¸€ä¸ªè´¦å·)</p><img src="/2023/02/02/%E3%80%90Git%E3%80%91%E5%B0%9A%E7%A1%85%E8%B0%B7Git/image-20230202210103013.png" alt="image-20230202210103013" style="zoom:50%;"><img src="/2023/02/02/%E3%80%90Git%E3%80%91%E5%B0%9A%E7%A1%85%E8%B0%B7Git/image-20230202210147853.png" alt="image-20230202210147853" style="zoom:50%;"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git clone https://github.com/Chen-XiaoLv/Git-Demo.git</span><br><span class="line">Cloning into <span class="string">&#x27;Git-Demo&#x27;</span>...</span><br><span class="line"></span><br><span class="line">remote: Enumerating objects: <span class="number">27</span>, done.</span><br><span class="line">remote: Counting objects: <span class="number">100</span>% (<span class="number">27</span>/<span class="number">27</span>), done.</span><br><span class="line">remote: Compressing objects: <span class="number">100</span>% (<span class="number">11</span>/<span class="number">11</span>), done.</span><br><span class="line">remote: Total <span class="number">27</span> (delta <span class="number">8</span>), reused <span class="number">23</span> (delta <span class="number">7</span>), pack-reused <span class="number">0</span></span><br><span class="line">Receiving objects: <span class="number">100</span>% (<span class="number">27</span>/<span class="number">27</span>), done.</span><br><span class="line">Resolving deltas: <span class="number">100</span>% (<span class="number">8</span>/<span class="number">8</span>), done.</span><br></pre></td></tr></table></figure><p>å…‹éš†çš„è¯ä¸éœ€è¦è´¦å·ã€‚</p><p><img src="/2023/02/02/%E3%80%90Git%E3%80%91%E5%B0%9A%E7%A1%85%E8%B0%B7Git/image-20230202211240795.png" alt="image-20230202211240795"></p><p>æ­¤æ—¶æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œå·²ç»å…‹éš†ä¸‹æ¥äº†ã€‚</p><p><code>clone</code>ä¼šåšä¸‰ä»¶äº‹ï¼š</p><ul><li>æ‹‰å–ä»£ç </li><li>åˆå§‹åŒ–æœ¬åœ°åº“</li><li>åˆ›å»ºåˆ«å</li></ul><h2 id="å›¢é˜Ÿå†…åä½œ">å›¢é˜Ÿå†…åä½œ</h2><p>å¦‚æœæƒ³è¦å¾€åˆ«äººçš„ä»“åº“æ‰”ä»£ç ï¼Œé‚£ä¹ˆå°±éœ€è¦å›¢é˜Ÿåä½œã€‚éœ€è¦ä»“åº“åˆ›å»ºè€…é‚€è¯·ã€‚</p><img src="/2023/02/02/%E3%80%90Git%E3%80%91%E5%B0%9A%E7%A1%85%E8%B0%B7Git/image-20230202213100375.png" alt="image-20230202213100375" style="zoom:50%;"><p>åœ¨è¿™é‡Œæ·»åŠ ç®¡ç†æˆå‘˜ã€‚</p><p>è¿™é‡Œè·å–é‚€è¯·å‡½åœ°å€ã€‚</p><img src="/2023/02/02/%E3%80%90Git%E3%80%91%E5%B0%9A%E7%A1%85%E8%B0%B7Git/image-20230202213203970.png" alt="image-20230202213203970" style="zoom:50%;"><p>ç™»å½•æ–°æˆå‘˜çš„è´¦å·ï¼Œç›´æ¥åœ¨æµè§ˆå™¨ä¸­è¾“å…¥é‚€è¯·é“¾æ¥å³å¯æ¥æ”¶é‚€è¯·æˆ–è€…å©‰æ‹’(Decline)</p><h2 id="è·¨å›¢é˜Ÿåä½œ">è·¨å›¢é˜Ÿåä½œ</h2><p><img src="/2023/02/02/%E3%80%90Git%E3%80%91%E5%B0%9A%E7%A1%85%E8%B0%B7Git/image-20230202213900447.png" alt="image-20230202213900447"></p><p>Forkï¼Œç±»ä¼¼äºåŠ å…¥æ”¶è—å¤¹ã€‚æƒ³è¦æ”¹åˆ«äººçš„ä¸œè¥¿ï¼Œé‚£å°±å¯ä»¥forkä¸€ä¸‹ã€‚</p><p>ç„¶åå‘¢ï¼Œå¯ä»¥ä½¿ç”¨<code>pull request</code>æ‹‰å–è¯·æ±‚ï¼Œé€šè¿‡å®¡æŸ¥åï¼Œå°±èƒ½pushåˆ°å¯¹æ–¹çš„è¿œç¨‹åº“äº†ã€‚å¯¹æ–¹åœ¨å®¡æŸ¥åï¼Œå¯ä»¥Merge pull requestå¯¹ä»£ç è¿›è¡Œæ›´æ–°äº†ã€‚</p><p><strong>SSHå…å¯†ç™»å½•</strong></p><p>SSH(Secure Shell Protocol) æ˜¯ä¸€ç§åŠ å¯†è¿œç¨‹ä¼ è¾“åè®®ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ SSH key è¿›è¡Œå…å¯†ç™»å½•ã€‚</p><img src="/2023/02/02/%E3%80%90Git%E3%80%91%E5%B0%9A%E7%A1%85%E8%B0%B7Git/image-20230202215635870.png" alt="image-20230202215635870" style="zoom:50%;"><p>åˆ é™¤Windowè‡ªå¸¦çš„.sshæ–‡ä»¶ï¼Œæ‰“å¼€Git Bash</p><blockquote><p>$ ssh-keygen -t rsa -C <a href="mailto:651421775@qq.com">651421775@qq.com</a></p></blockquote><p>-t è¡¨ç¤ºåŠ å¯†åè®®, rsaæ˜¯è‘—åçš„éå¯¹ç§°åŠ å¯†åè®®</p><img src="/2023/02/02/%E3%80%90Git%E3%80%91%E5%B0%9A%E7%A1%85%E8%B0%B7Git/image-20230202215846874.png" alt="image-20230202215846874" style="zoom:50%;"><p>å›è½¦å³å¯ã€‚æ­¤æ—¶ä¼šç”Ÿæˆæ–°çš„.sshå¯†ä»¤ï¼Œ</p><img src="/2023/02/02/%E3%80%90Git%E3%80%91%E5%B0%9A%E7%A1%85%E8%B0%B7Git/image-20230202215914462.png" alt="image-20230202215914462" style="zoom:50%;"><p>ä¸€ä¸ªæ˜¯ç§é’¥ï¼Œä¸€ä¸ªæ˜¯å…¬é’¥ã€‚</p><p>æˆ‘ä»¬åœ¨./sshä¸‹å–å¾—å…¬é’¥ï¼š</p><img src="/2023/02/02/%E3%80%90Git%E3%80%91%E5%B0%9A%E7%A1%85%E8%B0%B7Git/image-20230202220029497.png" alt="image-20230202220029497" style="zoom:50%;"><p>å—¯ï¼Œåœ¨è¿™é‡Œæ·»åŠ å…¬é’¥ã€‚</p><img src="/2023/02/02/%E3%80%90Git%E3%80%91%E5%B0%9A%E7%A1%85%E8%B0%B7Git/image-20230202220204384.png" alt="image-20230202220204384" style="zoom:50%;"><p>ç°åœ¨å°±èƒ½ç”¨è´¦å·å…å¯†ç™»å½•äº†â€¦å¯ä»¥ç”¨SSHè¿æ¥è¿›è¡Œæ‹‰å–äº†ã€‚</p><hr><h1>Chapter 7.  PyCharmç¯å¢ƒé›†æˆGit</h1><hr><p>å½“æˆ‘ä»¬åœ¨<a href="https://git-scm.com/">å®˜ç½‘</a>ä¸‹è½½å¥½Gitåï¼ŒæŒ‰ç…§è¦æ±‚è¿›è¡Œå®‰è£…ï¼Œå°±å¯ä»¥é€šè¿‡å¿«æ·æ–¹å¼å¯¹æœ¬åœ°ä»“åº“è¿›è¡Œç‰ˆæœ¬æ§åˆ¶å•¦ã€‚ä½†æ˜¯è¿™ç§æ–¹å¼å¤„ç†æ•´ä¸ªå·¥ä½œç¯å¢ƒè¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†åœ¨PyCharmç¯å¢ƒä¸­é…ç½®Gitã€‚</p><h2 id="åŸºç¡€é…ç½®">åŸºç¡€é…ç½®</h2><p>åœ¨è®¾ç½®ä¸­ï¼Œé€‰æ‹©ç‰ˆæœ¬æ§åˆ¶(Version Control)ï¼Œé€‰æ‹©Git(ä¸€èˆ¬æ¥è¯´ï¼ŒGitæ­£å¸¸å®‰è£…åå°±å¯ä»¥åœ¨è¿™é‡Œæ˜¾ç¤ºæ’ä»¶)</p><img src="https://img-blog.csdnimg.cn/939486cb28054dd882efc8c684a0d3c8.png#pic_center" alt="image-20230203125354082" width="50%"><hr><img src="https://img-blog.csdnimg.cn/77f5106794744cc29e3849bc2d169744.png#pic_center" alt="image-20230203125354082" width="50%"><hr><p>æˆ‘ä»¬éœ€è¦æ‰¾åˆ°Gitçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¦‚æœä¸çŸ¥é“å®ƒåœ¨å“ªï¼Œå¯ä»¥æ‰“å¼€Git Bashï¼Œè¾“å…¥ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">where git</span><br></pre></td></tr></table></figure><img src="https://img-blog.csdnimg.cn/8b9a6716e5d443f9ac2f922e29f1e044.png#pic_center" alt="image-20230203125354082" width="50%"><hr><p>é€‰æ‹©æ–‡ä»¶çš„ä½ç½®å³å¯ã€‚</p><img src="https://img-blog.csdnimg.cn/5671b889a6d94608adc7f07d10a8635d.png#pic_center" alt="image-20230203125354082" width="50%"><hr><p>å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥æ·»åŠ GitHubè´¦å·æˆ–è€…Giteeè´¦å·ï¼ŒGiteeéœ€è¦å®‰è£…å¯¹åº”çš„Pluginã€‚</p><img src="https://img-blog.csdnimg.cn/8bdf35c1578a400daf6ac92dd680cc96.png#pic_center" alt="image-20230203125354082" width="50%"><hr><h2 id="ç®€å•ä½¿ç”¨">ç®€å•ä½¿ç”¨</h2><p>é€šè¿‡ä¸Šé¢çš„æ­¥éª¤ï¼Œæˆ‘ä»¬å·²ç»åœ¨PyCharmä¸­å®šä½äº†GItçš„è·¯å¾„ï¼Œä¸‹é¢æˆ‘ä»¬å°†åšä¸€äº›ç®€å•çš„ä½¿ç”¨æ“ä½œã€‚</p><h3 id="Step-1-åˆ›å»ºGitä»“åº“">Step 1. åˆ›å»ºGitä»“åº“</h3><p>åœ¨VCSé€‰é¡¹å¡ä¸­å¯ä»¥æ‰¾åˆ°ã€‚</p><img src="https://img-blog.csdnimg.cn/27f5c31a29a74a6f82b9edb2d13fb156.png#pic_center" alt="image-20230203125354082" width="50%"><hr><p>åˆ›å»ºä»“åº“åï¼Œä¸å‡ºæ„å¤–çš„è¯ï¼Œå½“å‰é¡¹ç›®ä¸‹çš„æ–‡ä»¶éƒ½ä¼šæ˜¯çº¢è‰²çš„ï¼Œä¹Ÿå°±æ˜¯modifyçŠ¶æ€ï¼Œæˆ‘ä»¬éœ€è¦å°†ä»–ä»¬æäº¤åˆ°æœ¬åœ°åº“ã€‚</p><img src="https://img-blog.csdnimg.cn/1f8984d8dd954384920f6fa03bb18225.png#pic_center" alt="image-20230203125354082" width="50%"><hr><p>æ­¤æ—¶æˆ‘ä»¬ä¼šå‘ç°ï¼ŒVCSé€‰é¡¹å¡æš‚æ—¶å˜æˆäº†Gité€‰é¡¹ã€‚åœ¨è¿™é‡Œå°±å¯ä»¥æ‰§è¡Œæˆ‘ä»¬çš„æ“ä½œå•¦ã€‚</p><h3 id="Step-2-æäº¤æœ¬åœ°åº“">Step 2. æäº¤æœ¬åœ°åº“</h3><p>ç›´æ¥é€‰æ‹©commitå³å¯</p><img src="https://img-blog.csdnimg.cn/969e4b9882fd428db4050fe10a00cb6d.png#pic_center" alt="image-20230203125354082" width="50%"><hr><p>åœ¨Commit Messageä¸­å¯ä»¥è¾“å…¥ç‰ˆæœ¬ä¿¡æ¯ï¼Œå»ºè®®è¯¦ç»†è¾“å…¥ã€‚</p><img src="https://img-blog.csdnimg.cn/9b5e09fd877948c2aa6d2bf49d98816a.png#pic_center" alt="image-20230203125354082" width="50%"><hr><h3 id="Step-3-åˆ›å»ºåˆ†æ”¯">Step 3. åˆ›å»ºåˆ†æ”¯</h3><p>æˆ‘ä»¬å¯ä»¥åœ¨Gité€‰é¡¹å¡ä¸­ï¼Œæˆ–æ˜¯å³ä¸‹è§’è¿›è¡Œåˆ†æ”¯åˆ›å»ºã€‚</p><img src="https://img-blog.csdnimg.cn/21d9fe2f9b9047398484f62396777010.png#pic_center" alt="image-20230203125354082" width="50%"><hr><p>æ­¤æ—¶å¯¹ä»£ç å†…å®¹è¿›è¡Œä¿®æ”¹ï¼Œå‘ç°ç»¿è‰²ä¾§è¾¹æ ï¼Œè¯´æ˜è¿™æ®µä»£ç ç›¸è¾ƒäºä¸Šä¸€ä¸ªç‰ˆæœ¬æ˜¯ä¿®æ”¹è¿‡çš„ã€‚</p><img src="https://img-blog.csdnimg.cn/721acd0886c44a27ae1e8c51dcbd3170.png#pic_center" alt="image-20230203125354082" width="50%"><hr><p>åœ¨å·¦ä¸‹è§’çš„Gité€‰é¡¹ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹å½“å‰çš„æ—¥å¿—ä¿¡æ¯ã€‚</p><p>æ­¤æ—¶åˆ›å»ºå‡ºäº†ä¸¤ä¸ªåˆ†æ”¯ï¼Œæ¯ä¸ªåˆ†æ”¯å¯¹åº”ä¸€ä¸ªæŒ‡é’ˆï¼Œé»„è‰²æŒ‡é’ˆè¡¨ç¤ºå½“å‰HEADæŒ‡é’ˆçš„ä½ç½®ã€‚</p><img src="https://img-blog.csdnimg.cn/b872c99f1f0e49508431e64d37d3b6aa.png#pic_center" alt="image-20230203125354082" width="50%"><hr><h3 id="Step-4-åˆ‡æ¢åˆ†æ”¯">Step 4. åˆ‡æ¢åˆ†æ”¯</h3><p>åªéœ€è¦é€‰æ‹©å¯¹åº”åˆ†æ”¯ï¼Œç„¶åç­¾å‡º(Checkout)å³å¯ã€‚</p><img src="https://img-blog.csdnimg.cn/7ebd759babcb4e22b3365ba320fb5e6d.png#pic_centerr" alt="image-20230203125354082" width="50%"><hr><p>å¦‚æœæ­¤æ—¶ä¸¤ä¸ªåˆ†æ”¯çš„å†…å®¹ä¸ä¸€è‡´ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨æ—¥å¿—ä¿¡æ¯ä¸­çœ‹åˆ°ï¼Œåˆ†æ”¯å‘ç”Ÿäº†æ–¹å‘ä¸åŒçš„ç”Ÿé•¿ã€‚</p><img src="https://img-blog.csdnimg.cn/7712fd6a96bf443fa7ccf02ffc4b98fb.png#pic_center" alt="image-20230203125354082" width="50%"><hr><h3 id="Step-5-åˆå¹¶åˆ†æ”¯">Step 5. åˆå¹¶åˆ†æ”¯</h3><p>åœ¨å½“å‰åˆ†æ”¯ä¸‹ï¼Œå¯ä»¥é€‰æ‹©åˆå¹¶å…¶ä»–åˆ†æ”¯ï¼Œæˆ–è€…æ˜¯å°†å½“å‰åˆ†æ”¯å˜åŸºåˆ°å…¶ä»–åˆ†æ”¯ã€‚</p><img src="https://img-blog.csdnimg.cn/7e08914cf6c94e3f8390ad0bb1576b31.png#pic_center" alt="image-20230203125354082" width="50%"><hr><p>å½“ä¸¤ä¸ªåˆ†æ”¯çš„å†…å®¹å‡ºç°å†²çªæ—¶ï¼Œå°±éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨ä¿®æ”¹ã€‚</p><img src="https://img-blog.csdnimg.cn/64bc75a8031247429839f5089ed2fb88.png#pic_center" alt="image-20230203125354082" width="50%"><hr><img src="https://img-blog.csdnimg.cn/27b94ce537d44fe9b5c2f8d43df5c98a.png#pic_center" alt="image-20230203125354082" width="50%"><hr><p>åˆå¹¶åï¼Œä¸¤ä¸ªåˆ†æ”¯èŠ‚ç‚¹åˆå›åˆ°äº†ä¸€ä¸ªã€‚</p><img src="https://img-blog.csdnimg.cn/49b7d1c298b94a4bae7ff4aa04f777e4.png#pic_center" alt="image-20230203125354082" width="50%"><hr><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥å›åˆ°ä¹‹å‰çš„ç‰ˆæœ¬ã€‚</p><img src="https://img-blog.csdnimg.cn/9ee158ede7b74a07bf3b345d38fb2b5b.png#pic_center" alt="image-20230203125354082" width="50%"><hr><h3 id="Step-6-Pushæœ¬åœ°åº“">Step 6. Pushæœ¬åœ°åº“</h3><p>è¿˜æ˜¯èœå•æ çš„Gité€‰é¡¹å¡ï¼Œé€‰æ‹©Pushï¼Œæ­¤æ—¶æˆ‘ä»¬éœ€è¦ä¸€ä¸ªè¿œç¨‹ä»“åº“ã€‚</p><img src="https://img-blog.csdnimg.cn/a5a7dd94460d4447b99c9f4596e32c2f.png#pic_center" alt="image-20230203125354082" width="50%"><hr><p>åœ¨GitHubã€Giteeã€GitLabç­‰è¿œç¨‹æ‰˜ç®¡ä¸­å¿ƒä¸‹åˆ›å»ºä¸€ä¸ªä»“åº“åï¼Œå¤åˆ¶HTTPSæˆ–æ˜¯SSHè¿æ¥ï¼Œä¸ºæˆ‘ä»¬å½“å‰æœ¬åœ°åº“çš„åˆ†æ”¯é€‰æ‹©ä¸€ä¸ªè¿œç¨‹åº“ã€‚</p><img src="https://img-blog.csdnimg.cn/f93a795c5cf148f9b6088c3d948b8d75.png#pic_center" alt="image-20230203125354082" width="50%"><hr><p>åˆ«åçš„è¯ä¸€èˆ¬ä¸å»ºè®®ä¿®æ”¹ï¼Œoriginå°±é˜”ä»¥äº†ã€‚</p><img src="https://img-blog.csdnimg.cn/7c6f685cc05f4a7c891882eb5beabde8.png#pic_center" alt="image-20230203125354082" width="50%"><hr><p>æˆåŠŸPushåï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ­¤æ—¶å¤šäº†ä¸€ä¸ªè¿œç¨‹åº“çš„æŒ‡é’ˆã€‚</p><img src="https://img-blog.csdnimg.cn/7ef671d09562402f8e5800dd34d67319.png#pic_center" alt="image-20230203125354082" width="50%"><hr><p>åœ¨è¿œç¨‹åº“ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½çœ‹åˆ°æœ¬åœ°åº“å·²ç»è¢«æ¨é€ä¸Šæ¥äº†ã€‚</p><img src="https://img-blog.csdnimg.cn/0c61989cce80405696c596c52060e2db.png#pic_center" alt="image-20230203125354082" width="50%"><hr><h3 id="Step-7-Pullè¿œç¨‹åº“">Step 7. Pullè¿œç¨‹åº“</h3><p>å¦‚æœè¿œç¨‹åº“å‘ç”Ÿäº†ç‰ˆæœ¬å˜åŒ–ï¼š</p><img src="https://img-blog.csdnimg.cn/2ea996bc812a4630931376c8aa813fbe.png#pic_center" alt="image-20230203125354082" width="50%"><hr><p>æˆ‘ä»¬å°±å¯ä»¥ç”¨Pullé€‰é¡¹æ‹‰å–æ–°çš„ç‰ˆæœ¬äº†ã€‚</p><img src="https://img-blog.csdnimg.cn/172d29b8c746412ba6fc4aa8d5993ba2.png#pic_center" alt="image-20230203125354082" width="50%"><hr><img src="https://img-blog.csdnimg.cn/d859c524ea1940ecace2795c428341ba.png#pic_center" alt="image-20230203125354082" width="50%"><hr><h3 id="Step-8-Cloneè¿œç¨‹åº“">Step 8. Cloneè¿œç¨‹åº“</h3><p>åœ¨æ–°å»ºé¡¹ç›®è¿™é‡Œï¼Œé€‰æ‹©ä»VCSè·å–ã€‚</p><img src="https://img-blog.csdnimg.cn/d34a5b8260bf43e389eddca10f400bc8.png#pic_center" alt="image-20230203125354082" width="50%"><hr><p>å¦‚æœä¹‹å‰æ·»åŠ äº†è¿œç¨‹æ‰˜ç®¡ä¸­å¿ƒçš„è´¦å·ï¼Œå°±å¯ä»¥ç›´æ¥Cloneè‡ªå·±çš„é¡¹ç›®å•¦ã€‚</p><img src="https://img-blog.csdnimg.cn/3121d93ad6364c3e94388d50e2e07ceb.png#pic_center" alt="image-20230203125354082" width="50%"><hr><p>Cloneåˆ«äººçš„é¡¹ç›®å°±éœ€è¦è¾“å…¥é“¾æ¥åœ°å€ã€‚</p><img src="https://img-blog.csdnimg.cn/e06db0a892c54a66ae850815f2f2c163.png#pic_center" alt="image-20230203125354082" width="50%"><hr><h1>Chapter 8. å¸¸è§å‘½ä»¤</h1><p><img src="/2023/02/02/%E3%80%90Git%E3%80%91%E5%B0%9A%E7%A1%85%E8%B0%B7Git/image-20230203125203152.png" alt="image-20230203125203152">é‚£ä¸ª ä½ </p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">Git</summary>
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="Git" scheme="http://example.com/tags/Git/"/>
    
    <category term="å¼€å‘å·¥å…·" scheme="http://example.com/tags/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
  </entry>
  
  <entry>
    <title>å…³é”®å¯¹è¯20è®²</title>
    <link href="http://example.com/2023/01/15/%E3%80%90%E5%85%B3%E9%94%AE%E5%AF%B9%E8%AF%9D20%E8%AE%B2%E3%80%91%E5%85%B3%E9%94%AE%E5%AF%B9%E8%AF%9D20%E8%AE%B2/"/>
    <id>http://example.com/2023/01/15/%E3%80%90%E5%85%B3%E9%94%AE%E5%AF%B9%E8%AF%9D20%E8%AE%B2%E3%80%91%E5%85%B3%E9%94%AE%E5%AF%B9%E8%AF%9D20%E8%AE%B2/</id>
    <published>2023-01-15T09:23:14.379Z</published>
    <updated>2023-01-22T09:26:17.984Z</updated>
    
    <content type="html"><![CDATA[<h1>Chapter 1.  åŸºç¡€ä½“ç³»ä¸æ ¸å¿ƒç†å¿µ</h1><h2 id="1-1-ã€ä½“ç³»ç¯‡ã€‘å¯¹è¯èƒ½åŠ›çš„ç»„æˆæ¨¡å—å’Œè¿›é˜¶è·¯å¾„">1.1  ã€ä½“ç³»ç¯‡ã€‘å¯¹è¯èƒ½åŠ›çš„ç»„æˆæ¨¡å—å’Œè¿›é˜¶è·¯å¾„</h2><p>ğŸŒŸ <strong>å…³é”®å¯¹è¯çš„ç›®æ ‡</strong></p><p>å…³é”®å¯¹è¯çš„ç›®æ ‡åœ¨äºã€åŒæ–¹äº’ç›¸ç¡®å®šéœ€æ±‚ï¼Œäº¤æ¢è°ƒæ•´å®ç°åˆ©ç›Šã€‘</p><p>åœ¨è¿›è¡Œå…³é”®å¯¹è¯å‰ï¼Œå¿…é¡»æ˜ç¡®è‡ªå·±çš„éœ€æ±‚ï¼Œäº†è§£å¯¹æ–¹çš„éœ€æ±‚ï¼Œè¿™æ ·æ‰æœ‰å¯èƒ½è¾¾åˆ°å…±èµ¢ã€‚</p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">æˆ‘çš„éœ€æ±‚</th><th style="text-align:center">å¯¹æ–¹éœ€æ±‚</th></tr></thead><tbody><tr><td style="text-align:center">å¿…é¡»è¾¾åˆ°çš„</td><td style="text-align:center"></td><td style="text-align:center"></td></tr><tr><td style="text-align:center">å¯ä»¥äº¤æ¢çš„</td><td style="text-align:center"></td><td style="text-align:center"></td></tr></tbody></table><p>ğŸŒŸ <strong>å…³é”®å¯¹è¯çš„èƒ½åŠ›</strong></p><p>1ï¸âƒ£ <strong>è¡¨è¾¾èƒ½åŠ›</strong></p><p>2ï¸âƒ£ <strong>æ€ç»´èƒ½åŠ›</strong></p><p>3ï¸âƒ£ <strong>è®¤çŸ¥èƒ½åŠ›</strong></p><p>4ï¸âƒ£ <strong>äº¤æ¢å’Œåˆ›é€ ä»·å€¼çš„èƒ½åŠ›</strong></p><p>5ï¸âƒ£ <strong>ç­–ç•¥è¿ç”¨èƒ½åŠ›</strong></p><p>6ï¸âƒ£ <strong>å¤–äº¤èƒ½åŠ›</strong></p><img src="/2023/01/15/%E3%80%90%E5%85%B3%E9%94%AE%E5%AF%B9%E8%AF%9D20%E8%AE%B2%E3%80%91%E5%85%B3%E9%94%AE%E5%AF%B9%E8%AF%9D20%E8%AE%B2/image-20230115181947191.png" alt="image-20230115181947191" style="zoom:50%;"><p>æé«˜å…³é”®å¯¹è¯çš„èƒ½åŠ›å…³é”®åœ¨äºï¼š</p><blockquote><p>çŸ¥è¯†ã€æ€åº¦ã€èƒ½åŠ›</p></blockquote><p>è·å–çŸ¥è¯†ï¼Œæ›´æ–°è®¤çŸ¥ï¼Œæ”¹å˜æ€åº¦ï¼Œå‹¤åŠ ç»ƒä¹ ï¼Œæå‡èƒ½åŠ›ã€‚</p><p>è€Œè¿™ä¸€åˆ‡çš„å…³é”®åœ¨äºç»ƒä¹ ï¼Œéœ€è¦æ­£ç¡®çš„é‡å¤ã€‚</p><hr><p><strong>è¯¾åä¹ é¢˜</strong></p><ul><li>ç”»ä¸€ä¸ªå…³é”®å¯¹è¯å…­è¾¹å½¢èƒ½åŠ›å›¾</li><li>è¯·æ€è€ƒä¸‹ï¼Œè¿˜æœ‰å“ªäº›æ˜¯ä½ éœ€è¦çš„èƒ½åŠ›ï¼Œæ˜¯åƒå…³é”®å¯¹è¯ä¸€æ ·çš„å¤åˆèƒ½åŠ›ã€‚</li></ul><img src="/2023/01/15/%E3%80%90%E5%85%B3%E9%94%AE%E5%AF%B9%E8%AF%9D20%E8%AE%B2%E3%80%91%E5%85%B3%E9%94%AE%E5%AF%B9%E8%AF%9D20%E8%AE%B2/image-20230115184042438.png" alt="image-20230115184042438" style="zoom:50%;"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">// Schema:</span><br><span class="line">// date,AQIindex,PM2<span class="number">.5</span>,PM10,CO,NO2,SO2</span><br><span class="line">const dataBJ = [</span><br><span class="line">  [<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">2</span>]</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">const lineStyle = &#123;</span><br><span class="line">  width: <span class="number">1</span>,</span><br><span class="line">  opacity: <span class="number">0.5</span></span><br><span class="line">&#125;;</span><br><span class="line">option = &#123;</span><br><span class="line">  backgroundColor: <span class="string">&#x27;#161627&#x27;</span>,</span><br><span class="line">  title: &#123;</span><br><span class="line">    text: <span class="string">&#x27;å…³é”®å¯¹è¯èƒ½åŠ›&#x27;</span>,</span><br><span class="line">    left: <span class="string">&#x27;center&#x27;</span>,</span><br><span class="line">    textStyle: &#123;</span><br><span class="line">      color: <span class="string">&#x27;#eee&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  legend: &#123;</span><br><span class="line">    bottom: <span class="number">5</span>,</span><br><span class="line">    data: [<span class="string">&#x27;å…³é”®å¯¹è¯èƒ½åŠ›&#x27;</span>,],</span><br><span class="line">    itemGap: <span class="number">20</span>,</span><br><span class="line">    textStyle: &#123;</span><br><span class="line">      color: <span class="string">&#x27;#fff&#x27;</span>,</span><br><span class="line">      fontSize: <span class="number">14</span></span><br><span class="line">    &#125;,</span><br><span class="line">    selectedMode: <span class="string">&#x27;single&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  radar: &#123;</span><br><span class="line">    indicator: [</span><br><span class="line">      &#123; name: <span class="string">&#x27;è¡¨è¾¾èƒ½åŠ›&#x27;</span>, <span class="built_in">max</span>: <span class="number">10</span> &#125;,</span><br><span class="line">      &#123; name: <span class="string">&#x27;æ€ç»´èƒ½åŠ›&#x27;</span>, <span class="built_in">max</span>: <span class="number">10</span> &#125;,</span><br><span class="line">      &#123; name: <span class="string">&#x27;è®¤çŸ¥èƒ½åŠ›&#x27;</span>, <span class="built_in">max</span>: <span class="number">10</span> &#125;,</span><br><span class="line">      &#123; name: <span class="string">&#x27;äº¤æ¢å’Œåˆ›é€ ä»·å€¼èƒ½åŠ›&#x27;</span>, <span class="built_in">max</span>: <span class="number">10</span> &#125;,</span><br><span class="line">      &#123; name: <span class="string">&#x27;ç­–ç•¥åº”ç”¨èƒ½åŠ›&#x27;</span>, <span class="built_in">max</span>: <span class="number">10</span> &#125;,</span><br><span class="line">      &#123; name: <span class="string">&#x27;å¤–äº¤èƒ½åŠ›&#x27;</span>, <span class="built_in">max</span>: <span class="number">10</span> &#125;</span><br><span class="line">    ],</span><br><span class="line">    shape: <span class="string">&#x27;circle&#x27;</span>,</span><br><span class="line">    splitNumber: <span class="number">5</span>,</span><br><span class="line">    axisName: &#123;</span><br><span class="line">      color: <span class="string">&#x27;rgb(238, 197, 102)&#x27;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    splitLine: &#123;</span><br><span class="line">      lineStyle: &#123;</span><br><span class="line">        color: [</span><br><span class="line">          <span class="string">&#x27;rgba(238, 197, 102, 0.1)&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;rgba(238, 197, 102, 0.2)&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;rgba(238, 197, 102, 0.4)&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;rgba(238, 197, 102, 0.6)&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;rgba(238, 197, 102, 0.8)&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;rgba(238, 197, 102, 1)&#x27;</span></span><br><span class="line">        ].reverse()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    splitArea: &#123;</span><br><span class="line">      show: false</span><br><span class="line">    &#125;,</span><br><span class="line">    axisLine: &#123;</span><br><span class="line">      lineStyle: &#123;</span><br><span class="line">        color: <span class="string">&#x27;rgba(238, 197, 102, 0.5)&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  series: [</span><br><span class="line">    &#123;</span><br><span class="line">      name: <span class="string">&#x27;å…³é”®å¯¹è¯èƒ½åŠ›&#x27;</span>,</span><br><span class="line">      <span class="built_in">type</span>: <span class="string">&#x27;radar&#x27;</span>,</span><br><span class="line">      lineStyle: lineStyle,</span><br><span class="line">      data: dataBJ,</span><br><span class="line">      symbol: <span class="string">&#x27;none&#x27;</span>,</span><br><span class="line">      itemStyle: &#123;</span><br><span class="line">        color: <span class="string">&#x27;#F9713C&#x27;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      areaStyle: &#123;</span><br><span class="line">        opacity: <span class="number">0.1</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>å…³äºå…¶ä»–çš„èƒ½åŠ›ï¼š</p><ul><li>æˆ‘æƒ³ï¼Œåœ¨å¯¹è¯ä¸­ä¿æŒä¸“æ³¨ã€æŠ“ä½ç»†èŠ‚å¹¶ç»™äºˆä¸€å®šçš„åé¦ˆæ˜¯ååˆ†å¿…è¦çš„ï¼Œå› è€Œä¸“æ³¨åŠ›ã€æ•æ„ŸåŠ›ä¹Ÿæ˜¯éœ€è¦è¿›è¡Œè®­ç»ƒçš„ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒçŸ¥è¯†çš„ç§¯ç´¯é‡ä¹Ÿèƒ½æˆä¸ºåšå¼ˆä¸­çš„èƒœè´Ÿæ‰‹ã€‚</li></ul><hr><h2 id="1-2-ã€æ ¸å¿ƒç†å¿µã€‘åˆ«è®©ç«‹åœºæ©ç›–äº†åˆ©ç›Š">1.2  ã€æ ¸å¿ƒç†å¿µã€‘åˆ«è®©ç«‹åœºæ©ç›–äº†åˆ©ç›Š</h2><p>å¦‚ä½•å‰¥å¼€ç«‹åœºçœ‹åˆ©ç›Šï¼Ÿ</p><p>é€šè¿‡æ¢æ±‚çš„å£å»ä¸æƒ³è§£å†³é—®é¢˜çš„è¯­æ°”æ¥é—®é—®é¢˜ï¼Œåé—®ä¸è´¨é—®éƒ½æ˜¯ä¸å¯å–çš„ã€‚</p><p><strong>ã€æ¨¡å‹ã€‘</strong></p><img src="/2023/01/15/%E3%80%90%E5%85%B3%E9%94%AE%E5%AF%B9%E8%AF%9D20%E8%AE%B2%E3%80%91%E5%85%B3%E9%94%AE%E5%AF%B9%E8%AF%9D20%E8%AE%B2/image-20230116194720737.png" alt="image-20230116194720737" style="zoom:50%;"><p><strong>ã€ç¬¬ä¸€åŸåˆ™ã€‘</strong></p><p>æˆ‘ä»¬çš„å…³æ³¨åº”è¯¥åœ¨<strong>åˆ©ç›Š</strong>ï¼Œè€Œä¸æ˜¯<strong>ç«‹åœº</strong>ã€‚</p><p><strong>ã€ç¬¬äºŒåŸåˆ™ã€‘</strong></p><p>å§‹ç»ˆåšæŒ<strong>å…±åŒåˆ©ç›Š</strong>ã€‚åªè¦æ˜¯åœ¨å¯¹è¯ä¸­çš„åŒæ–¹ï¼Œæ°¸è¿œéƒ½æœ‰å…±åŒåˆ©ç›Šã€‚</p><p>é¿å…æŸå¤±ï¼Œä¹Ÿæ˜¯å…±åŒåˆ©ç›Šã€‚</p><p>é‚£ä¹ˆè¦å¦‚ä½•å¯»æ‰¾å…±åŒåˆ©ç›Šï¼Ÿå¯ä»¥é‡‡ç”¨<strong>é€†å‘æ€ç»´</strong>ã€<strong>é•¿æœŸä¸»ä¹‰æ€ç»´</strong></p><p>æƒ…ç»ªå’Œè‡ªæˆ‘æ„Ÿå—å¾€å¾€ä¼šè®©äººéš¾ä»¥èµ°å‡ºç«‹åœºï¼Œçœ‹åˆ°åˆ©ç›Šã€‚ä¸æ˜¯ä¸å¯ä»¥æœ‰æƒ…ç»ªï¼Œè€Œæ˜¯éœ€è¦å­¦ä¼šä¸è¢«æƒ…ç»ªæ‰€é©¾é©­ã€‚</p><img src="/2023/01/15/%E3%80%90%E5%85%B3%E9%94%AE%E5%AF%B9%E8%AF%9D20%E8%AE%B2%E3%80%91%E5%85%B3%E9%94%AE%E5%AF%B9%E8%AF%9D20%E8%AE%B2/image-20230116200629816.png" alt="image-20230116200629816" style="zoom:50%;"><hr><p><strong>è¯¾åæ€è€ƒé¢˜</strong></p><img src="/2023/01/15/%E3%80%90%E5%85%B3%E9%94%AE%E5%AF%B9%E8%AF%9D20%E8%AE%B2%E3%80%91%E5%85%B3%E9%94%AE%E5%AF%B9%E8%AF%9D20%E8%AE%B2/image-20230116201105332.png" alt="image-20230116201105332" style="zoom:50%;"><hr><h1>Chapter 2. å…³é”®å¯¹è¯ï¼šæŠ€èƒ½å’Œä¸ºæ€ç»´æ¨¡å‹</h1><h2 id="2-1-è¡¨è¾¾èƒ½åŠ›ï¼šâ€œä¼šè¯´â€çš„å…³é”®åœ¨äºâ€œä¼šå¬â€">2.1  è¡¨è¾¾èƒ½åŠ›ï¼šâ€œä¼šè¯´â€çš„å…³é”®åœ¨äºâ€œä¼šå¬â€</h2><p>é¦–å…ˆéœ€è¦æ˜ç¡®å¯¹è¯åŒæ–¹çš„<strong>å…³ç³»</strong>ï¼Œè°ˆè¯æ˜¯ã€å½“ä¸‹ã€‘åœºåˆçš„è‰ºæœ¯ã€‚</p><p>åœ¨ä¸åŒæ—¶ç©ºã€ä¸åŒå…³ç³»ä¸‹çš„å¯¹è¯ï¼Œå¾€å¾€æœ‰ç€ä¸åŒçš„å«ä¹‰ã€‚æˆ‘ä»¬éœ€è¦å­¦ä¼šåœ¨å…³ç³»é‡Œã€å¬éœ€æ±‚ã€‘ã€‚</p><p>è¡¨è¾¾å¯ä»¥åˆ†æˆä¸‰å¯¹æ¦‚å¿µï¼š</p><ul><li>è§‚å¯Ÿå’Œäº‹å®</li><li>æ„Ÿå—å’Œåˆ¤æ–­</li><li>è¯·æ±‚å’Œè¦æ±‚</li></ul><p>1ï¸âƒ£ <strong>è§‚å¯Ÿå’Œäº‹å®</strong></p><ul><li>è§‚å¯Ÿæ˜¯è§‚å¯Ÿè€…æ‰€è®¤ä¸ºçš„äº‹å®ï¼Œä¸åŒçš„äººå¯èƒ½ä¼šçœ‹åˆ°ä¸åŒçš„äº‹å®ã€‚å¯¹äºæŸä»¶äº‹æƒ…ï¼Œåœ¨ä¸åŒçš„è§‚æµ‹è§’åº¦ä¸‹ï¼Œä¼šäº§ç”Ÿä¸åŒçš„äº‹å®ã€‚ã€çœŸåƒã€‘åªèƒ½æ¥è¿‘ï¼Œè€Œæ— æ³•è¾¾åˆ°ã€‚</li><li>åˆ‡å¿Œï¼Œä¸èƒ½å°†è‡ªå·±çš„è§‚å¯Ÿå½“åšæ‰€æœ‰äººçš„è§‚å¯Ÿã€‚</li></ul><p>2ï¸âƒ£ <strong>æ„Ÿå—å’Œåˆ¤æ–­</strong></p><ul><li>ã€æ„Ÿå—ã€‘æ˜¯å‘è‡ªå†…å¿ƒçš„</li><li>ã€åˆ¤æ–­ã€‘æ˜¯å¯¹äº‹ä»¶ã€ä¸‹ç»“è®ºã€‘</li></ul><img src="/2023/01/15/%E3%80%90%E5%85%B3%E9%94%AE%E5%AF%B9%E8%AF%9D20%E8%AE%B2%E3%80%91%E5%85%B3%E9%94%AE%E5%AF%B9%E8%AF%9D20%E8%AE%B2/image-20230117195850229.png" alt="image-20230117195850229" style="zoom:50%;"><p>ä¸€èˆ¬æ¥è¯´ï¼Œã€è§‚å¯Ÿã€‘+ã€æ„Ÿå—ã€‘æ˜¯ä¸€ä¸ªå¥½çš„è¡¨è¾¾æ–¹å¼ï¼Œä¸‹åˆ¤æ–­æ˜¯å¼•èµ·äº‰è®ºçš„é‡è¦åŸå› ã€‚</p><p>åˆ¤æ–­æœ‰ä¸‰ç§ä¸»è¦å½¢å¼ï¼š</p><ul><li>è¯„ä»·<ul><li>å¯¹äºä»–äººã€ä»–äº‹ä½¿ç”¨çš„æè¿°æ€§è¯­è¨€</li></ul></li><li>æ¯”è¾ƒ<ul><li>ä»¤äººä¸å¿«çš„æ–¹å¼ï¼Œå°½é‡å°‘ç”¨ã€ä¸çŸ¥é“å¯¹æ–¹å¿ƒä¸­å¦‚ä½•æƒ³çš„ã€‘</li></ul></li><li>å½’è´£<ul><li>å°†äº‹æƒ…çš„è´£ä»»å¼•å¯¼åˆ°åˆ«çš„åœ°æ–¹</li></ul></li></ul><p>3ï¸âƒ£ <strong>è¯·æ±‚å’Œè¦æ±‚</strong></p><ul><li>äº’ç›¸æœ‰äº†è¯·æ±‚ï¼Œå¼€å§‹ç”¨åˆ©ç›Šäº¤æ¢æ»¡è¶³äº’ç›¸éœ€è¦çš„å®é™…æ“ä½œè¿‡ç¨‹ã€‚</li></ul><p>æå‡ºè¯·æ±‚çš„åŸåˆ™ï¼š</p><ul><li>è¯·æ±‚è¦å…·ä½“</li><li>è¯·æ±‚æ²¡æœ‰æ»¡è¶³ï¼Œä¸èƒ½æƒ©ç½š</li></ul><p>è¦æ±‚æ˜¯æ˜¯åœ¨è¯·æ±‚åç»™å‡ºäº†æƒ©ç½šï¼Œå“ªæ€•æ˜¯è´Ÿé¢è¯„ä»·ã€‚</p><hr><p><strong>åº”ç”¨æ¨¡å‹</strong></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>æè¿°ä½ çš„è§‚å¯Ÿ</mtext><mo>+</mo><mtext>è¡¨è¾¾ä½ çš„æ„Ÿå—</mtext><mo>+</mo><mtext>æå‡ºä½ çš„è¯·æ±‚</mtext></mrow><annotation encoding="application/x-tex">æè¿°ä½ çš„è§‚å¯Ÿ+è¡¨è¾¾ä½ çš„æ„Ÿå—+æå‡ºä½ çš„è¯·æ±‚</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord cjk_fallback">æè¿°ä½ çš„è§‚å¯Ÿ</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord cjk_fallback">è¡¨è¾¾ä½ çš„æ„Ÿå—</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">æå‡ºä½ çš„è¯·æ±‚</span></span></span></span></span></p><img src="/2023/01/15/%E3%80%90%E5%85%B3%E9%94%AE%E5%AF%B9%E8%AF%9D20%E8%AE%B2%E3%80%91%E5%85%B3%E9%94%AE%E5%AF%B9%E8%AF%9D20%E8%AE%B2/image-20230117200656220.png" alt="image-20230117200656220" style="zoom:50%;"><p>è¿‡äºå¼ºè°ƒä¸»è§‚ã€äº‹å®ã€åˆ¤æ–­ï¼Œè¿™æ˜¯ä»ç«‹åœºå‡ºå‘ï¼Œè¿åäº†æˆ‘ä»¬æœ€åˆçš„åŸåˆ™ï¼šè°ˆã€åˆ©ç›Šã€‘ä¸è°ˆã€ç«‹åœºã€‘ã€‚</p><p>å¦‚æœå¯¹æ–¹çš„è¡¨è¾¾å¸¦æœ‰æ¯”è¾ƒå¼ºçƒˆçš„äº‹å®å’Œåˆ¤æ–­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æé—®å’Œå€¾å¬çš„æ–¹å¼äº†è§£éœ€æ±‚ï¼Œè¿™æ ·æ‰èƒ½çœŸæ­£è§£å†³é—®é¢˜ã€‚</p><p><strong>ä¸¾ä¸ªæ —å­</strong><br>é˜¿ä¼Ÿæ˜¨å¤©åˆé€šå®µæ‰“æ¸¸æˆäº†ï¼Œä½ ä½œä¸ºé˜¿å©†æƒ³è¦åŠåŠä»–ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;é˜¿ä¼Ÿï¼Œä½ åˆé€šå®µæ‰“ç”µåŠ¨å“¦ï¼Œè¿™æ ·å¯¹èº«ä½“ä¸å¥½ï¼Œèµ¶ç´§å…³äº†&quot;</span></span><br><span class="line"><span class="string">&quot;è±ï¼Œæ­»äº†å•¦ï¼Œéƒ½æ˜¯ä½ å®³çš„&quot;</span></span><br></pre></td></tr></table></figure><p>é˜¿å©†è¯´çš„è¯æ˜¯å¸¦æœ‰æ˜æ˜¾çš„åˆ¤æ–­å’Œè¦æ±‚çš„ï¼Œå¹¶ä¸æ˜¯ä¸€ç§å¥½çš„å¯¹è¯ã€‚æˆ‘ä»¬å¯ä»¥æ”¹æˆè¿™æ ·è¯´ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;é˜¿ä¼Ÿï¼Œæˆ‘çœ‹ä½ ç¥è‰²ä¸å¤ªå¥½ï¼Œæ˜¯ä¸æ˜¯æ˜¨å¤©ç©çš„å¤ªæ™šå•¦ï¼Ÿæˆ‘ä»¬å¯ä»¥ç™½å¤©æ‰“æ¸¸æˆå˜›&quot;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœé˜¿ä¼Ÿåˆæ˜¯å¸¦æœ‰å¼ºçƒˆä¸»è§‚åˆ¤æ–­çš„å›ç­”ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é—®é—®é¢˜çš„æ–¹å¼ï¼Œå°è¯•æŒ–æ˜å‡ºæ½œåœ¨çš„åŸå› (éœ€æ±‚)ï¼Œä»è€Œè§£å†³é—®é¢˜ã€‚</p><hr><p><strong>è¯¾åç»ƒä¹ </strong></p><p><img src="/2023/01/15/%E3%80%90%E5%85%B3%E9%94%AE%E5%AF%B9%E8%AF%9D20%E8%AE%B2%E3%80%91%E5%85%B3%E9%94%AE%E5%AF%B9%E8%AF%9D20%E8%AE%B2/image-20230117202728911.png" alt="image-20230117202728911"></p><ul><li>A. æ‚¨å¥½ï¼Œè¿™å‡ å¤©æˆ‘çœ‹æ‚¨æ¯å¤©éƒ½å¾ˆæ—©èµ·æ¥å·¥ä½œï¼Œç°åœ¨çš„è¿›åº¦æ€ä¹ˆæ ·å•¦ï¼Ÿå› ä¸ºæˆ‘æ—©ä¸Šèµ·çš„æ¯”è¾ƒæ™šï¼Œæ‚¨çš„æ–½å·¥æ—¶é—´ä¼šå½±å“åˆ°æˆ‘çš„ç¡çœ ï¼Œå¯ä»¥ç¨å¾®æ™šä¸€ç‚¹å—ï¼Ÿ</li><li>B. å…³ä½ ä»€ä¹ˆäº‹ã€‚æˆ‘å•¥æ—¶å€™æ–½å·¥æ˜¯æˆ‘çš„æƒåˆ©ï¼Œä½ è‡ªå·±ä¸èƒ½æ—©ç‚¹èµ·ï¼Ÿ</li><li>A. æ²¡äº‹æ²¡äº‹ï¼Œæˆ‘å°±æ˜¯é¡ºå£ä¸€æï¼Œæ‚¨æ˜¯åœ¨èµ¶å·¥ç¨‹å—ï¼Ÿè¿˜æ˜¯æ™šé—´æœ‰åˆ«çš„äº‹æƒ…è¦åšï¼Ÿ</li><li>B. å“¼ï¼Œå¹´å…³å°†è¿‘ï¼Œæˆ‘åšä¸å®Œä½ æ¥å¸®æˆ‘ï¼Ÿ</li><li>A. å•Šï¼Œå¯ä»¥ç†è§£çš„ã€‚æˆ‘è§‰å¾—æ‚¨è¦æ˜¯åœ¨å›½å®¶è§„å®šçš„æ—¶é—´æ®µå†…æ–½å·¥ï¼Œæˆ‘ä»¬é‚»é‡Œéƒ½éå¸¸ä¹æ„å¸®åŠ©æ‚¨çš„ï¼Œåˆ«çš„æ—¶é—´æ®µå¯èƒ½ä¼šè®©é‚»å±…ä»¬ä¸æ»¡å“¦</li><li>B. ä½ æ˜¯åœ¨å¨èƒæˆ‘ï¼Ÿè€å­åšäº‹è¿˜è¦ä½ æ•™ï¼Ÿ</li><li>A. ä¿—è¯è¯´è¿œäº²ä¸å¦‚è¿‘é‚»å˜›ï¼Œéƒ½æ˜¯é‚»é‡Œï¼Œå¹³æ—¶æœ‰æ—¶è¿˜èƒ½å¸®è¡¬å¸®è¡¬ï¼Œå’±å¹³å¸¸äº’ç›¸å…³ç…§ä¸‹å˜›ï¼Œå¤§å®¶éƒ½æœ‰éš¾å¤„ï¼Œèƒ½åœ¨ç§ä¸‹è§£å†³æ˜¯æœ€å¥½ä¸è¿‡äº†</li><li>B. å¬ä½ çš„æ„æ€ï¼Œè¿˜æƒ³å‘Šæˆ‘å•Šï¼Ÿå»å‘Šå•Šï¼Ÿ</li></ul><p>å¦‚ä½•æ‹œå¹´å¼•èµ·çš„æ€è€ƒ</p><p>æ€»ç»“ä¸€ä¸ªå¯¹è¯çš„æ¨¡å‹ï¼š</p><p>å› ä¸ºæ˜¯ååˆ†å®¢å¥—çš„å¯¹è¯ï¼Œå¹¶æ²¡æœ‰çœŸæ­£çš„åˆ©ç›Šå’Œç«‹åœºç‰µæ‰¯ï¼Œæ‰€ä»¥ä¸‹é¢è¿™ä¸ªæ¨¡å‹å°±å«åšåºŸè¯æ¨¡å‹ã€‚</p><p>1ï¸âƒ£ è¯¢é—®è¿‘å†µï¼šåšä»€ä¹ˆï¼Œåƒäº†å—ï¼Œèº«ä½“æ€ä¹ˆæ ·ï¼Œæœ‰ä»€ä¹ˆéœ€æ±‚ï¼Œéœ€è¦ä»€ä¹ˆå¸®åŠ©</p><p>2ï¸âƒ£ è¡¨æ˜æ¥æ„ï¼šå¯ä»¥æ˜¯æ–°å¹´å¿«ä¹ï¼Œç¥æ‚¨èº«ä½“å¥åº·ï¼Œä¸‡äº‹å¦‚æ„</p><p>3ï¸âƒ£ å©‰è½¬é€€åœºï¼šå¯ä»¥æ˜¯è¿˜æœ‰ç‚¹äº‹ï¼Œå¯ä»¥æ˜¯çº¦ä¸ªæ—¶é—´èšä¸€ä¸‹ï¼Œå¯ä»¥æ˜¯æ‰¾æœºä¼šæ¢æœ›</p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">æ•™ä½ æ€ä¹ˆè¯´è¯</summary>
    
    
    
    <category term="æ¢¦æ—¶é£æœˆ" scheme="http://example.com/categories/%E6%A2%A6%E6%97%B6%E9%A3%8E%E6%9C%88/"/>
    
    
    <category term="æ—¥å¸¸" scheme="http://example.com/tags/%E6%97%A5%E5%B8%B8/"/>
    
  </entry>
  
  <entry>
    <title></title>
    <link href="http://example.com/2022/12/28/%E3%80%90%E8%8B%B1%E8%AF%AD%E3%80%91%E5%88%98%E5%BD%AC%E5%8D%95%E8%AF%8D%E9%80%9F%E8%AE%B0/"/>
    <id>http://example.com/2022/12/28/%E3%80%90%E8%8B%B1%E8%AF%AD%E3%80%91%E5%88%98%E5%BD%AC%E5%8D%95%E8%AF%8D%E9%80%9F%E8%AE%B0/</id>
    <published>2022-12-28T11:12:03.332Z</published>
    <updated>2022-12-29T16:41:39.372Z</updated>
    
    <content type="html"><![CDATA[<h1>åˆ˜å½¬å•è¯é€Ÿè®°</h1><hr><h2 id="Chapter-1">Chapter 1.</h2><h3 id="è¯æ ¹">è¯æ ¹</h3><table><thead><tr><th style="text-align:center">è¯æ ¹</th><th style="text-align:center">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center">-cess</td><td style="text-align:center">to go èµ°</td></tr><tr><td style="text-align:center">-ceed</td><td style="text-align:center">to go èµ°</td></tr><tr><td style="text-align:center">-cede</td><td style="text-align:center">to go èµ°</td></tr><tr><td style="text-align:center">-gress</td><td style="text-align:center">to go èµ°</td></tr><tr><td style="text-align:center">-grad</td><td style="text-align:center">to go èµ°</td></tr><tr><td style="text-align:center">-gred</td><td style="text-align:center">to go èµ°</td></tr></tbody></table><h3 id="å‰ç¼€">å‰ç¼€</h3><table><thead><tr><th style="text-align:center">å‰ç¼€</th><th style="text-align:center">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center">pro-</td><td style="text-align:center">(åŠ¨æ€çš„)forwardï¼Œå‘å‰</td></tr><tr><td style="text-align:center">pre-</td><td style="text-align:center">ï¼ˆé™æ€çš„)å‘å‰</td></tr><tr><td style="text-align:center">under-</td><td style="text-align:center">ä¸‹é¢ï¼Œä¸‹</td></tr><tr><td style="text-align:center">in-</td><td style="text-align:center">è¿›å…¥</td></tr><tr><td style="text-align:center">a-</td><td style="text-align:center">å¼ºè°ƒï¼ŒåŠ å¼º</td></tr><tr><td style="text-align:center">a+è¾…éŸ³-</td><td style="text-align:center">å¼ºè°ƒï¼ŒåŠ å¼º</td></tr><tr><td style="text-align:center">un-</td><td style="text-align:center">å¦å®š</td></tr><tr><td style="text-align:center">re-</td><td style="text-align:center">(1). ç›¸å (2).è¿”å›  (3).åå¤</td></tr><tr><td style="text-align:center">e-</td><td style="text-align:center">(1). å‘å¤–</td></tr><tr><td style="text-align:center">ex-</td><td style="text-align:center">(2). å‡ºï¼Œè¶…å‡º</td></tr><tr><td style="text-align:center">es-</td><td style="text-align:center">â€”</td></tr><tr><td style="text-align:center">ac-</td><td style="text-align:center">æœâ€¦èµ° å¼ºè°ƒ</td></tr></tbody></table><h3 id="åç¼€">åç¼€</h3><table><thead><tr><th style="text-align:center">åç¼€</th><th style="text-align:center">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center">-or</td><td style="text-align:center">éƒ½æ˜¯å…ƒéŸ³+<code>r</code>ï¼Œç»“æœç›¸åŒã€‚è¡¨ç¤ºï¼š(1). åè¯ï¼šäººï¼Œæœº</td></tr><tr><td style="text-align:center">-er</td><td style="text-align:center">(2). å½¢å®¹è¯ï¼šâ€¦çš„</td></tr><tr><td style="text-align:center">-ar</td><td style="text-align:center">(3). æå°‘æ•°: åŠ¨è¯</td></tr><tr><td style="text-align:center">-ur</td><td style="text-align:center">â€”</td></tr><tr><td style="text-align:center">-ion</td><td style="text-align:center">åè¯æ€§åç¼€</td></tr><tr><td style="text-align:center">-ate</td><td style="text-align:center">(1). åŠ¨è¯ï¼šä½¿å¾—</td></tr><tr><td style="text-align:center">-ite</td><td style="text-align:center">(2). å½¢å®¹è¯</td></tr><tr><td style="text-align:center">-ute</td><td style="text-align:center">(3). å°‘æ•°ï¼š åè¯</td></tr><tr><td style="text-align:center">-ive</td><td style="text-align:center">(1).å½¢å®¹è¯æ€§åç¼€  è¡¨ç¤ºå¤š (2). åè¯ï¼šäººï¼Œç‰©</td></tr><tr><td style="text-align:center">-ent</td><td style="text-align:center">(1). åè¯ï¼šäººï¼Œç‰©</td></tr><tr><td style="text-align:center">-ant</td><td style="text-align:center">(2). å½¢å®¹è¯</td></tr><tr><td style="text-align:center">-ed</td><td style="text-align:center">å½¢å®¹è¯æ€§</td></tr><tr><td style="text-align:center">-ence</td><td style="text-align:center">åè¯æ€§åç¼€</td></tr><tr><td style="text-align:center">-ance</td><td style="text-align:center">â€”</td></tr><tr><td style="text-align:center">-ancy</td><td style="text-align:center">â€”</td></tr><tr><td style="text-align:center">-ency</td><td style="text-align:center">â€”</td></tr><tr><td style="text-align:center">-ible</td><td style="text-align:center">å¯ä»¥â€¦çš„</td></tr><tr><td style="text-align:center">-ory</td><td style="text-align:center">åè¯æ€§</td></tr></tbody></table><h3 id="è¿æ¥ç¬¦å·">è¿æ¥ç¬¦å·</h3><table><thead><tr><th style="text-align:center">è¿æ¥ç¬¦å·</th><th style="text-align:center">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center">-u</td><td style="text-align:center">ç”¨æ¥è¿æ¥å‰ç¼€å’Œåç¼€çš„</td></tr><tr><td style="text-align:center">-ul</td><td style="text-align:center">â€“</td></tr><tr><td style="text-align:center">-ol</td><td style="text-align:center">â€“</td></tr><tr><td style="text-align:center">-o</td><td style="text-align:center">â€“</td></tr></tbody></table><h3 id="å•è¯">å•è¯</h3><table><thead><tr><th style="text-align:center">å•è¯</th><th style="text-align:center">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center"><strong>process</strong></td><td style="text-align:center"><strong>è¿›ç¨‹ï¼Œè¿‡ç¨‹ï¼›åŠ å·¥ï¼Œå¤„ç†</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">pro(å‘å‰)+cess(èµ°)<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> å·¥å‚æœºå™¨åŠ å·¥å¤„ç†çŸ¿æ³‰æ°´ç“¶</td></tr><tr><td style="text-align:center"><strong>processor</strong></td><td style="text-align:center"><strong>å¤„ç†å™¨</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">å¤šäº†ä¸ªåç¼€æ</td></tr><tr><td style="text-align:center"><strong>procession</strong></td><td style="text-align:center"><strong>é˜Ÿåˆ—ï¼Œè¡Œåˆ—ï¼Œä¸€åˆ—ï¼Œä¸€æ’</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center"><code>ion</code>åç¼€ï¼Œè¡¨ç¤ºåè¯ï¼Œä¸€å †æµç¨‹å †åœ¨é˜Ÿåˆ—é‡Œäº†</td></tr><tr><td style="text-align:center"><strong>graduate</strong></td><td style="text-align:center"><strong>æ¯•ä¸šï¼›æœ¬ç§‘æ¯•ä¸šç”Ÿ</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">grad(å‰ç¼€ï¼Œèµ°)+u(è¿æ¥)+ate(åè¯åç¼€)</td></tr><tr><td style="text-align:center"><strong>undergraduate</strong></td><td style="text-align:center"><strong>æœªæ¯•ä¸š</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">under(ä¸‹é¢ï¼Œæœªè¾¾åˆ°)+graduate</td></tr><tr><td style="text-align:center"><strong>ingredient</strong></td><td style="text-align:center"><strong>æˆåˆ†ï¼ŒåŸæ–™ï¼Œè¦ç´ </strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">in(è¿›å…¥)+gredi(èµ°)+ent(åè¯åç¼€)</td></tr><tr><td style="text-align:center"><strong>aggress</strong></td><td style="text-align:center"><strong>ä¾µç•¥</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">ag(å¼ºè°ƒ)+gress(èµ°)<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> æ³•è¥¿æ–¯æ‹¿ç€æªå‹ç€çŠ¹å¤ªäºº</td></tr><tr><td style="text-align:center"><strong>aggressive</strong></td><td style="text-align:center"><strong>ä¾µç•¥æ€§çš„ï¼Œæ¿€è¿›çš„</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">aggress+ive(å½¢å®¹è¯æ€§)</td></tr><tr><td style="text-align:center"><strong>aggression</strong></td><td style="text-align:center"><strong>ä¾µç•¥</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">aggress+ion(åè¯æ€§)</td></tr><tr><td style="text-align:center"><strong>progress</strong></td><td style="text-align:center"><strong>å‰è¿›ï¼Œè¿›æ­¥</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">æ³¨æ„ä¸å…¶ä»–å‡ ä½çš„è¾¨åˆ«</td></tr><tr><td style="text-align:center"><strong>proceed</strong></td><td style="text-align:center"><strong>å‰è¿›ï¼Œè¿›è¡Œï¼Œç»§ç»­</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">æ³¨æ„ä¸å…¶ä»–å‡ ä½çš„è¾¨åˆ«</td></tr><tr><td style="text-align:center"><strong>procedure</strong></td><td style="text-align:center"><strong>ç¨‹åºï¼Œæ­¥éª¤</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">pro+ced+ure(åè¯æ€§)<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> å‘å‰èµ°</td></tr><tr><td style="text-align:center"><strong>precede</strong></td><td style="text-align:center"><strong>é¢†å…ˆäºï¼Œä¼˜äº</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">pre(é™æ€:å‘å‰)+cede(èµ°)</td></tr><tr><td style="text-align:center"><strong>precedent</strong></td><td style="text-align:center"><strong>å…ˆä¾‹ï¼Œå‰ä¾‹ï¼›å…ˆå‰çš„</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">precede+ent(åè¯åç¼€)</td></tr><tr><td style="text-align:center"><strong>unprecedented</strong></td><td style="text-align:center"><strong>å²æ— å‰ä¾‹çš„ï¼Œç©ºå‰</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">un(å¦å®š)+precedent+ed(å½¢å®¹è¯æ€§)</td></tr><tr><td style="text-align:center"><strong>precedence</strong></td><td style="text-align:center"><strong>ä¼˜å…ˆ</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">precede+ence(åè¯æ€§)</td></tr><tr><td style="text-align:center"><strong>priority</strong></td><td style="text-align:center">åŒä¹‰è¯ï¼Œ<strong>ä¼˜å…ˆ</strong></td></tr><tr><td style="text-align:center"><strong>access</strong></td><td style="text-align:center"><strong>æ¥è¿‘ï¼Œè¿›å…¥ï¼›ä½¿ç”¨ã€è·å–</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">ac(åŠ å¼ºè¯­æ°”)+cess(èµ°)<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> èµ°è¿‡å»</td></tr><tr><td style="text-align:center"><strong>accessible</strong></td><td style="text-align:center"><strong>å¯æ¥è¿‘çš„ï¼Œå¯ä½¿ç”¨çš„ï¼Œå¯è·å–çš„</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">access+ible(å¯ä»¥â€¦çš„)</td></tr><tr><td style="text-align:center"><strong>accessory</strong></td><td style="text-align:center"><strong>é…ä»¶ã€é™„ä»¶ã€ä»çŠ¯</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">access+ory(åè¯æ€§åç¼€)<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> å’Œä¸»è¦çš„ä¸œè¥¿èµ°åœ¨ä¸€èµ·</td></tr><tr><td style="text-align:center"><strong>recession</strong></td><td style="text-align:center"><strong>è¡°é€€ã€åé€€ã€å‡¹å¤„ã€ä¸æ™¯æ°”</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">re(è¿”å›)+cess(èµ°)+ion(åè¯æ€§)<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span>è¿”å›èµ°</td></tr><tr><td style="text-align:center"><strong>recede</strong></td><td style="text-align:center"><strong>è¡°é€€</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">recessionçš„åŠ¨è¯ï¼Œæ³¨æ„å˜åŒ–</td></tr><tr><td style="text-align:center"><strong>excess</strong></td><td style="text-align:center"><strong>è¿‡åº¦ã€è¿‡é‡ã€è¶…è¿‡</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">ex(å‘å¤–ï¼Œå‡ºå»)+cess(èµ°)<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> è¶…å‡ºäº†ï¼Œè¿‡é‡</td></tr><tr><td style="text-align:center"><strong>excessive</strong></td><td style="text-align:center"><strong>å½¢å®¹è¯çš„è¿‡åº¦ã€è¿‡é‡</strong></td></tr><tr><td style="text-align:center"><strong>exceed</strong></td><td style="text-align:center"><strong>è¶…è¿‡ï¼Œèƒœè¿‡</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">ç›¸è¾ƒäº<code>cess</code>ï¼Œ<code>ceed</code>ä¼¼ä¹æ›´çƒ­è¡·äºæ‰®æ¼”åŠ¨è¯è§’è‰²</td></tr><tr><td style="text-align:center"><strong>exceedingly</strong></td><td style="text-align:center"><strong>éå¸¸ï¼Œæå…¶</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">exceeding+ly(å½¢å®¹è¯æ€§)</td></tr><tr><td style="text-align:center"><strong>cease</strong></td><td style="text-align:center"><strong>åœæ­¢ï¼Œç»ˆäº†</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">ceas=cess, easæ¨¡ä»¿<code>end</code>ï¼Œèµ°åˆ°å°½å¤´</td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td></tr></tbody></table><h3 id="æ ¸å¿ƒå†…å®¹">æ ¸å¿ƒå†…å®¹</h3><ul><li><p><code>s, t, d</code>å¯ä»¥äº’ç›¸è½¬æ¢</p></li><li><p>å…ƒéŸ³çš„äº’ç›¸ç»„åˆå¹¶ä¸å½±å“å«ä¹‰ï¼Œä¾‹å¦‚ï¼š<code>eat</code><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> <code>es/ed</code></p></li><li><p><code>co\con\com\col\cor</code> æ˜¯åŒä¸€å«ä¹‰åœ¨ä¸åŒè¯­å¥ä¸­çš„åŒåŒ–éŸ³ã€‚è¡¨ç¤ºçš„æ„æ€æœ‰ï¼š1. ä¸€èµ·ï¼ŒååŒï¼› 2. å¼ºè°ƒ</p></li></ul><h3 id="æ‰©å±•å†…å®¹">æ‰©å±•å†…å®¹</h3><p>â­ <code>make a passing remark</code></p><p>ğŸŒŸ ç®€å•è¯„è®ºä¸‹ï¼›é¡ºå¸¦è¯´ä¸€ä¸‹</p><p>â­ <code>Data processing</code></p><p>ğŸŒŸ æ•°æ®å¤„ç†</p><p>â­ <code>make a rapid progress</code></p><p>ğŸŒŸ å–å¾—å¿«é€Ÿè¿›æ­¥</p><p>â­ <code>proceed with/ to</code></p><p>ğŸŒŸ ç»§ç»­åš / å‰å¾€</p><p>â­ <code>legal procedure</code></p><p>ğŸŒŸ æ³•å¾‹ç¨‹åº</p><p>â­ <code>give priority/precedence to sth</code></p><p>ğŸŒŸ ä¼˜å…ˆè€ƒè™‘â€¦</p><p>â­ <code>have access to</code></p><p>ğŸŒŸ ä½¿ç”¨ï¼Œåˆ©ç”¨</p><p>â­ <code>excess demand</code></p><p>ğŸŒŸ è¿‡åº¦éœ€æ±‚</p><p>â­ <code>cease fire</code></p><p>ğŸŒŸ åœç«</p><img src="/2022/12/28/%E3%80%90%E8%8B%B1%E8%AF%AD%E3%80%91%E5%88%98%E5%BD%AC%E5%8D%95%E8%AF%8D%E9%80%9F%E8%AE%B0/image-20221229161950832.png" alt="image-20221229161950832" style="zoom:50%;"><hr><h2 id="Chapter-2">Chapter 2.</h2><h3 id="è¯æ ¹-v2">è¯æ ¹</h3><table><thead><tr><th style="text-align:center">è¯æ ¹</th><th style="text-align:center">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center"></td><td style="text-align:center"></td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td></tr></tbody></table><h3 id="å‰ç¼€-v2">å‰ç¼€</h3><table><thead><tr><th style="text-align:center">å‰ç¼€</th><th style="text-align:center">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center">sub-</td><td style="text-align:center">(1). ä¸‹,å‘ä¸‹: subway</td></tr><tr><td style="text-align:center">sup-</td><td style="text-align:center">(2). è‡ªåº•å‘ä¸Š: submit</td></tr><tr><td style="text-align:center">suc-</td><td style="text-align:center">(3). äºšäºï¼Œæ¬¡äº: suburban</td></tr><tr><td style="text-align:center">sus-</td><td style="text-align:center">ï¼ˆ4). åï¼Œåé¢: subsequent</td></tr><tr><td style="text-align:center">de-</td><td style="text-align:center">ä¸‹</td></tr><tr><td style="text-align:center">com-</td><td style="text-align:center">(1). å…±åŒï¼Œä¸€èµ·</td></tr><tr><td style="text-align:center">col-</td><td style="text-align:center">(2). ä»…è¡¨ç¤ºåŠ å¼º</td></tr><tr><td style="text-align:center">cor-</td><td style="text-align:center">â€“</td></tr><tr><td style="text-align:center">co-</td><td style="text-align:center">â€“</td></tr><tr><td style="text-align:center">con-</td><td style="text-align:center">â€“</td></tr><tr><td style="text-align:center">anc-</td><td style="text-align:center">(1). ä»¥å‰ï¼Œè€ï¼›(2). é«˜</td></tr><tr><td style="text-align:center">ant-</td><td style="text-align:center">(1). ä»¥å‰çš„ antique (2). anti- åå¯¹</td></tr><tr><td style="text-align:center">abs-</td><td style="text-align:center">away è¿œç¦»</td></tr><tr><td style="text-align:center">inter-</td><td style="text-align:center">åœ¨â€¦ä¹‹é—´</td></tr><tr><td style="text-align:center">trans-</td><td style="text-align:center">ç©¿/è½¬/ä¼ </td></tr></tbody></table><h3 id="åç¼€-v2">åç¼€</h3><table><thead><tr><th style="text-align:center">åç¼€</th><th style="text-align:center">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center">-ful</td><td style="text-align:center">å½¢å®¹è¯æ€§åç¼€</td></tr><tr><td style="text-align:center">-ly</td><td style="text-align:center">ä¸€èˆ¬æ˜¯å‰¯è¯æ€§åç¼€</td></tr><tr><td style="text-align:center">-ry</td><td style="text-align:center">ä¸€èˆ¬æ˜¯åè¯æ€§åç¼€</td></tr><tr><td style="text-align:center">-ary</td><td style="text-align:center">å½¢å®¹è¯æ€§åç¼€</td></tr><tr><td style="text-align:center">-ity</td><td style="text-align:center">éå¸¸å¼ºçƒˆçš„åè¯ï¼</td></tr><tr><td style="text-align:center">-lity</td><td style="text-align:center">â€“</td></tr><tr><td style="text-align:center">-ility</td><td style="text-align:center">â€“</td></tr><tr><td style="text-align:center">-itate</td><td style="text-align:center">ite+ateå¤åˆè€Œæˆï¼Œeä¸å‘éŸ³è€Œçœç•¥</td></tr><tr><td style="text-align:center">-ate</td><td style="text-align:center">æœ€å¤šæ˜¯åšåŠ¨è¯å’Œå½¢å®¹è¯</td></tr><tr><td style="text-align:center">-ite</td><td style="text-align:center">æœ€å¤šçš„æ˜¯åšå½¢å®¹è¯</td></tr><tr><td style="text-align:center">-ute</td><td style="text-align:center">æœ€å¤šçš„æ˜¯åŠ¨è¯</td></tr><tr><td style="text-align:center">-ation</td><td style="text-align:center">-ateÂ±ionå¤åˆè€Œæˆï¼Œionæ˜¯åè¯æ€§åç¼€</td></tr><tr><td style="text-align:center">-al</td><td style="text-align:center">å½¢å®¹è¯æ€§åç¼€</td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td></tr></tbody></table><h3 id="è¿æ¥ç¬¦å·-v2">è¿æ¥ç¬¦å·</h3><table><thead><tr><th style="text-align:center">è¿æ¥ç¬¦å·</th><th style="text-align:center">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center"></td><td style="text-align:center"></td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td></tr><tr><td style="text-align:center"></td><td style="text-align:center"></td></tr></tbody></table><h3 id="å•è¯-v2">å•è¯</h3><table><thead><tr><th style="text-align:center">å•è¯</th><th style="text-align:center">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center"><strong>succeed</strong></td><td style="text-align:center"><strong>æˆåŠŸã€ç»§ä»»ã€ç»§æ‰¿ã€å…´æ—º</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">suc(è‡ªåº•å‘ä¸Š)+ceed(èµ°)<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> æˆåŠŸï¼›suc(åœ¨åé¢)+ceed<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> ç»§æ‰¿</td></tr><tr><td style="text-align:center"><strong>succeeding</strong></td><td style="text-align:center"><strong>éšåçš„ï¼Œä»¥åçš„</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">suc(åé¢)+ceed(èµ°)+ing(å½¢å®¹è¯åç¼€)</td></tr><tr><td style="text-align:center"><strong>success</strong></td><td style="text-align:center"><strong>æˆåŠŸï¼Œèƒœåˆ©ï¼›æˆå¤§äº‹çš„äºº</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">ceedæ›´åƒæ˜¯åŠ¨è¯ï¼Œcessæ›´åƒæ˜¯åè¯</td></tr><tr><td style="text-align:center"><strong>successful</strong></td><td style="text-align:center"><strong>æˆåŠŸçš„ï¼Œä¸€å¸†é£é¡ºçš„</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">fulè¿™ä¸ªæ˜¯å½¢å®¹è¯æ€§åç¼€</td></tr><tr><td style="text-align:center"><strong>successfully</strong></td><td style="text-align:center"><strong>æˆåŠŸåœ°</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">lyæ˜¯å‰¯è¯æ€§åç¼€å•¦</td></tr><tr><td style="text-align:center"><strong>successor</strong></td><td style="text-align:center"><strong>åç»§è€…ï¼Œåç»§çš„äº‹ç‰©</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">successç”¨çš„æ˜¯ç»§æ‰¿çš„è¯æ€§+orè¡¨ç¤ºäººæˆ–ç‰©</td></tr><tr><td style="text-align:center"><strong>succession</strong></td><td style="text-align:center"><strong>è¿ç»­ã€ç»§ä½ã€æ¥æ›¿</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">ionè¡¨ç¤ºåè¯</td></tr><tr><td style="text-align:center"><strong>successive</strong></td><td style="text-align:center"><strong>è¿ç»­çš„ã€ç»§æ‰¿çš„ã€ä¾æ¬¡çš„</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">iveè¿™ä¸ªè¡¨ç¤ºå½¢å®¹è¯æ€§ï¼Œæœ‰å¤š`çš„é¢å¤–å«ä¹‰</td></tr><tr><td style="text-align:center"><strong>predecessor</strong></td><td style="text-align:center"><strong>å‰è¾ˆï¼Œå‰ä»»</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">pre(å‰)+de(ä¸‹)+cess(èµ°)+or<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> ä¹‹å‰çš„èµ°ä¸‹å°çš„äºº</td></tr><tr><td style="text-align:center"><strong>necessary</strong></td><td style="text-align:center"><strong>å¿…è¦çš„ï¼Œå¿…é¡»çš„ï¼Œå¿…ç„¶çš„</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">ne(å¦å®šï¼Œä¸)+cess(èµ°)+ary(adj.)<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> ä¸å¾—ä¸èµ°çš„è·¯</td></tr><tr><td style="text-align:center"><strong>necessarily</strong></td><td style="text-align:center"><strong>å¿…é¡»æ»´</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center"><code>ly</code>åç¼€</td></tr><tr><td style="text-align:center"><strong>necessity</strong></td><td style="text-align:center"><strong>å¿…éœ€å“</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">ityæ˜¯å¼ºåè¯åç¼€</td></tr><tr><td style="text-align:center"><strong>necessitate</strong></td><td style="text-align:center"><strong>ä½¿æˆä¸ºå¿…é¡»ï¼›è¿«ä½¿</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">ite+ate<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> å¤åˆåç¼€(itate)</td></tr><tr><td style="text-align:center"><strong>degrade</strong></td><td style="text-align:center"><strong>ä½¿â€¦ä¸¢è„¸ï¼›ä½¿â€¦é™çº§ï¼›ä½¿â€¦é™</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">de(å‘ä¸‹)+grade(çº§åˆ«)<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> çº§åˆ«å‘ä¸‹</td></tr><tr><td style="text-align:center"><strong>degradation</strong></td><td style="text-align:center"><strong>é™çº§ã€å •è½ã€é€€åŒ–</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">ationæ˜¯ate+ionå¤åˆè€Œæˆçš„ï¼Œå¾ˆå¸¸è§ï¼Œè¡¨ç¤ºåè¯æ€§åç¼€</td></tr><tr><td style="text-align:center"><strong>upgrade</strong></td><td style="text-align:center"><strong>æå‡ã€å‡çº§ã€æ”¹è‰¯å“ç§</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">upå‘ä¸Š+grade(çº§åˆ«)</td></tr><tr><td style="text-align:center"><strong>gradual</strong></td><td style="text-align:center"><strong>é€æ¸çš„ã€é€æ­¥çš„</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">grad(èµ°)+u+al(å½¢å®¹è¯)<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> ä¸€æ­¥ä¸€æ­¥èµ°ç€ï¼šæ¸æ¸åœ°</td></tr><tr><td style="text-align:center"><strong>gradually</strong></td><td style="text-align:center"><strong>æ¸æ¸åœ°ï¼›é€æ­¥åœ°</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">gradual+ly(å‰¯è¯æ€§åç¼€)</td></tr><tr><td style="text-align:center"><strong>congress</strong></td><td style="text-align:center"><strong>å›½ä¼šã€ä¼šè®®ã€ç¤¾äº¤ã€ä»£è¡¨å¤§ä¼š</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">con(ä¸€èµ·ï¼Œå…±åŒ)+gress(èµ°)<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> èµ°åˆ°ä¸€èµ·(å¼€ä¼š)</td></tr><tr><td style="text-align:center"><strong>congressional</strong></td><td style="text-align:center"><strong>å›½ä¼šçš„ã€è®®ä¼šçš„</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">ion+al å¤åˆåç¼€ï¼Œä»¥æœ€åä¸ºå‡†</td></tr><tr><td style="text-align:center"><strong>congressman</strong></td><td style="text-align:center"><strong>å›½ä¼šè®®å‘˜</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">Iromanï¼</td></tr><tr><td style="text-align:center"><strong>ancestor</strong></td><td style="text-align:center"><strong>ç¥–å…ˆï¼Œå§‹ç¥–</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">anc(ä»¥å‰ã€è€)+cest(èµ° cess stdäº’é€š)+or$\to $ä¹‹å‰èµ°çš„äºº</td></tr><tr><td style="text-align:center"><strong>ancestral</strong></td><td style="text-align:center"><strong>ç¥–ä¼ çš„</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">ancest+ral(å½¢å®¹è¯æ€§)</td></tr><tr><td style="text-align:center"><strong>ancestry</strong></td><td style="text-align:center"><strong>ç¥–å…ˆï¼Œè¡€ç»Ÿ</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">ryyyyï¼</td></tr><tr><td style="text-align:center"><strong>concede</strong></td><td style="text-align:center"><strong>è®©æ­¥ã€é€€è®©ã€(å‹‰å¼º)æ‰¿è®¤</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">con(å…±åŒã€ä¸€èµ·)+cede(èµ°)</td></tr><tr><td style="text-align:center"><strong>concession</strong></td><td style="text-align:center"><strong>è®©æ­¥ã€ç‰¹è®¸ã€æ‰¿è®¤ã€é€€ä½</strong></td></tr><tr><td style="text-align:center">ğŸ</td><td style="text-align:center">ion</td></tr><tr><td style="text-align:center"><strong>abscess</strong></td><td style="text-align:center"><strong>è„“è‚¿ï¼Œè„“ç–®</strong></td></tr><tr><td style="text-align:center">â­</td><td style="text-align:center">abs(=away èµ°å¼€)+cess(èµ°)<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> èµ°ä¸æ‰çš„</td></tr><tr><td style="text-align:center"><strong>accede</strong></td><td style="text-align:center"><strong>åŒæ„ã€åŠ å…¥ã€å°±ä»»ã€å°±èŒ</strong></td></tr><tr><td style="text-align:center">â­</td><td style="text-align:center">ac(æœ)+cede(èµ°)<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> èµ°åˆ°ä¸€èµ·äº†</td></tr><tr><td style="text-align:center"><strong>accession</strong></td><td style="text-align:center"><strong>å¢åŠ ã€å°±èŒã€åˆ°è¾¾</strong></td></tr><tr><td style="text-align:center">â­</td><td style="text-align:center">access?å…¶å®æ˜¯accede+ionå•¦</td></tr><tr><td style="text-align:center"><strong>antecede</strong></td><td style="text-align:center"><strong>åœ¨â€¦ä¹‹å‰ã€èƒœè¿‡ã€å…ˆå‰</strong></td></tr><tr><td style="text-align:center">â­</td><td style="text-align:center">ante(ä»¥å‰)+cede(èµ°)</td></tr><tr><td style="text-align:center"><strong>antecedent</strong></td><td style="text-align:center"><strong>å…ˆè¡Œè¯ï¼Œå…ˆä¾‹ï¼Œç¥–å…ˆ</strong></td></tr><tr><td style="text-align:center">â­</td><td style="text-align:center">antecede+ent</td></tr><tr><td style="text-align:center"><strong>incessant</strong></td><td style="text-align:center"><strong>ä¸æ–­çš„ï¼Œä¸åœçš„ï¼Œè¿ç»­çš„</strong></td></tr><tr><td style="text-align:center">â­</td><td style="text-align:center">in(æ­¤æ—¶è¡¨ç¤ºnot)+cess(èµ°ï¼Œceaseåœæ­¢)<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span>+ant(adj.) ä¸è¦åœæ­¢</td></tr><tr><td style="text-align:center"><strong>intercede</strong></td><td style="text-align:center"><strong>è°ƒè§£ã€è°ƒåœã€æ±‚æƒ…</strong></td></tr><tr><td style="text-align:center">â­</td><td style="text-align:center">intert(ä¹‹é—´ã€ç›¸äº’)+cede(å¥”èµ°)<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> å¥”èµ°ä¸¤äººä¹‹é—´æ±‚æƒ…</td></tr><tr><td style="text-align:center"><strong>secede</strong></td><td style="text-align:center"><strong>ï¼ˆå›½å®¶ã€å¤§é›†å›¢ï¼‰é€€å‡ºã€è„±ç¦»</strong></td></tr><tr><td style="text-align:center">â­</td><td style="text-align:center">se(separate)+cede<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> åˆ†å¼€èµ°</td></tr><tr><td style="text-align:center"><strong>secession</strong></td><td style="text-align:center"><strong>è„±ç¦»ã€åˆ†ç¦»</strong></td></tr><tr><td style="text-align:center">â­</td><td style="text-align:center">se+cess+ion</td></tr><tr><td style="text-align:center"><strong>digress</strong></td><td style="text-align:center"><strong>ç¦»é¢˜ã€å²”é“</strong></td></tr><tr><td style="text-align:center">â­</td><td style="text-align:center">di(disåˆ†å¼€)+gress(èµ°)<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>â†’</mo></mrow><annotation encoding="application/x-tex">\to</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">â†’</span></span></span></span> èµ°æˆYå­—äº†</td></tr><tr><td style="text-align:center"><strong>regress</strong></td><td style="text-align:center"><strong>é€†è¡Œï¼Œé€€å›ï¼Œå¤å½’</strong></td></tr><tr><td style="text-align:center">â­</td><td style="text-align:center">re(è¿”å›)+gress</td></tr><tr><td style="text-align:center"><strong>regression</strong></td><td style="text-align:center"><strong>é€€åŒ–ï¼›å›å½’ï¼›é€†è¡Œ</strong></td></tr><tr><td style="text-align:center">â­</td><td style="text-align:center">ion</td></tr><tr><td style="text-align:center"><strong>regressive</strong></td><td style="text-align:center"><strong>å›å½’çš„ã€åé€€çš„ã€é€€åŒ–çš„</strong></td></tr><tr><td style="text-align:center">â­</td><td style="text-align:center">ive</td></tr><tr><td style="text-align:center"><strong>ingress</strong></td><td style="text-align:center"><strong>è¿›å…¥ï¼Œå…¥å£ï¼Œå…¥å¢ƒ</strong></td></tr><tr><td style="text-align:center">â­</td><td style="text-align:center">è¿™æ˜¯åè¯</td></tr><tr><td style="text-align:center"><strong>transgression</strong></td><td style="text-align:center"><strong>è¶Šç•Œã€è¿å</strong></td></tr><tr><td style="text-align:center">â­</td><td style="text-align:center">trans(ç©¿è¿‡)+gress+ion</td></tr></tbody></table><h3 id="æ ¸å¿ƒå†…å®¹-v2">æ ¸å¿ƒå†…å®¹</h3><ul><li><p><code>sub</code>ã€<code>sup</code>ã€<code>suc</code>ã€<code>sus</code>æœ¬è´¨ä¸Šæ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯åœ¨ä¸åŒè¯»éŸ³ç¯å¢ƒä¸‹çš„åŒåŒ–éŸ³ç½¢äº†ã€‚<code>BPCS</code></p></li><li><p><code>-ive</code>åç¼€å½“å½¢å®¹è¯æ€§æœ‰<code>å¤š\å¤§</code>çš„å¼•ç”³ä¹‰ï¼Œä¾‹å¦‚ï¼š<code>productive(å¤šäº§çš„)</code>ï¼Œ<code>expensive(æ˜‚è´µçš„)</code></p></li><li><p><code>-ive</code>å½“åè¯è¯æ€§æ—¶ï¼Œå¯ä»¥è¡¨ç¤ºäººã€ç‰©ï¼Œä¾‹å¦‚ï¼š<code>representive å‘è¨€äºº</code>ï¼Œ<code>relative å…³ç³»</code>ï¼Œ <code>insentive åˆºæ¿€</code></p></li><li><p>å¤åˆåç¼€è¯æ€§çœ‹æœ€å</p></li></ul><h3 id="æ‰©å±•å†…å®¹-v2">æ‰©å±•å†…å®¹</h3><p>â­ <code>succeed in (doing) sth.</code></p><p>ğŸŒŸ æˆåŠŸåšæŸäº‹</p><p>â­ <code>a succession of sth.</code></p><p>ğŸŒŸ ä¸€è¿ä¸²çš„ä¸œè¥¿</p><p>â­ <code>out of necessity</code></p><p>ğŸŒŸ å‡ºäºå¿…è¦(out of : å‡ºäº)</p><p>â­ <code>If you accede to someone's request, you do what they ask.</code></p><p>â­ å¾€å‰èµ°ï¼š<code>progress</code>ï¼Œå¾€åèµ°ï¼š<code>regress</code></p><p>â­ <code>A high seating position makes ingress and egress easy.</code></p><p>ğŸŒŸ è¾ƒé«˜çš„åº§æ¤…ä½ç½®ä½¿å…¥å£å’Œå‡ºå£å®¹æ˜“</p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;åˆ˜å½¬å•è¯é€Ÿè®°&lt;/h1&gt;
&lt;hr&gt;
&lt;h2 id=&quot;Chapter-1&quot;&gt;Chapter 1.&lt;/h2&gt;
&lt;h3 id=&quot;è¯æ ¹&quot;&gt;è¯æ ¹&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:center&quot;&gt;è¯æ ¹&lt;/th&gt;
&lt;th s</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>ã€QTã€‘ä¿¡å·ä¸æ§½</title>
    <link href="http://example.com/2022/12/24/%E3%80%90QT%E3%80%91%E4%BF%A1%E5%8F%B7%E4%B8%8E%E6%A7%BD/"/>
    <id>http://example.com/2022/12/24/%E3%80%90QT%E3%80%91%E4%BF%A1%E5%8F%B7%E4%B8%8E%E6%A7%BD/</id>
    <published>2022-12-24T12:57:00.996Z</published>
    <updated>2022-12-24T14:24:40.294Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¿¡å·ä¸æ§½">ä¿¡å·ä¸æ§½</h2><p>**ä¿¡å·(Signal)<strong>ä¸</strong>æ§½(Slot)**æ˜¯Qtä¸­å¯¹è±¡ä¹‹é—´çš„é€šä¿¡æ–¹å¼ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªç®€å•çš„æ —å­è¯´æ˜ï¼šå½“æˆ‘ä»¬æƒ³è¦å¼€ç¯æ—¶ï¼ŒæŒ‰ä¸‹å¼€å…³å‘å‡ºæŒ‡ä»¤ï¼Œè¿™å°±æ˜¯ä¿¡å·ï¼›è€Œç¯æ³¡æ¥æ”¶åˆ°ç”µæµå˜åŒ–ï¼Œå‘å‡ºå…‰äº®ï¼Œè¿™å°±æ˜¯å“åº”(æ§½)ã€‚</p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥æ¢ä¸ªç§°å‘¼æ–¹å¼ï¼š</p><ul><li>ä¿¡å·ï¼šè§¦å‘äº‹ä»¶</li><li>æ§½ï¼šå“åº”å‡½æ•°</li></ul><p>æ‰€æœ‰ç»§æ‰¿è‡ªQObjectçš„ç±»ï¼Œéƒ½å¯ä»¥åŒ…å«ä¿¡å·å’Œæ§½ã€‚å½“å¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå°±ä¼šå‘å‡ºä¿¡å·ã€‚å½“ç„¶ï¼Œä»–å¹¶ä¸å…³å¿ƒæ˜¯å¦æœ‰äººæ¥æ”¶åˆ°è¿™ä¸ªä¿¡å·ã€‚</p><p>æ§½å‡½æ•°å°±æ˜¯ç”¨æ¥æ¥æ”¶å¯¹è±¡çš„ä¸€ä¸ªæ–¹æ³•æˆ–æ˜¯æ¥å£ï¼Œå°±è·Ÿä¿¡å·å‘å‡ºå»å¹¶ä¸çŸ¥é“æœ‰æ²¡æœ‰æ§½æ¥æ”¶ä¸€æ ·ï¼Œæ§½ä¹Ÿä¸çŸ¥é“æœ‰æ²¡æœ‰ä¿¡å·æ¥è°ƒåŠ¨ä»–ï¼Œä»–åªæ˜¯ä¸ªå›ºæœ‰å±æ€§ã€‚</p><p>ä¿¡å·å’Œæ§½ä¹‹é—´çš„å…³ç³»æ˜¯å¼€æ”¾å¤šå…ƒçš„ï¼Œä½ å¯ä»¥çœ‹è§ä¸€ä¸ªä¿¡å·è¿æ¥åˆ°å¥½å‡ ä¸ªæ§½ï¼Œä¹Ÿå¯ä»¥è§åˆ°ä¸€ä¸ªæ§½ä¸Šæœ‰å¥½å‡ ä¸ªä¿¡å·ã€‚æ›´è¯¡å¼‚çš„æ˜¯ï¼Œç”šè‡³å¯ä»¥å°†ä¸€ä¸ªä¿¡å·æ’åˆ°å¦ä¸€ä¸ªä¿¡å·ä¸Šã€‚</p><p>Qtå°ç»„ä»¶æœ‰è®¸å¤šé¢„å®šä¹‰çš„ä¿¡å·å’Œæ§½ï¼Œä¾‹å¦‚QAbstractButtonæœ‰ä¸€ä¸ªClicked()çš„ä¿¡å·ï¼ŒQLineEditæœ‰ä¸€ä¸ªclear()çš„æ§½ã€‚ä¸€èˆ¬é€šè¿‡ä¿¡å·çš„<code>connect()</code>æ–¹æ³•ï¼Œå°†ä¿¡å·ä¸æ§½è”ç³»èµ·æ¥ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">button=QToolButton()</span><br><span class="line">line_edit=QLineEdit()</span><br><span class="line">button.clicked.connect(line_edit.clear)</span><br></pre></td></tr></table></figure><p><code>connect()</code>å°†ä¼šç¿»è¯‘ä¸€ä¸ªQMetaObjectå¯¹è±¡ï¼Œè¯¥å¯¹è±¡å¯ä»¥ä¸<code>disconnect()</code>æ–¹æ³•ä½¿ç”¨ï¼Œä»¥æ–­å¼€è¿æ¥ã€‚</p><p>å½“ç„¶ï¼Œé™¤äº†é¢„è®¾çš„å‡½æ•°å¤–ï¼Œä¿¡å·ä¹Ÿå¯ä»¥è¿æ¥åˆ°è‡ªç”±å‡½æ•°ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> QApplication,QPushButton</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">function</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;The &#x27;function&#x27; has been called&quot;</span>)</span><br><span class="line"></span><br><span class="line">app=QApplication()</span><br><span class="line">button=QPushButton(<span class="string">&quot;Call function&quot;</span>)</span><br><span class="line">button.clicked.connect(function)</span><br><span class="line">button.show()</span><br><span class="line">sys.exit(app.<span class="built_in">exec</span>())</span><br></pre></td></tr></table></figure><hr><h2 id="ä¿¡å·ç±»">ä¿¡å·ç±»</h2><p>ä¿¡å·ç±»éœ€è¦æ˜¯<code>QtCore.Signal()</code>ç±»çš„å˜é‡ï¼Œä¸€èˆ¬æˆ‘ä»¬å®šä¹‰ä¿¡å·ï¼Œæ˜¯åœ¨ç±»æ–¹æ³•çš„ä¸Šé¢è¿›è¡Œï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Button</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">clicked=Signal(Qt.MouseButton)</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¾ç½®ä¿¡å·çš„å‘å‡ºï¼š<code>emit</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">mousePressEvent</span>(<span class="params">self.event</span>):</span><br><span class="line">self.clicked.emit(event.button())</span><br></pre></td></tr></table></figure><p>å®Œæ•´ä»£ç å¦‚ä¸‹ï¼Œè¿™ä¸ªButtonå°†è¿”å›æŒ‰ä¸‹çš„é¼ æ ‡æŒ‰é”®ç±»å‹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Button</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line"></span><br><span class="line">    clicked=Signal(Qt.MouseButton)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(Button, self).__init__()</span><br><span class="line">        <span class="comment"># ç»‘å®šä¿¡å·ä¸æ§½</span></span><br><span class="line">        self.clicked.connect(self.PrintE)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @Slot()</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">PrintE</span>(<span class="params">self,arg</span>):</span><br><span class="line">        <span class="built_in">print</span>(arg)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">mousePressEvent</span>(<span class="params">self,event</span>):</span><br><span class="line">        <span class="comment"># é¼ æ ‡ç§»åŠ¨æ—¶ï¼Œä½œä¸ºè§¦å‘å™¨å‘å‡ºä¿¡å·</span></span><br><span class="line">        self.clicked.emit(event.button())</span><br><span class="line"></span><br><span class="line">App=QApplication()</span><br><span class="line">button=Button()</span><br><span class="line">button.show()</span><br><span class="line">sys.exit(App.<span class="built_in">exec</span>())</span><br><span class="line"></span><br></pre></td></tr></table></figure><img src="/2022/12/24/%E3%80%90QT%E3%80%91%E4%BF%A1%E5%8F%B7%E4%B8%8E%E6%A7%BD/image-20221224220327182.png" alt="image-20221224220327182" style="zoom:50%;"><p><code>Signal</code>çš„æ„é€ å‡½æ•°å¯ä»¥æ¥æ”¶ä¸€ä¸ªå…ƒç»„æˆ–è€…ä¸€ä¸ªPythonç±»å‹æˆ–æ˜¯Cç±»å‹çš„åˆ—è¡¨ï¼š</p><figure class="highlight pascal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">signal1 = Signal(int)  # Python types</span><br><span class="line">signal2 = Signal(QUrl)  # Qt Types</span><br><span class="line">signal3 = Signal(int, str, int)  # more than one <span class="keyword">type</span></span><br><span class="line">signal4 = Signal((float,), (QDate,))  # optional types</span><br></pre></td></tr></table></figure><p>é™¤æ­¤ä¹‹å¤–ï¼Œå®ƒè¿˜å¯ä»¥æ¥æ”¶å®šä¹‰ä¿¡å·åç§°çš„å‘½åå‚æ•°åã€‚å¦‚æœæ²¡æœ‰ä¼ é€’ä»»ä½•ä¿¡æ¯ï¼Œåˆ™æ–°ä¿¡å·å°†ä¸èµ‹å€¼ç»™å®ƒçš„å˜é‡å…·æœ‰ç›¸åŒçš„åç§°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># TODO</span></span><br><span class="line">signal5 = Signal(<span class="built_in">int</span>, name=<span class="string">&#x27;rangeChanged&#x27;</span>)</span><br><span class="line"><span class="comment"># ...</span></span><br><span class="line">rangeChanged.emit(...)</span><br></pre></td></tr></table></figure><p><code>Signal</code>è¿˜å¸¦æœ‰å¯é€‰å‚æ•°ï¼Œæ¯”å¦‚<code>sumResult=Signal(int,arguments=['sum'])</code></p><hr><h2 id="æ§½ç±»">æ§½ç±»</h2><p>QObjectæ´¾ç”Ÿç±»ä¸­çš„slotåº”è¯¥ç”±è£…é¥°å™¨@QtCore.Slot()è¡¨ç¤ºã€‚åŒæ ·ï¼Œè¦å®šä¹‰<code>Signal</code>ï¼Œåªéœ€ä¼ é€’ç±»ä¼¼QtCore.Signal()ç±»çš„ç±»å‹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slot(<span class="params"><span class="built_in">str</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">slot_function</span>(<span class="params">self, s</span>):</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure><p>Slot()ä¹Ÿæ¥å—åç§°å’Œç»“æœå…³é”®å­—ã€‚resultå…³é”®å­—å®šä¹‰äº†å°†è¿”å›çš„ç±»å‹ï¼Œå¯ä»¥æ˜¯Cæˆ–Pythonç±»å‹ã€‚nameå…³é”®å­—çš„è¡Œä¸ºä¸Signal()ä¸­çš„ç›¸åŒã€‚å¦‚æœæ²¡æœ‰ä¼ é€’ä»»ä½•åç§°ï¼Œåˆ™æ–°æ’æ§½å°†å…·æœ‰ä¸æ­£åœ¨è£…é¥°çš„å‡½æ•°ç›¸åŒçš„åç§°ã€‚</p><hr><h2 id="é‡è½½ä¿¡å·ä¸æ§½">é‡è½½ä¿¡å·ä¸æ§½</h2><p>æˆ‘ä»¬ä¸¾ä¸ªç®€å•çš„æ —å­ï¼Œæ¥ä½¿ç”¨ä¿¡å·ä¸æ§½ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> QApplication,QPushButton</span><br><span class="line"><span class="keyword">from</span> PySide6.QtCore <span class="keyword">import</span> QObject,Signal,Slot</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Communicate</span>(<span class="title class_ inherited__">QObject</span>):</span><br><span class="line">    <span class="comment"># åˆ›å»ºä¸¤ä¸ªæ–°çš„ä¿¡å·ï¼Œä¸€ä¸ªç”¨äºå¤„ç†æ•´æ•°ç±»å‹ï¼Œä¸€ä¸ªå¤„ç†å­—ç¬¦ä¸²ç±»å‹</span></span><br><span class="line">    speak=Signal((<span class="built_in">int</span>,),(<span class="built_in">str</span>,))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,parent=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(Communicate, self).__init__()</span><br><span class="line">        <span class="comment"># å°† ä¿¡å·1 è¿æ¥åˆ° æ§½å‡½æ•°</span></span><br><span class="line">        self.speak[<span class="built_in">int</span>].connect(self.say_something)</span><br><span class="line">        <span class="comment"># å°† ä¿¡å·2 è¿æ¥åˆ° æ§½å‡½æ•°</span></span><br><span class="line">        self.speak[<span class="built_in">str</span>].connect(self.say_something)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å®šä¹‰ä¸€ä¸ªæ–°çš„æ§½å‡½æ•°ï¼Œå°†ä¼šæ¥æ”¶ä¸€ä¸ªæ•´å½¢æˆ–è€…ä¸€ä¸ªå­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="comment"># å¹¶ä¸”æ‰“å°ä»–ä»¬çš„åå­—</span></span><br><span class="line"><span class="meta">    @Slot(<span class="params"><span class="built_in">int</span></span>)</span></span><br><span class="line"><span class="meta">    @Slot(<span class="params"><span class="built_in">str</span></span>)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">say_something</span>(<span class="params">self,arg</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(arg,<span class="built_in">int</span>):</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;This is a number: &quot;</span>,arg)</span><br><span class="line">        <span class="keyword">elif</span> <span class="built_in">isinstance</span>(arg,<span class="built_in">str</span>):</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;This is a String: &quot;</span>,arg)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app=QApplication(sys.argv)</span><br><span class="line">    someone=Communicate()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å‘é€å¸¦æœ‰ä¸åŒå‚æ•°çš„&#x27;speak&#x27;ä¿¡å·</span></span><br><span class="line">    <span class="comment"># å½“ç„¶ï¼Œå¦‚æœæƒ³è¦å‘å°„`str`ç±»å‹çš„ä¿¡å·ï¼Œå¿…é¡»æŒ‡å®šï¼Œå¦åˆ™æ˜¯ä»¥é»˜è®¤`int`ç±»å‹è¿›è¡Œçš„</span></span><br><span class="line">    someone.speak.emit(<span class="number">10</span>)</span><br><span class="line">    someone.speak[<span class="built_in">str</span>].emit(<span class="string">&quot;Hello everybody&quot;</span>)</span><br></pre></td></tr></table></figure><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">ä¿¡å·ä¸æ§½</summary>
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="PySide6" scheme="http://example.com/tags/PySide6/"/>
    
  </entry>
  
  <entry>
    <title>ã€QTã€‘QChart</title>
    <link href="http://example.com/2022/12/23/%E3%80%90QT%E3%80%91QCharts/"/>
    <id>http://example.com/2022/12/23/%E3%80%90QT%E3%80%91QCharts/</id>
    <published>2022-12-23T14:23:09.884Z</published>
    <updated>2022-12-24T13:08:49.794Z</updated>
    
    <content type="html"><![CDATA[<p>1ã€QChartçš„è®¾ç½®</p><p>QChartæ˜¯ç»„åˆå›¾è¡¨å„éƒ¨åˆ†ã€æ˜¾ç¤ºå„ç§æ•°æ®åºåˆ—çš„ç»˜å›¾ç»„ä»¶ã€‚QChartæ¥å£å‡½æ•°ä¼—å¤šï¼Œå…¶ä¸»è¦æ¥å£å‡½æ•°åˆ†ç±»æ•´ç†åè§ä¸‹è¡¨ã€‚å¯¹äºä¸€ä¸ªå±æ€§ï¼Œé€šå¸¸æœ‰ä¸€ä¸ªè®¾ç½®å‡½æ•°å’Œä¸€ä¸ªå¯¹åº”çš„è¯»å–å‡½æ•°ï¼Œå¦‚setTitle()ç”¨äºè®¾ç½®å›¾è¡¨æ ‡é¢˜ï¼Œå¯¹åº”çš„è¯»å–å›¾è¡¨æ ‡é¢˜çš„å‡½æ•°ä¸ºtitle()ã€‚</p><table><thead><tr><th>åˆ†ç»„</th><th>å‡½æ•°å</th><th>åŠŸèƒ½æè¿°</th></tr></thead><tbody><tr><td>å›¾è¡¨å¤–è§‚</td><td>void setTitle()void setTitIeFont()void setTitleBrush()void setTheme()void setMargins()QLegend * legend()void setAnimationOptions()</td><td>è®¾ç½®å›¾è¡¨æ ‡é¢˜.æ˜¾ç¤ºåœ¨å›¾è¡¨ä¸Šæ–¹ï¼Œæ”¯æŒHTMLæ ¼å¼è®¾ç½®å›¾è¡¨æ ‡é¢˜å­—ä½“è®¾ç½®å›¾è¡¨æ ‡é¢˜ç”»åˆ·è®¾ç½®ä¸»é¢˜,ä¸»é¢˜æ˜¯å†…ç½®çš„UIè®¾ç½®,å®šä¹‰äº†å›¾è¡¨çš„é…è‰²è®¾ç½®ç»˜å›¾åŒºä¸å›¾è¡¨è¾¹ç•Œçš„4ä¸ªè¾¹è·è¿”å›å›¾è¡¨çš„å›¾ä¾‹è®¾ç½®åºåˆ—æˆ–åæ ‡è½´çš„åŠ¨ç”»æ•ˆæœ</td></tr><tr><td>æ•°æ®åºåˆ—</td><td>void addSeries()QList&lt; QAbstractSeries &gt; series()void removeSeries()void removeAIISeries()</td><td>æ·»åŠ åºåˆ—è¿”å›å›¾è¡¨æ‹¥æœ‰çš„åºåˆ—çš„åˆ—è¡¨ç§»é™¤-ä¸ªåºåˆ—ï¼Œä½†å¹¶ä¸åˆ é™¤åºåˆ—å¯¹è±¡ç§»é™¤å¹¶åˆ é™¤å›¾è¡¨çš„æ‰€æœ‰åºåˆ—</td></tr><tr><td>åæ ‡è½´</td><td>void addAxis()QList axes() void setAxisX() void setAxisY() void removeAxis() void createDefaultAxes()</td><td>ä¸ºå›¾è¡¨çš„æŸä¸ªæ–¹å‘æ·»åŠ åæ ‡è½´ è¿”å›æŸä¸ªæ–¹å‘çš„åæ ‡è½´åˆ—è¡¨ è®¾ç½®æŸä¸ªåºåˆ—çš„æ°´å¹³æ–¹å‘çš„åæ ‡è½´ è®¾ç½æŸä¸ªåºåˆ—çš„å‚ç›´æ–¹å‘çš„åæ ‡è½´ ç§»é™¤ä¸€ä¸ªåæ ‡è½´ æ ¹æ®å·±æ·»åŠ çš„åºåˆ—çš„ç±»å‹ï¼Œåˆ›å»ºç¼ºçœçš„åæ ‡è½´ï¼Œå‰é¢å·²æœ‰çš„åæ ‡è½´ä¼šè¢«åˆ é™¤</td></tr></tbody></table><p>å›¾è¡¨çš„è®¾ç½®å’Œæ›²çº¿çš„è®¾ç½®å¦‚ä¸‹å›¾</p><p><img src="https://img-blog.csdnimg.cn/20210507110643793.png" alt="img"></p><p>setAnimationOptions(AnimationOptions options)å‡½æ•°è®¾ç½®å›¾è¡¨çš„åŠ¨ç”»æ•ˆæœï¼Œè¾“å…¥å‚æ•°æ˜¯QChart::AnimationOptionsæšä¸¾ç±»å‹ï¼Œæœ‰ä»¥ä¸‹å‡ ç§å–å€¼</p><p>QChart::NoAnimation---- æ— åŠ¨ç”»æ•ˆæœ</p><p>QChart::GridAxisAnimations---- èƒŒæ™¯ç½‘æ ¼æœ‰åŠ¨ç”»æ•ˆæœï¼š</p><p>QChart::SeriesAnimations---- åºåˆ—æœ‰åŠ¨ç”»æ•ˆæœï¼š</p><p>QChart::AllAnimationsâ€”-â€”éƒ½æœ‰åŠ¨ç”»æ•ˆæœ</p><p>ä¸»é¢˜æ˜¯é¢„å®šä¹‰çš„å›¾è¡¨é…è‰²æ ·å¼ï¼Œæ˜¯QChart::ChartThemeæšä¸¾ç±»å‹ï¼Œæœ‰å¤šç§å–å€¼ï¼Œä½¿å›¾è¡¨å…·æœ‰ ä¸åŒçš„é…è‰²æ•ˆæœ</p><p>å›¾ä¾‹æ˜¯ä¸€ä¸ªQLegendç±»çš„å¯¹è±¡ï¼Œé€šè¿‡QChart::legend()å¯ä»¥è·å¾—å›¾è¡¨çš„å›¾ä¾‹.å›¾ä¾‹æ˜¯æ ¹æ®æ·»åŠ çš„åºåˆ—è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œä½†æ˜¯å¯ä»¥ä¿®æ”¹å›¾ä¾‹çš„ä¸€äº›å±æ€§ï¼Œå¦‚åœ¨å›¾è¡¨ä¸­çš„æ˜¾ç¤ºä½ç½®ã€å›¾ä¾‹æ–‡å­—çš„å­—ä½“ç­‰ã€‚ä¾‹å¦‚ï¼Œè®¾ç½®å›¾ä¾‹æ˜¾ç¤ºåœ¨å›¾è¡¨çš„åº•éƒ¨å¯ç”¨ä¸‹é¢çš„è¯­å¥ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ui.chartView-&gt;<span class="built_in">chart</span>()-&gt;<span class="built_in">legend</span>()-&gt;<span class="built_in">setAlignment</span>(Qt::AlignBottom);</span><br></pre></td></tr></table></figure><p>è®¾ç½®å›¾ä¾‹æ–‡å­—çš„å­—ä½“çš„ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">MainWindow::on_btnLegendFont_clicked</span><span class="params">()</span></span>&#123;    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å›¾ä¾‹çš„å­—ä½“è®¾ç½®    </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    QFont font=ui-&gt;chartView-&gt;<span class="built_in">chart</span>()-&gt;<span class="built_in">legend</span>()-&gt;<span class="built_in">font</span>();    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="type">bool</span> ok=<span class="literal">false</span>;    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    font=QFontDialog::<span class="built_in">getFont</span>(&amp;ok,font);    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (ok)        </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    ui.chartView-&gt;<span class="built_in">chart</span>()-&gt;<span class="built_in">legend</span>()-&gt;<span class="built_in">setFont</span>(font);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2ã€ QLineSeries åºåˆ—çš„è®¾ç½®</p><p>QLineSeriesçš„ä¸»è¦å‡½æ•°è§ä¸‹è¡¨</p><table><thead><tr><th>åˆ†ç»„</th><th>å‡½æ•°</th><th>åŠŸèƒ½æè¿°</th></tr></thead><tbody><tr><td>åºåˆ—åç§°</td><td>void setName()</td><td>void setName()</td></tr><tr><td>å›¾è¡¨</td><td>QChart* chart()</td><td>è¿”å›åºåˆ—æ‰€å±çš„å›¾è¡¨å¯¹è±¡</td></tr><tr><td>åºåˆ—å¤–è§‚</td><td>void setVisibte()void show()void hide()void setColor()void setPen()void setBrush()void setOpacity()</td><td>è®¾ç½®åºåˆ—å¯è§æ€§æ˜¾ç¤ºåºåˆ—ï¼Œä½¿åºåˆ—å¯è§éšè—åºåˆ—ï¼Œä½¿åºåˆ—ä¸å¯è§è®¾ç½®åºåˆ—çº¿æ¡çš„é¢œè‰²è®¾ç½®ç»˜åˆ¶çº¿æ¡çš„é¢œè‰²è®¾ç½®ç»˜åˆ¶æ•°æ®ç‚¹çš„ç”»åˆ·è®¾ç½®åºåˆ—çš„é€æ˜åº¦ï¼Œ0è¡¨ç¤ºå®Œå…¨é€æ˜ï¼Œ1è¡¨ç¤ºä¸é€æ˜</td></tr><tr><td>æ•°æ®ç‚¹</td><td>void setPointsVisible()void append()void insert()void replace()void clear()void remove()void removePoints()int count()QPointF&amp; at()QList<QPointF> points()QVetor<QPointF> pointsVector()</QPointF></QPointF></td><td>è®¾ç½®æ•°æ®ç‚¹çš„å¯è§æ€§æ·»åŠ ä¸€ä¸ªæ•°æ®ç‚¹åˆ°åºåˆ—åœ¨æŸä¸ªä½ç½®æ’å…¥ä¸€ä¸ªæ•°æ®ç‚¹æ›¿æ¢æŸä¸ªæ•°æ®ç‚¹æ¸…é™¤æ‰€æœ‰æ•°æ®ç‚¹åˆ é™¤æŸä¸ªæ•°æ®ç‚¹ä»æŸä¸ªä½ç½®å¼€å§‹ï¼Œåˆ é™¤æŒ‡å®šä¸ªæ•°çš„æ•°æ®ç‚¹æ•°æ®ç‚¹çš„ä¸ªæ•°è¿”å›æŸä¸ªä½ç½®ä¸Šçš„æ•°æ®ç‚¹è¿”å›æ•°æ®ç‚¹çš„åˆ—è¡¨è¿”å›æ•°æ®ç‚¹çš„åˆ—è¡¨ï¼Œæ•ˆç‡æ›´é«˜</td></tr><tr><td>æ•°æ®ç‚¹æ ‡ç­¾</td><td>void setPointLabeIsVisible()void setPointLabelsColor()void setPointLabelsFont()void setPointLabelsFormat()void setPointLabelsClipping()</td><td>è®¾ç½®æ•°æ®ç‚¹æ ‡ç­¾çš„å¯è§æ€§è®¾ç½®æ•°æ®ç‚¹æ ‡ç­¾çš„æ–‡å­—é¢œè‰²è®¾ç½®æ•°æ®ç‚¹æ ‡ç­¾å­—ä½“è®¾ç½®æ•°æ®ç‚¹æ ‡ç­¾æ ¼å¼è®¾ç½®æ ‡ç­¾çš„è£å‰ªå±æ€§ï¼Œç¼ºçœä¸ºTrue,å³ç»˜å›¾åŒºå¤–çš„æ ‡ç­¾è¢«è£å‰ªæ‰</td></tr><tr><td>åæ ‡è½´</td><td>bool attachAxis()bool detachAxis()Qlist attachedAxes()</td><td>ä¸ºåºåˆ—é™„åŠ -ä¸ªåæ ‡è½´ï¼Œé€šå¸¸éœ€è¦ä¸€ä¸ªXè½´å’Œä¸€ä¸ªYè½´è§£é™¤ä¸€ä¸ªé™„åŠ çš„åæ ‡è½´è¿”å›é™„åŠ çš„åæ ‡è½´çš„åˆ—è¡¨</td></tr></tbody></table><p>æ•°æ®ç‚¹æ ‡ç­¾çš„æ ¼å¼è®¾ç½®ä½¿ç”¨å‡½æ•°setPointLabelsFormat(),æœ‰ä¸¤ç§æ•°æ®å¯ä»¥åœ¨æ•°æ®ç‚¹æ ‡ç­¾ä¸­æ˜¾ç¤ºï¼Œæœ‰å›ºå®šçš„æ ‡ç­¾ï¼š</p><p>@xPoint æ•°æ®ç‚¹çš„Xå€¼ï¼›</p><p>@yPoint æ•°æ®ç‚¹çš„Yå€¼ã€‚</p><p>ä¾‹å¦‚ï¼Œä½¿æ•°æ®ç‚¹æ ‡ç­¾åªæ˜¾ç¤ºYå€¼ï¼Œè®¾ç½®è¯­å¥ä¸ºï¼š</p><p>curSeries-&gt;setPointLabelsFormat (â€˜â€™@yPoint&quot;);</p><p>å¦‚æœä½¿æ•°æ®ç‚¹æ ‡ç­¾æ˜¾ç¤º(X,Y)å€¼ï¼Œè®¾ç½®è¯­å¥ä¸ºï¼š</p><p>curSeries-&gt;setPointLabelsFormat(â€œ(@xPoint,@yPoint)â€);</p><p>ä¸ºä¸€ä¸ªåºåˆ—æ·»åŠ æ•°æ®ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨append()å‡½æ•°ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æµæ“ä½œç¬¦â€œ&lt;</p><p>*series0&lt;</p><p>ä¸ºåºåˆ—æŒ‡å®šåæ ‡è½´</p><p>chart-&gt;setAxisX(axisX, series0);//æ·»åŠ Xåæ ‡è½´</p><p>chart-&gt;setAxisX(axisX, ;series1);//æ·»åŠ Xåæ ‡è½´</p><p>chart-&gt;setAxisY(axisY, series0);//æ·»åŠ Yåæ ‡è½´</p><p>chart-&gt;setAxisY(axisY, series1);//æ·»åŠ Yåæ ‡è½´</p><p>QChart:: setAxisX()å‡½æ•°ä¸ºåºåˆ—æŒ‡å®šXåæ ‡è½´ï¼Œå¹¶å°†åæ ‡è½´æ·»åŠ åˆ°å›¾è¡¨é‡Œï¼›QChart::setAxisY() å‡½æ•°ä¸ºåºåˆ—æŒ‡å®šYåæ ‡è½´ï¼Œå¹¶å°†åæ ‡è½´æ·»åŠ åˆ°å›¾è¡¨é‡Œã€‚æ— éœ€å†è°ƒç”¨åºåˆ—çš„attachAxist)å‡½æ•°ã€‚è‹¥è¦ ä½¿ç”¨åºåˆ—çš„attachAxis()å‡½æ•°ï¼Œåˆ™å®ç°ä¸Šè¿°åŠŸèƒ½çš„ä»£ç å¦‚ä¸‹ï¼š</p><p>chart-&gt;addAxis(axisX,Qt::AlignBottom); //åæ ‡è½´æ·»åŠ åˆ°å›¾è¡¨è¡¨ï¼Œå¹¶æŒ‡å®šæ–¹å‘</p><p>chart-&gt;addAxis(axisY,Qt::AlignLeft);</p><p>series0-&gt;attachAxis (axisX) ;//åºåˆ— series0 é™„åŠ åæ ‡è½´</p><p>series0-&gt;attachAxis(axisY);</p><p>seriesl-&gt;attachAxis (axisX);//åºåˆ— seriesl é™„åŠ åæ ‡è½´</p><p>seriesl-&gt;attachAxis(axisY);</p><p>å³å…ˆç”¨QChart::addAxis()å‡½æ•°æ·»åŠ ä¸€ä¸ªåæ ‡è½´åˆ°å›¾è¡¨ï¼Œå¹¶æŒ‡å®šåæ ‡è½´çš„æ–¹å‘ï¼Œç„¶åç”¨åºåˆ—çš„ attachAxis()å‡½æ•°é™„åŠ åæ ‡è½´å¯¹è±¡ã€‚</p><p>3ã€QValueAxisåæ ‡è½´çš„è®¾ç½®</p><p>ç”¨QValueAxisç±»çš„åæ ‡è½´ï¼Œè¿™æ˜¯æ•°å€¼å‹åæ ‡è½´ï¼Œä¸QLineSeriesæ­£å¥½é…åˆä½¿ç”¨</p><p>QValueAxisç±»çš„ ä¸»è¦å‡½æ•°è§ä¸‹è¡¨</p><table><thead><tr><th>åˆ†ç»„</th><th>å‡½æ•°</th><th>åŠŸèƒ½æè¿°</th></tr></thead><tbody><tr><td>åæ ‡è½´æ•´ä½“</td><td>void setVisible()Qt::Orientation orientation()void setMin()void setMax()void setRange()</td><td>è®¾ç½®åæ ‡è½´å¯è§æ€§è¿”å›åæ ‡è½´æ–¹å‘è®¾ç½®åæ ‡è½´æœ€å°å€¼è®¾ç½®åæ ‡è½´æœ€å¤§å€¼è®¾ç½®åæ ‡è½´æœ€å°æœ€å¤§å€¼è¡¨ç¤ºçš„èŒƒå›´</td></tr><tr><td>void setLabelFormat()  void setLabelsAngle()void setLabelsBrush()void setLabelsColor()  void setLabe!sFont()void setLabelsVisible()</td><td>void setLabelFormat()  void setLabelsAngle()void setLabelsBrush()void setLabelsColor()  void setLabe!sFont()void setLabelsVisible()</td><td>è®¾ç½®æ ‡ç­¾æ ¼å¼ï¼Œä¾‹å¦‚å¯ä»¥è®¾ç½®æ˜¾ç¤ºçš„å°æ•°ç‚¹ä½æ•°è®¾ç½®æ ‡ç­¾çš„è§’åº¦ï¼Œå•ä½ä¸ºåº¦è®¾ç½®æ ‡ç­¾çš„ç”»åˆ·è®¾ç½®æ ‡ç­¾æ–‡å­—é¢œè‰²è®¾ç½®æ ‡ç­¾æ–‡å­—å­—ä½“è®¾ç½®è½´æ ‡ç­¾æ–‡å­—æ˜¯å¦å¯è§</td></tr><tr><td>è½´çº¿å’Œåˆ»åº¦çº¿</td><td>void setTickCount()void setLineVisible()void setLinePen()void setLinePenColor()</td><td>è®¾ç½®åæ ‡è½´ä¸»åˆ»åº¦çš„ä¸ªæ•°è®¾ç½®è½´çº¿å’Œåˆ»åº¦çº¿çš„å¯è§æ€§ã€è®¾ç½®è½´çº¿å’Œåˆ»åº¦çº¿çš„å‡¼ç¬”è®¾ç½®è½´çº¿å’Œåˆ»åº¦çº¿çš„é¢œè‰²</td></tr><tr><td>ä¸»ç½‘æ ¼çº¿</td><td>void setGridUneColor()  void setGridLinePen()  void setGridLineVisible()</td><td>è®¾ç½®ç½‘æ ¼çº¿çš„é¢œè‰²è®¾ç½®ç½‘æ ¼çº¿çš„ç”»ç¬”è®¾ç½®ç½‘æ ¼çº¿çš„å¯è§æ€§</td></tr><tr><td>æ¬¡åˆ»åº¦çº¿å’Œæ¬¡ç½‘æ ¼çº¿</td><td>void setMinorTickCount()void setMinorGridLineColor()void setMinorGridLinePen()void setMinorGridLineVisible()</td><td>è®¾ç½®ä¸¤ä¸ªä¸»åˆ»åº¦ä¹‹é—´çš„æ¬¡åˆ»åº¦çš„ä¸ªæ•°è®¾ç½®æ¬¡ç½‘æ ¼çº¿çš„é¢œè‰²è®¾ç½®æ¬¡ç½‘æ ¼çº¿çš„ç”»ç¬”è®¾ç½®æ¬¡ç½‘æ ¼çº¿çš„å¯è§æ€§</td></tr></tbody></table><p>QValueAxisåæ ‡è½´æœ‰ä»¥ä¸‹å‡ ä¸ªç»„æˆéƒ¨åˆ†ã€‚</p><p>â€¢åæ ‡è½´æ ‡é¢˜ï¼šæ˜¯åœ¨åæ ‡è½´ä¸‹æ–¹æ˜¾ç¤ºçš„æ–‡å­—ï¼Œè¡¨ç¤ºåæ ‡è½´çš„åç§°ï¼Œå›¾ä¸­Xè½´åæ ‡è½´çš„æ ‡é¢˜æ˜¯ â€œtime(secs)â€ã€‚åæ ‡è½´æ ‡é¢˜é™¤äº†å¯ä»¥è®¾ç½®æ–‡å­—å†…å®¹ï¼Œè¿˜å¯ä»¥è®¾ç½®å­—ä½“ã€ç”»åˆ·å’Œå¯è§æ€§ã€‚</p><p>â€¢è½´çº¿å’Œåˆ»åº¦çº¿ï¼šè½´çº¿æ˜¯å›¾ä¸­ä»å·¦åˆ°å³çš„è¡¨ç¤ºåæ ‡è½´çš„ç›´çº¿ï¼Œåˆ»åº¦çº¿æ˜¯å‚ç›´äºè½´çº¿çš„çŸ­çº¿ï¼Œ åŒ…æ‹¬ä¸»åˆ»åº¦çº¿å’Œæ¬¡åˆ»åº¦çº¿ï¼Œä¸»åˆ»åº¦ä¸ªæ•°æ˜¯tickCount(),æ¯ä¸¤ä¸ªä¸»åˆ»åº¦ä¹‹é—´çš„æ¬¡åˆ»åº¦çš„ä¸ªæ•°æ˜¯ minorTickCount()ã€‚</p><p>â€¢è½´æ ‡ç­¾ï¼šåœ¨ä¸»åˆ»åº¦å¤„æ˜¾ç¤ºçš„æ•°å€¼æ ‡ç­¾æ–‡å­—ï¼Œå¯ä»¥æ§åˆ¶å…¶æ•°å€¼æ ¼å¼ã€æ–‡å­—é¢œè‰²å’Œå­—ä½“ç­‰ã€‚</p><p>â€¢ä¸»ç½‘æ ¼çº¿ï¼šåœ¨ç»˜å›¾åŒºä¸ä¸»åˆ»åº¦å¯¹åº”çš„ç½‘æ ¼çº¿ï¼Œå¯ä»¥è®¾ç½®å…¶é¢œè‰²ã€çº¿æ¡çš„penå±æ€§ã€å¯è§ æ€§ç­‰ã€‚</p><p>â€¢æ¬¡ç½‘æ ¼çº¿ï¼šåœ¨ç»˜å›¾åŒºä¸æ¬¡åˆ»åº¦å¯¹åº”çš„ç½‘æ ¼çº¿ï¼Œå¯ä»¥è®¾ç½®å…¶é¢œè‰²ã€çº¿æ¡çš„penå±æ€§ã€å¯è§ æ€§ç­‰ã€‚</p><p>ææ¸…æ¥šåæ ‡è½´çš„è¿™äº›ç»„æˆéƒ¨åˆ†åï¼Œå¯¹å…¶è¿›è¡Œå±æ€§è¯»å–æˆ–è®¾ç½®å°±åªéœ€è°ƒç”¨ç›¸åº”çš„å‡½æ•°å³å¯ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20210507111520668.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM3NTI5OTEz,size_16,color_FFFFFF,t_70" alt="img"></p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">QSizePolicy</summary>
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="PySide6" scheme="http://example.com/tags/PySide6/"/>
    
  </entry>
  
  <entry>
    <title>ã€QTã€‘QSizePolicy</title>
    <link href="http://example.com/2022/12/23/%E3%80%90QT%E3%80%91QSizePolicy/"/>
    <id>http://example.com/2022/12/23/%E3%80%90QT%E3%80%91QSizePolicy/</id>
    <published>2022-12-23T13:50:17.668Z</published>
    <updated>2022-12-23T13:52:43.823Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸€ã€æè¿°">ä¸€ã€æè¿°</h2><p>QSizePolicy ç±»æ˜¯å¸ƒå±€å±æ€§ï¼Œæè¿°äº†æ°´å¹³å’Œå‚ç›´å¤§å°è°ƒæ•´ç­–ç•¥ã€‚</p><p>QWidget çš„å¤§å°ç­–ç•¥æ˜¯å…¶è°ƒæ•´å¤§å°æ„æ„¿çš„è¡¨è¾¾ï¼Œå¹¶å½±å“å¸ƒå±€å¼•æ“å¦‚ä½•å¤„ç†å°éƒ¨ä»¶ã€‚æ¯ä¸ªå°éƒ¨ä»¶éƒ½è¿”å›ä¸€ä¸ª QSizePolicyï¼Œæè¿°å…¶å¸ƒå±€æ—¶é¦–é€‰çš„æ°´å¹³å’Œå‚ç›´å¤§å°è°ƒæ•´ç­–ç•¥ã€‚</p><p>QSizePolicyåŒ…å«ä¸¤ä¸ªç‹¬ç«‹çš„QSizePolicy::Policyå€¼å’Œä¸¤ä¸ªæ‹‰ä¼¸å› å­ï¼›ä¸€ä¸ªæè¿°å°éƒ¨ä»¶çš„æ°´å¹³å°ºå¯¸ç­–ç•¥ï¼Œå¦ä¸€ä¸ªæè¿°å°éƒ¨ä»¶çš„å‚ç›´å°ºå¯¸ç­–ç•¥ã€‚å®ƒè¿˜åŒ…å«ä¸€ä¸ªæ ‡å¿—ï¼Œç”¨äºæŒ‡ç¤ºå…¶é¦–é€‰å¤§å°çš„é«˜åº¦å’Œå®½åº¦æ˜¯å¦ç›¸å…³ã€‚</p><hr><h2 id="äºŒã€ç±»å‹æˆå‘˜">äºŒã€ç±»å‹æˆå‘˜</h2><p>1ã€QSizePolicy::ControlTypeï¼šè®¾ç½®ä¸åº”ç”¨å¤§å°ç­–ç•¥çš„å°éƒ¨ä»¶å…³è”çš„æ§ä»¶ç±»å‹ï¼Œä¸€äº›æ ·å¼ï¼ˆç‰¹åˆ«æ˜¯QMacStyleï¼‰ä½¿ç”¨å®ƒåœ¨å°éƒ¨ä»¶ä¹‹é—´æ’å…¥é€‚å½“çš„é—´è·ã€‚</p><p><strong>QSizePolicy</strong>::DefaultTypeï¼šé»˜è®¤ç±»å‹ï¼Œæ²¡æœ‰æŒ‡å®šæ—¶ã€‚<br><strong>QSizePolicy</strong>::ButtonBoxï¼šQDialogButtonBox å®ä¾‹ã€‚<br><strong>QSizePolicy</strong>::CheckBoxï¼šQCheckBox å®ä¾‹ã€‚<br><strong>QSizePolicy</strong>::ComboBoxï¼šQComboBox å®ä¾‹ã€‚<br><strong>QSizePolicy</strong>::Frameï¼šQFrame å®ä¾‹ã€‚<br><strong>QSizePolicy</strong>::GroupBoxï¼šQGroupBox å®ä¾‹ã€‚<br><strong>QSizePolicy</strong>::Labelï¼šQLabel å®ä¾‹ã€‚<br><strong>QSizePolicy</strong>::Lineï¼šå…·æœ‰ QFrame::HLine æˆ– QFrame::VLine çš„ QFrame å®ä¾‹ã€‚<br><strong>QSizePolicy</strong>::LineEditï¼šQLineEdit å®ä¾‹ã€‚<br><strong>QSizePolicy</strong>::PushButtonï¼šQPushButton å®ä¾‹ã€‚<br><strong>QSizePolicy</strong>::RadioButtonï¼šQRadioButton å®ä¾‹ã€‚<br><strong>QSizePolicy</strong>::Sliderï¼šQAbstractSlider å®ä¾‹ã€‚<br>QSizePolicy::SpinBoxï¼šQAbstractSpinBox å®ä¾‹ã€‚<br><strong>QSizePolicy</strong>::TabWidgetï¼šQTabWidget å®ä¾‹ã€‚<br><strong>QSizePolicy</strong>::ToolButtonï¼šQToolButton å®ä¾‹ã€‚<br>2ã€<strong>QSizePolicy::Policy</strong>ã€‚ç­–ç•¥ã€‚æè¿°äº†æ„é€ QSizePolicyæ—¶ä½¿ç”¨çš„å„ç§å°ºå¯¸è°ƒæ•´ç±»å‹ã€‚</p><p><strong>Fixed</strong>ï¼šsizeå›ºå®šä¸ºQWidget::sizeHint()ã€‚<br><strong>Minimum</strong>ï¼šsizeä¸èƒ½å°äº sizeHint() æä¾›çš„å¤§å°ã€‚<br><strong>Maximum</strong>ï¼šsizeä¸èƒ½å¤§äº sizeHint() æä¾›çš„å¤§å°ã€‚<br><strong>Preferred</strong>ï¼šæœ€ä½³sizeä¸º sizeHint()ã€‚<br><strong>Expanding</strong>ï¼šsizeHint()ä¸ºæ¨èçš„sizeï¼Œä½†å°½å¯èƒ½åœ°è·å¾—æ›´å¤§çš„ç©ºé—´ã€‚<br><strong>MinimumExpanding</strong>ï¼šsizeHint()æ˜¯æœ€å°çš„sizeï¼Œä½†å°½å¯èƒ½åœ°è·å¾—æ›´å¤§çš„ç©ºé—´ã€‚<br><strong>Ignored</strong>ï¼šsizeHint()è¢«å¿½ç•¥ã€‚å°éƒ¨ä»¶å°†è·å¾—å°½å¯èƒ½å¤šçš„ç©ºé—´ã€‚<br>3ã€<strong>QSizePolicy::PolicyFlag</strong>ã€‚ç­–ç•¥æ ‡å¿—ï¼Œè¿™äº›æ ‡å¿—ç»„æˆäº†ç­–ç•¥å€¼ã€‚</p><p><strong>GrowFlag</strong>ï¼šå¦‚æœéœ€è¦ï¼Œå°éƒ¨ä»¶å¯ä»¥æ‰©å±•åˆ°è¶…å‡ºå…¶sizeHint()ã€‚<br><strong>ExpandFlag</strong>ï¼šå°éƒ¨ä»¶åº”è¯¥è·å¾—å°½å¯èƒ½å¤šçš„ç©ºé—´ã€‚<br><strong>ShrinkFlag</strong>ï¼šå¦‚æœæœ‰å¿…è¦ï¼Œå°éƒ¨ä»¶å¯ä»¥ç¼©å°åˆ°å…¶sizeHint()ä»¥ä¸‹ã€‚<br><strong>IgnoreFlag</strong>ï¼šå°éƒ¨ä»¶çš„sizeHint()è¢«å¿½ç•¥ã€‚å°éƒ¨ä»¶å°†è·å¾—å°½å¯èƒ½å¤šçš„ç©ºé—´ã€‚</p><hr><h2 id="ä¸‰ã€æˆå‘˜å‡½æ•°">ä¸‰ã€æˆå‘˜å‡½æ•°</h2><p>1ã€<strong>Qt::Orientations expandingDirections()</strong></p><p>è¿”å›å€¼è¡¨ç¤ºæ˜¯å¦å¯ä»¥ä½¿ç”¨æ¯”QWidget::sizeHint()æŒ‡ç¤ºçš„æ›´å¤šçš„ç©ºé—´ã€‚</p><p>è¿”å›Qt::Horizontalæˆ–Qt::Verticalå€¼è¡¨ç¤ºå°éƒ¨ä»¶å¯ä»¥æ°´å¹³æˆ–å‚ç›´æ‹“å±•ã€‚<br>è¿”å›Qt::Horizontal | Qt::Verticalè¡¨ç¤ºå®ƒå¯ä»¥åœ¨ä¸¤ä¸ªç»´åº¦ä¸Šå¢é•¿ã€‚</p><p>2ã€<strong>bool hasHeightForWidth()</strong></p><p>å°éƒ¨ä»¶çš„é¦–é€‰é«˜åº¦æ˜¯å¦å–å†³äºå…¶å®½åº¦ã€‚</p><p>3ã€bool hasWidthForHeight()</p><p>å°éƒ¨ä»¶çš„å®½åº¦æ˜¯å¦å–å†³äºå…¶é«˜åº¦ã€‚</p><p>4ã€<strong>QSizePolicy::Policy horizontalPolicy() / verticalPolicy()</strong></p><p>è¿”å›æ°´å¹³/å‚ç›´ç­–ç•¥ã€‚</p><p>5ã€<strong>int horizontalStretch() / verticalStretch()</strong></p><p>è¿”å›å¤§å°ç­–ç•¥çš„æ°´å¹³/å‚ç›´æ‹‰ä¼¸å› å­ã€‚</p><p>6ã€<strong>bool retainSizeWhenHidden()</strong></p><p>è¿”å›å°éƒ¨ä»¶éšè—æ—¶å¸ƒå±€æ˜¯å¦åº”ä¿ç•™å…¶å¤§å°ã€‚é»˜è®¤ä¸ºfalseã€‚</p><pre><code>  void setRetainSizeWhenHidden(bool retainSize)</code></pre><p>è®¾ç½®å¸ƒå±€åœ¨éšè—æ—¶æ˜¯å¦åº”ä¿ç•™å°éƒ¨ä»¶çš„å¤§å°ã€‚</p><p>7ã€<strong>void setControlType(QSizePolicy::ControlType type)</strong></p><p>è®¾ç½®åº”ç”¨å°éƒ¨ä»¶çš„æ§ä»¶ç±»å‹ã€‚</p><p>8ã€void setHeightForWidth(bool dependent) / setWidthForHeight(bool dependent)</p><p>è®¾ç½®å°éƒ¨ä»¶çš„é¦–é€‰é«˜åº¦/å®½åº¦æ˜¯å¦å–å†³äºå…¶å®½åº¦/é«˜åº¦ã€‚</p><p>9ã€<strong>void setHorizontalPolicy / setVerticalPolicy(QSizePolicy::Policy policy)</strong></p><p>è®¾ç½®æ°´å¹³/å‚ç›´æ–¹å‘ç­–ç•¥ã€‚</p><p>10ã€<strong>void setHorizontalStretch / setVerticalStretch(int stretchFactor)</strong></p><p>è®¾ç½®å¤§å°ç­–ç•¥çš„æ°´å¹³æ‹‰ä¼¸å› å­ã€‚å¿…é¡»åœ¨[0~255]èŒƒå›´å†…ã€‚</p><p>æ¯”å¦‚å½“ä¸¤ä¸ªçª—å£å°éƒ¨ä»¶åœ¨æ°´å¹³å¸ƒå±€ä¸­å½¼æ­¤ç›¸é‚»æ—¶ï¼Œå°†å·¦ä¾§çª—å£å°éƒ¨ä»¶çš„æ°´å¹³æ‹‰ä¼¸ç³»æ•°è®¾ç½®ä¸º2ï¼Œå°†å³ä¾§çª—å£å°éƒ¨ä»¶çš„ç³»æ•°è®¾ç½®ä¸º1ï¼Œå°†ç¡®ä¿å·¦ä¾§çª—å£å°éƒ¨ä»¶çš„å¤§å°å§‹ç»ˆæ˜¯å³ä¾§çª—å£å°éƒ¨ä»¶çš„ä¸¤å€ã€‚</p><p>11ã€<strong>void transpose()</strong></p><p>äº¤æ¢æ°´å¹³/å‚ç›´å¤§å°ç­–ç•¥ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">QSizePolicy transposed()</span><br></pre></td></tr></table></figure><p>è¿”å›äº¤æ¢äº†æ°´å¹³å’Œå‚ç›´ç­–ç•¥å’Œæ‹‰ä¼¸çš„å¤§å°ç­–ç•¥çš„å¯¹è±¡ã€‚</p><p>12ã€<strong>QVariant operator QVariant()</strong></p><p>è¿”å›å­˜å‚¨æ­¤QSizePolicyçš„QVariantã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">QSizePolicy sp = this-&gt;sizePolicy();</span><br><span class="line">qDebug()&lt;&lt;static_cast&lt;QVariant&gt;(sp);</span><br></pre></td></tr></table></figure><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">QSizePolicy</summary>
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="PySide6" scheme="http://example.com/tags/PySide6/"/>
    
  </entry>
  
  <entry>
    <title>ã€QTã€‘Chapter 2. PySideé¡¹ç›®02â€”â€”æ•°æ®å¯è§†åŒ–</title>
    <link href="http://example.com/2022/12/23/%E3%80%90QT%E3%80%91PySide%E9%A1%B9%E7%9B%AE02_%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E6%8A%98%E7%BA%BF%E5%9B%BE/"/>
    <id>http://example.com/2022/12/23/%E3%80%90QT%E3%80%91PySide%E9%A1%B9%E7%9B%AE02_%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E6%8A%98%E7%BA%BF%E5%9B%BE/</id>
    <published>2022-12-23T10:31:46.667Z</published>
    <updated>2022-12-23T14:51:43.586Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸€ã€é¡¹ç›®ä»‹ç»">ä¸€ã€é¡¹ç›®ä»‹ç»</h2><p>æœ¬é¡¹ç›®å°†é€šè¿‡PySide6æ„å»ºä¸€ä¸ªå¯ä»¥æ˜¾ç¤ºæ•°æ®æŠ˜çº¿å›¾çš„å¯è§†åŒ–ç¨‹åºï¼Œå…¶ä¸­ï¼Œæ•°æ®æ¥æºæ—¶ç¾å›½åœ°è´¨è°ƒæŸ¥å±€(US Geological Survey)ä¸Šå…¬å¼€çš„ä¸€å°æ—¶åœ°éœ‡éœ‡çº§æ•°æ®ã€‚</p><p>å¯ä»¥é€šè¿‡<a href="https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_day.csv">é“¾æ¥</a>è¿›è¡Œä¸‹è½½ã€‚</p><hr><h2 id="äºŒã€å®ç°æ­¥éª¤">äºŒã€å®ç°æ­¥éª¤</h2><p>æœ¬é¡¹ç›®çš„å®ç°æ­¥éª¤å¯ä»¥æ¦‚æ‹¬ä¸ºï¼š</p><ul><li>è¯»å–æ•°æ®</li><li>æ•°æ®å¤„ç†</li><li>åˆ›å»ºä¸»çª—å£</li><li>æ·»åŠ æ§ä»¶</li><li>ç»˜åˆ¶å›¾å½¢å¹¶æ˜¾ç¤ºã€</li></ul><p>é¢„æœŸç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><img src="/2022/12/23/%E3%80%90QT%E3%80%91PySide%E9%A1%B9%E7%9B%AE02_%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E6%8A%98%E7%BA%BF%E5%9B%BE/image-20221223202408064.png" alt="image-20221223202408064" style="zoom:50%;"><hr><h2 id="ä¸‰ã€å®ç°">ä¸‰ã€å®ç°</h2><p>1ï¸âƒ£ <strong>è¯»å–æ•°æ®</strong></p><p>è¿™é‡Œæˆ‘ä»¬å€ŸåŠ©<code>Pandas</code>å¯¹CSVæ–‡ä»¶è¿›è¡Œè¯»å–ã€‚<code>argparse</code>æ¨¡å—ä¸»è¦ç”¨äºå‚æ•°æ§åˆ¶ï¼Œå…·ä½“å¯è§<a href="https://torture.blog.csdn.net/article/details/123795540">è¿™ç¯‡æ–‡ç« </a>ã€‚</p><p>åˆ›å»ºä¸€ä¸ªæ–°æ–‡æ¡£<code>main.py</code>ï¼Œæ¥ä¸‹æ¥éƒ½æ˜¯ä¸€äº›ç®€å•çš„æ“ä½œï¼Œå°±ä¸åšèµ˜è¿°äº†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">read_data</span>(<span class="params">file</span>):</span><br><span class="line">    <span class="keyword">return</span> pd.read_csv(file)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    options=argparse.ArgumentParser()</span><br><span class="line">    options.add_argument(<span class="string">&quot;-f&quot;</span>,<span class="string">&quot;--file&quot;</span>,<span class="built_in">type</span>=<span class="built_in">str</span>,required=<span class="literal">True</span>)</span><br><span class="line">    args=options.parse_args()</span><br><span class="line">    data=read_data(args.file)</span><br><span class="line">    <span class="built_in">print</span>(data)</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ç»ˆç«¯è¾“å…¥<code>python main.py -f &quot;YourPath&quot;</code>æ¥æŸ¥çœ‹æ•°æ®è¯»å–æƒ…å†µã€‚</p><hr><p>2ï¸âƒ£ <strong>æ•°æ®æ¸…æ´—</strong></p><p>æˆ‘ä»¬åœ¨è¿™éƒ¨ï¼Œéœ€è¦å°†æ•°æ®ä¸­çš„æ—¥æœŸè½¬æ¢ä¸ºQtç±»å‹ï¼Œå¹¶ä¸”ç¡®ä¿æ•°æ®çš„å®Œæ•´æ€§ã€å‡†ç¡®æ€§ã€‚</p><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ•°æ®ä¸­çš„æ—¥æœŸæ˜¯UTCæ ‡å‡†(å¦‚: 2018-12-11T21:14:44,682Z)ï¼Œæˆ‘ä»¬å¯ä»¥æ¯”è¾ƒå®¹æ˜“åœ°è½¬æ¢ä¸ºQDateTimeç±»å‹ã€‚</p><p>è¿™ä¸ªQtDateTimeä½äºQtCoreæ¨¡å—ï¼Œä»QtCoreä¸­å°†å…¶å¯¼å…¥ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PySide6.QtCore <span class="keyword">import</span> QDateTime,QTimeZone</span><br></pre></td></tr></table></figure><p>æ¥ç€ï¼Œé€šè¿‡<code>QtDateTime().fromString( time , format )</code>è¿›è¡Œè½¬æ¢ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">transform_date</span>(<span class="params">utc,timezone=<span class="literal">None</span></span>):</span><br><span class="line">    <span class="comment"># æ—¥æœŸè½¬æ¢</span></span><br><span class="line">    utc_fmt=<span class="string">&quot;yyyy-MM-ddTHH:mm:ss.zzzZ&quot;</span></span><br><span class="line">    new_date=QDateTime().fromString(utc,utc_fmt)</span><br><span class="line">    <span class="keyword">if</span> timezone:</span><br><span class="line">        new_date.setTimeZone(timezone)</span><br><span class="line">    <span class="keyword">return</span> new_date</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯¹è¯»å–æ•°æ®æ–¹æ³•è¿›è¡Œä¸€å®šçš„ä¿®æ”¹ï¼Œé¦–å…ˆæ˜¯ç§»é™¤é”™è¯¯çš„éœ‡çº§æ•°æ®ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">data=pd.read_csv(file)</span><br><span class="line">data=data.drop(data[data[<span class="string">&#x27;mag&#x27;</span>]&lt;<span class="number">0</span>].index)</span><br><span class="line">magnitudes=data[<span class="string">&#x27;mag&#x27;</span>]</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œè®¾ç½®æœ¬åœ°çš„æ—¶åŒºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ—¶åŒºè®¾ç½®</span></span><br><span class="line">timezone = QTimeZone(QTimeZone.systemTimeZone()) <span class="comment"># &quot;Asia/Shanghai&quot;</span></span><br><span class="line"><span class="comment"># æ—¶é—´è½¬æ¢</span></span><br><span class="line">times=data[<span class="string">&#x27;time&#x27;</span>].apply(<span class="keyword">lambda</span> x:transform_date(x,timezone))</span><br><span class="line"><span class="keyword">return</span> times,magnitudes</span><br></pre></td></tr></table></figure><p>è™½ç„¶ä¸è¯¥åœ¨è¿™ç¯‡æ–‡æ¡£ä¸­æï¼Œä½†è¿˜æ˜¯æä¸€å˜´ï¼š</p><p>Pandaså¿«é€Ÿå¯¹æŸä¸€ç±»æ“ä½œï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Series.apply(<span class="keyword">lambda</span> x:func(x)) <span class="comment"># apply(func)ä½†æ˜¯å¦‚æœè¦è¾“å…¥å‚æ•°ï¼Œå¯ä»¥è¿™æ ·å†™: .apply(lambda x:func(x))</span></span><br></pre></td></tr></table></figure><p>å¥½äº†ï¼Œæ­¤æ—¶æˆ‘ä»¬çš„<code>read_data</code>æ–¹æ³•åº”è¯¥é•¿è¿™æ ·ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">read_data</span>(<span class="params">file</span>):</span><br><span class="line">    <span class="comment"># è¯»å–æ•°æ®</span></span><br><span class="line">    data=pd.read_csv(file)</span><br><span class="line">    <span class="comment"># å¤„ç†éœ‡çº§</span></span><br><span class="line">    data=data.drop(data[data[<span class="string">&#x27;mag&#x27;</span>]&lt;<span class="number">0</span>].index)</span><br><span class="line">    magnitudes=data[<span class="string">&#x27;mag&#x27;</span>]</span><br><span class="line">    <span class="comment"># æ—¶åŒºè®¾ç½®</span></span><br><span class="line">    timezone = QTimeZone(QTimeZone.systemTimeZone()) <span class="comment"># &quot;Asia/Shanghai&quot;</span></span><br><span class="line">    <span class="comment"># æ—¶é—´è½¬æ¢</span></span><br><span class="line">    times=data[<span class="string">&#x27;time&#x27;</span>].apply(<span class="keyword">lambda</span> x:transform_date(x,timezone))</span><br><span class="line">    <span class="keyword">return</span> times,magnitudes</span><br></pre></td></tr></table></figure><hr><p>3ï¸âƒ£ <strong>åˆ›å»ºä¸»çª—ä½“</strong></p><p>å¥½å•¦ï¼Œç»ˆäºè¦è¿›å…¥æˆ‘ä»¬çš„æ ¸å¿ƒå•¦ï¼Œè¿™ä¸€æ­¥æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªPySideä¸»çª—å£ã€‚</p><p>ä¸‹å›¾æ˜¯QMainWindowçš„å¸ƒå±€ã€‚</p><img src="/2022/12/23/%E3%80%90QT%E3%80%91PySide%E9%A1%B9%E7%9B%AE02_%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E6%8A%98%E7%BA%BF%E5%9B%BE/image-20221223210213019.png" alt="image-20221223210213019" style="zoom:50%;"><p>åœ¨æœ¬é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªâ€œæ–‡ä»¶â€èœå•ï¼Œç”¨æ¥æ‰“å¼€æ–‡ä»¶å¯¹è¯æ¡†ï¼Œå’Œä¸€ä¸ªâ€œé€€å‡ºâ€èœå•ã€‚åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶ï¼Œåº”è¯¥è¦è‡ªåŠ¨åŠ è½½çŠ¶æ€æ ã€‚</p><p>æˆ‘ä»¬æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå«åš<code>MainWindow.py</code>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PySide6.QtCore <span class="keyword">import</span> Slot</span><br><span class="line"><span class="keyword">from</span> PySide6.QtGui <span class="keyword">import</span> QAction,QKeySequence</span><br><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> QMainWindow</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MainWindow</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>(MainWindow, self).__init__()</span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p>è®©æˆ‘ä»¬çš„çª—ä½“æ§ä»¶ç»§æ‰¿è‡ªQMainWindowã€‚</p><p>ç„¶åæ˜¯èœå•æ çš„è®¾ç½®ï¼Œç›´æ¥é€‰æ‹©è·å–<code>self.menuBar()</code>å³å¯ï¼Œé€šè¿‡<code>addMenu(Str)</code>çš„æ–¹å¼ï¼Œå¯ä»¥æ·»åŠ é€‰é¡¹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è®¾ç½®èœå•æ </span></span><br><span class="line">self.menu=self.menuBar()</span><br><span class="line"><span class="comment"># æ·»åŠ  æ–‡ä»¶ èœå•é¡¹</span></span><br><span class="line">self.file_menu=self.menu.addMenu(<span class="string">&quot;æ–‡ä»¶&quot;</span>)</span><br></pre></td></tr></table></figure><p>ç„¶åæˆ‘ä»¬ä¸ºèœå•æ æ·»åŠ ä¸€ä¸ªé€€å‡ºäº‹ä»¶ã€‚è¿™ä¸ªäº‹ä»¶å¯ä»¥é€šè¿‡<code>QAction</code>æ¥ç›´æ¥ç»‘å®šã€‚<code>QAction(&quot;Exit&quot;,self)</code>è¡¨ç¤ºé€€å‡ºæœ¬çª—ä½“ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é€€å‡ºäº‹ä»¶</span></span><br><span class="line">exit_action=QAction(<span class="string">&quot;Exit&quot;</span>,self) <span class="comment"># è®¾ç½®åå­—</span></span><br><span class="line">exit_action.setShortcut(QKeySequence.Quit) <span class="comment"># è®¾ç½®å¿«æ·é”®</span></span><br><span class="line">exit_action.triggered.connect(self.close) <span class="comment"># è¯¥äº‹ä»¶ç›´æ¥ä¸closeå‡½æ•°å…³è”</span></span><br><span class="line"></span><br><span class="line">self.file_menu.addAction(exit_action)</span><br></pre></td></tr></table></figure><p>å†æ·»åŠ çŠ¶æ€æ </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># çŠ¶æ€æ </span></span><br><span class="line">self.status=self.statusBar()</span><br><span class="line">self.status.showMessage(<span class="string">&quot;Data loaded and plotted&quot;</span>)</span><br></pre></td></tr></table></figure><p>ä»¥åŠè®¾ç½®çª—å£å°ºå¯¸ï¼Œç›´æ¥é€šè¿‡<code>self.screen().availableGeometry()</code>æ–¹æ³•è·å–å½“å‰å¯ç”¨çš„çª—å£å¤§å°ï¼Œæˆ‘ä»¬å°†ä¸»çª—ä½“çš„å¤§å°è®¾ç½®ä¸ºå¯ç”¨çª—å£å¤§å°çš„(0.8,0.7)ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># çª—å£å°ºå¯¸</span></span><br><span class="line">geometry=self.screen().availableGeometry()</span><br><span class="line">self.setFixedSize(geometry.width()*<span class="number">0.8</span>,geometry.height()*<span class="number">0.7</span>)</span><br></pre></td></tr></table></figure><hr><p>4ï¸âƒ£ <strong>æ·»åŠ æ§ä»¶</strong></p><p>ç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€ä¸ªè¡¨è§†å›¾ï¼Œç”¨æ¥æ˜¾ç¤ºæ•°æ®ã€‚</p><p>æˆ‘ä»¬å¯ä»¥å»ºä¸€ä¸ªQTableViewå¯¹è±¡ï¼Œå¹¶å°†å…¶æ”¾ç½®åœ¨QHBoxLayoutä¸­ï¼Œå¹¶å°†å…¶ä½œä¸ºå°éƒ¨ä»¶ä¼ é€’ç»™æˆ‘ä»¬çš„ä¸»çª—ä½“ã€‚</p><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒQTableViewéœ€è¦ä¸€ä¸ªæ¨¡å‹æ¥æ˜¾ç¤ºä¿¡æ¯ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥ä½¿ç”¨QAbstractTableModelå®ä¾‹ã€‚</p><p>è¦å­ç±»åŒ–QAbstractTableï¼Œå¿…é¡»é‡æ–°å®ç°å®ƒçš„æŠ½è±¡æ–¹æ³•rowCount()ã€columnCount()å’Œdata()ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œå¯ä»¥ç¡®ä¿æ­£ç¡®åœ°å¤„ç†æ•°æ®ã€‚æ­¤å¤–ï¼Œé‡æ–°å®ç°headerData()æ–¹æ³•ä»¥å‘è§†å›¾æä¾›å¤´éƒ¨ä¿¡æ¯ã€‚</p><p>æˆ‘ä»¬å†æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå°±å«åš<code>TableModel.py</code>å¥½äº†ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬å®ç°äº†ä¸‰ä¸ªæŠ½è±¡æ–¹æ³•ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PySide6.QtCore <span class="keyword">import</span> Qt,QAbstractTableModel,QModelIndex</span><br><span class="line"><span class="keyword">from</span> PySide6.QtGui <span class="keyword">import</span> QColor</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CustomTableModel</span>(<span class="title class_ inherited__">QAbstractTableModel</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,data=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(CustomTableModel, self).__init__()</span><br><span class="line">        self.load_data(data)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">load_data</span>(<span class="params">self,data</span>):</span><br><span class="line">        <span class="comment"># è·å–UTCæ—¥æœŸ</span></span><br><span class="line">        self.input_dates=data[<span class="number">0</span>].values</span><br><span class="line">        <span class="comment"># è·å–éœ‡çº§</span></span><br><span class="line">        self.input_magnitudes=data[<span class="number">1</span>].values</span><br><span class="line"></span><br><span class="line">        self.column_count=<span class="number">2</span></span><br><span class="line">        self.row_count=<span class="built_in">len</span>(self.input_dates)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">rowCount</span>(<span class="params">self, parent=QModelIndex(<span class="params"></span>)</span>):</span><br><span class="line">        <span class="comment"># parentéœ€è¦è·å–Qtæ¨¡å‹ç´¢å¼•</span></span><br><span class="line">        <span class="keyword">return</span> self.row_count</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">columnCount</span>(<span class="params">self, parent=QModelIndex(<span class="params"></span>)</span>):</span><br><span class="line">        <span class="comment"># parentéœ€è¦è·å–Qtæ¨¡å‹ç´¢å¼•</span></span><br><span class="line">        <span class="keyword">return</span> self.column_count</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">headerData</span>(<span class="params">self,section,orientation,role</span>):</span><br><span class="line">        <span class="comment"># å¤´æ–‡ä»¶ä¿¡æ¯</span></span><br><span class="line">        <span class="keyword">if</span> role!=Qt.DisplayRole:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">        <span class="keyword">if</span> orientation==Qt.Horizontal:</span><br><span class="line">            <span class="keyword">return</span> (<span class="string">&quot;Date&quot;</span>,<span class="string">&quot;Magnitude&quot;</span>)[section]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">f&quot;<span class="subst">&#123;section&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">data</span>(<span class="params">self,index,role=Qt.DisplayRole</span>):</span><br><span class="line">        <span class="comment"># éœ€è¦å®ç°çš„æŠ½è±¡æ–¹æ³•</span></span><br><span class="line">        <span class="comment"># indexæ˜¯ç´¢å¼•ä½ç½®ï¼Œroleæ˜¯å½“å‰çŠ¶æ€</span></span><br><span class="line">        </span><br><span class="line">        column=index.column() </span><br><span class="line">        row=index.row()</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> role==Qt.DisplayRole:</span><br><span class="line">            <span class="comment"># å¦‚æœå½“å‰åœ¨æ˜¾ç¤º</span></span><br><span class="line">            <span class="keyword">if</span> column==<span class="number">0</span>:</span><br><span class="line">                <span class="comment"># è¡¨ç¤ºå½“å‰çš„ä½ç½®ä¸ºï¼š row,0 ç†åº”è¿”å›dateæ•°æ®</span></span><br><span class="line">                <span class="comment"># è¿”å›stræ ¼å¼çš„æ•°æ®ï¼Œé™¤äº†æ—¶åŒº </span></span><br><span class="line">                date=self.input_dates[row].toPython()</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">str</span>(date)[:-<span class="number">3</span>]</span><br><span class="line">            <span class="keyword">elif</span> column==<span class="number">1</span>:</span><br><span class="line">                <span class="comment"># è¿”å›éœ‡çº§æ•°æ®</span></span><br><span class="line">                magnitude=self.input_magnitudes[row]</span><br><span class="line">                <span class="keyword">return</span> <span class="string">f&quot;<span class="subst">&#123;magnitude:<span class="number">.2</span>f&#125;</span>&quot;</span></span><br><span class="line">            </span><br><span class="line">        <span class="keyword">elif</span> role==Qt.BackgroundRole:</span><br><span class="line">            <span class="comment"># åœ¨èƒŒåçš„è¯å°±è¿”å›ä¸€ä¸ªé¢œè‰²</span></span><br><span class="line">            <span class="keyword">return</span> QColor(Qt.white)</span><br><span class="line">        <span class="keyword">elif</span> role==Qt.TextAlignmentRole:</span><br><span class="line">            <span class="keyword">return</span> Qt.AlignRight</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br></pre></td></tr></table></figure><p>æ¥ç€å°±å¯ä»¥å†æ„å»ºæˆ‘ä»¬è‡ªå·±çš„å°æ§ä»¶å•¦ï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œå«åš<code>TableWidge</code>ï¼Œå°†æˆ‘ä»¬çš„æ¨¡å‹å¯¼å…¥ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> (QHBoxLayout,QHeaderView,QSizePolicy,QTableView,QWidget)</span><br><span class="line"><span class="keyword">from</span> Q003_TableModel <span class="keyword">import</span> CustomTableModel <span class="comment"># æˆ‘è¿™é‡Œæ˜¯å†™ä½œQ003ï¼Œå»æ‰å°±è¡Œï¼Œæ¢æˆä¸Šä¸€ä¸ªæ–‡ä»¶çš„åå­—</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Widget</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,data</span>):</span><br><span class="line">        <span class="built_in">super</span>(Widget, self).__init__()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># è·å–TableModel</span></span><br><span class="line">        self.model=CustomTableModel(data) <span class="comment"># åŸºäºTableModelçš„æ•°æ®è¯»å–</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># åˆ›å»ºè¡¨è§†å›¾</span></span><br><span class="line">        self.table_view=QTableView()</span><br><span class="line">        self.table_view.setModel(self.model) <span class="comment"># è®¾ç½®æ¨¡å‹</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># è®¾ç½®è¡¨è§†å›¾çš„æ ‡å¤´</span></span><br><span class="line">        self.horizontal_header=self.table_view.horizontalHeader()</span><br><span class="line">        self.vertical_header=self.table_view.verticalHeader()</span><br><span class="line">        self.horizontal_header.setSectionResizeMode(</span><br><span class="line">            QHeaderView.ResizeToContents</span><br><span class="line">        )<span class="comment"># ä¾æ®å†…å®¹è‡ªåŠ¨è®¾ç½®å°ºå¯¸</span></span><br><span class="line">        self.vertical_header.setSectionResizeMode(</span><br><span class="line">            QHeaderView.ResizeToContents</span><br><span class="line">        )</span><br><span class="line">        self.horizontal_header.setStretchLastSection(<span class="literal">True</span>) <span class="comment"># æ‹‰ä¼¸éƒ¨ä»¶</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># è®¾ç½®å¸ƒå±€</span></span><br><span class="line">        self.main_layout=QHBoxLayout()</span><br><span class="line">        size=QSizePolicy(QSizePolicy.Preferred,QSizePolicy.Preferred) <span class="comment"># é»˜è®¤sizeHint()ä¸ºæœ€ä¼˜å°ºå¯¸çš„ç­–ç•¥</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ°´å¹³å¸ƒå±€</span></span><br><span class="line">        size.setHorizontalStretch(<span class="number">1</span>) <span class="comment"># è®¾ç½®æ°´å¹³æ‹‰ä¼¸å› å­ä¸º1</span></span><br><span class="line">        self.table_view.setSizePolicy(size) <span class="comment"># å¯¹ç»„ä»¶åº”ç”¨å°ºå¯¸ç­–ç•¥</span></span><br><span class="line">        self.main_layout.addWidget(self.table_view) <span class="comment"># mainlayoutæ˜¯ä¸€ä¸ªæ°´å¹³å¸ƒå±€ç›’å­ï¼Œå°†æˆ‘ä»¬çš„ç»„ä»¶åŠ è¿›æ¥</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># å°†å¸ƒå±€è®¾ç½®åˆ°QWidgetä¸­</span></span><br><span class="line">        self.setLayout(self.main_layout) <span class="comment"># æœ€åï¼Œå°†æˆ‘ä»¬çš„æ°´å¹³ç›’å­è®¾ä¸ºå°ç»„ä»¶çš„å¸ƒå±€</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>QSizePolicy ç±»æ˜¯å¸ƒå±€å±æ€§ï¼Œæè¿°äº†æ°´å¹³å’Œå‚ç›´å¤§å°è°ƒæ•´ç­–ç•¥ï¼Œéƒ¨åˆ†å‚æ•°å¦‚ä¸‹ï¼š</p><table><thead><tr><th style="text-align:center">å‚æ•°å</th><th style="text-align:center">ä½œç”¨</th></tr></thead><tbody><tr><td style="text-align:center">Fixed</td><td style="text-align:center">sizeå›ºå®šä¸ºQwidget.sizeHint()</td></tr><tr><td style="text-align:center">Minimum</td><td style="text-align:center">sizeä¸èƒ½å°äºsizeHint()çš„å¤§å°</td></tr><tr><td style="text-align:center">Maximum</td><td style="text-align:center">sizeä¸èƒ½å¤§äºsizeHint()çš„å¤§å°</td></tr><tr><td style="text-align:center">Preferred</td><td style="text-align:center">æœ€ä½³sizeä¸ºsizeHint()</td></tr><tr><td style="text-align:center">Expanding</td><td style="text-align:center">sizeHintæ˜¯æ¨èçš„size,ä½†å°½å¯èƒ½åœ°è·å–æ›´å¤§çš„ç©ºé—´</td></tr><tr><td style="text-align:center">Ignored</td><td style="text-align:center">sizeHint()è¢«å¿½ç•¥ï¼Œå°éƒ¨ä»¶å°†å°½å¯èƒ½è·å–ç©ºé—´</td></tr></tbody></table><p>è¿™é‡Œæˆ‘ä»¬ç”¨åˆ°äº†<code>void setHorizontalStretch\setVerticalStretch (int stretchFactor)</code>æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯ç”¨æ¥è®¾ç½®å¤§å°ç­–ç•¥çš„æ°´å¹³/å‚ç›´æ‹‰ä¼¸å› å­çš„ï¼ŒèŒƒå›´å¿…é¡»åœ¨[0,255]ã€‚ä¸¾ä¸ªæ —å­ï¼Œå½“æœ‰ä¸¤ä¸ªéƒ¨ä»¶æ°´å¹³ç›¸é‚»æ—¶ï¼Œå·¦è¾¹çš„éƒ¨ä»¶æ‹‰ä¼¸ç³»æ•°ä¸º2ï¼Œå³è¾¹çš„æ‹‰æ·±ç³»æ•°ä¸º1ï¼Œé‚£ä¹ˆå°†ç¡®ä¿å·¦è¾¹çª—å£çš„å¤§å°å§‹ç»ˆæ˜¯å³è¾¹çš„ä¸¤å€ã€‚</p><p>å¥½äº†ï¼Œç°åœ¨æˆ‘ä»¬æœ‰ä¸€ä¸ªTableViewç»„ä»¶å•¦ï¼Œå°†å…¶åŠ å…¥ä¸»çª—å£ã€‚åœ¨<code>MainWindow.py</code>æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MainWindow</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,widget</span>):</span><br><span class="line">        <span class="built_in">super</span>(MainWindow, self).__init__()</span><br><span class="line">        self.setCentralWidget(widget)</span><br></pre></td></tr></table></figure><p>åœ¨<code>main.py</code>ä¸­æ·»åŠ ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> resource.OtherSupportPyFile.Q003_DataProcess <span class="keyword">import</span> MainWindow</span><br><span class="line"><span class="comment"># æ³¨æ„å†™æˆè‡ªå·±çš„è·¯å¾„å’Œæ–‡ä»¶å</span></span><br><span class="line"><span class="keyword">from</span> resource.OtherSupportPyFile.Q003_Table <span class="keyword">import</span> Widget</span><br><span class="line"><span class="comment"># æ³¨æ„å†™æˆè‡ªå·±çš„è·¯å¾„å’Œæ–‡ä»¶å</span></span><br><span class="line"><span class="keyword">import</span> sys </span><br><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> QApplication</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    options=argparse.ArgumentParser()</span><br><span class="line">    options.add_argument(<span class="string">&quot;-f&quot;</span>,<span class="string">&quot;--file&quot;</span>,<span class="built_in">type</span>=<span class="built_in">str</span>,required=<span class="literal">True</span>)</span><br><span class="line">    args=options.parse_args()</span><br><span class="line">    data=read_data(args.file)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># åˆ›å»ºåº”ç”¨ç¨‹åº</span></span><br><span class="line">    app=QApplication()</span><br><span class="line">    widget=Widget(data)</span><br><span class="line">    window=MainWindow(widget)</span><br><span class="line">    window.show()</span><br><span class="line"></span><br><span class="line">    sys.exit(app.<span class="built_in">exec</span>())</span><br></pre></td></tr></table></figure><p>å¥½äº†ï¼Œæœ€åçš„ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p><img src="/2022/12/23/%E3%80%90QT%E3%80%91PySide%E9%A1%B9%E7%9B%AE02_%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E6%8A%98%E7%BA%BF%E5%9B%BE/image-20221223221445259.png" alt="image-20221223221445259" style="zoom:50%;"><hr><p>5ï¸âƒ£ <strong>æ·»åŠ å¹¶ç»˜åˆ¶å›¾</strong></p><p>æœ‰äº†è¡¨åï¼Œå°±è¦æ·»åŠ å›¾äº†ï¼æˆ‘ä»¬åœ¨ä¹‹å‰çš„<code>TableWidge.py</code>ä¸Šä¿®æ”¹ï¼ŒåŸºäº<code>Pyside6.QCharts</code>ç»˜åˆ¶å›¾å½¢ã€‚</p><p>é¦–å…ˆæ˜¯å¯¼å…¥æ¨¡å—ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> (QHBoxLayout,QHeaderView,QSizePolicy,QTableView,QWidget)</span><br><span class="line"><span class="keyword">from</span> .Q003_TableModel <span class="keyword">import</span> CustomTableModel</span><br><span class="line"><span class="keyword">from</span> PySide6.QtCharts <span class="keyword">import</span> QChart,QChartView,QLineSeries,QDateTimeAxis,QValueAxis</span><br><span class="line"><span class="keyword">from</span> PySide6.QtGui <span class="keyword">import</span> QPainter</span><br><span class="line"><span class="keyword">from</span> PySide6.QtCore <span class="keyword">import</span> QDateTime,Qt</span><br></pre></td></tr></table></figure><p>æ·»åŠ åˆ›å»ºå›¾çš„æ–¹æ³•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ›å»ºQChartå¯¹è±¡</span></span><br><span class="line">self.chat=QChart()</span><br><span class="line">self.chat.setAnimationOptions(QChart.AllAnimations) <span class="comment"># è®¾ç½®ç§»åŠ¨åŠ¨ç”»</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºè¡¨è§†å›¾</span></span><br><span class="line">self.chat_view=QChartView(self.chat)</span><br><span class="line">self.chat_view.setRenderHint(QPainter.Antialiasing) <span class="comment"># æŠ—é”¯é½¿</span></span><br></pre></td></tr></table></figure><p>å°†å›¾è®¾ç½®ä¸ºå³è¾¹ï¼Œä¸”å¤§å°æ˜¯è¡¨çš„å››å€</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å³å¸ƒå±€</span></span><br><span class="line">size.setHorizontalStretch(<span class="number">4</span>)</span><br><span class="line">self.chat_view.setSizePolicy(size)</span><br><span class="line">self.main_layout.addWidget(self.chat_view)</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ·»åŠ åºåˆ—çš„æ–¹æ³•ï¼Œç”¨æ¥ä¸ºChartè¯»å–æ•°æ®~</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">add_series</span>(<span class="params">self,name</span>):</span><br><span class="line">    <span class="comment"># åˆ›å»ºçº¿åºåˆ—QLineSeries</span></span><br><span class="line">    self.series=QLineSeries()</span><br><span class="line">    self.series.setName(name)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¡«å……QLineSeries</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(self.model.row_count):</span><br><span class="line"></span><br><span class="line">        t=self.model.index(i,<span class="number">0</span>).data()</span><br><span class="line">        data_fmt=<span class="string">&quot;yyyy-MM-dd HH:mm:ss.zzz&quot;</span></span><br><span class="line">        x=QDateTime().fromString(t,data_fmt).toSecsSinceEpoch() <span class="comment"># è½¬åŒ–ä¸ºæ—¶é—´æˆ³</span></span><br><span class="line">        y=<span class="built_in">float</span>(self.model.index(i,<span class="number">1</span>).data())</span><br><span class="line">        <span class="keyword">if</span> x&gt;<span class="number">0</span> <span class="keyword">and</span> y&gt;<span class="number">0</span>:</span><br><span class="line">            self.series.append(x,y)</span><br><span class="line"></span><br><span class="line">    self.chat.addSeries(self.series)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¾ç½®å›¾æ ·å¼</span></span><br><span class="line">    <span class="comment"># è®¾ç½®xåæ ‡</span></span><br><span class="line">    self.axis_x=QDateTimeAxis()</span><br><span class="line">    self.axis_x.setTickCount(<span class="number">10</span>) <span class="comment"># è®¾ç½®é—´éš”</span></span><br><span class="line">    <span class="comment"># self.axis_x.setFormat(&quot;dd.MM (h:mm)&quot;) # è®¾ç½®æ—¶é—´æ˜¾ç¤º</span></span><br><span class="line">    self.axis_x.setFormat(<span class="string">&quot;MM.dd&quot;</span>) <span class="comment"># è®¾ç½®æ—¶é—´æ˜¾ç¤º</span></span><br><span class="line">    self.axis_x.setTitleText(<span class="string">&quot;Date&quot;</span>)</span><br><span class="line">    self.chat.addAxis(self.axis_x,Qt.AlignBottom) <span class="comment"># åœ¨è¡¨æ ¼ä¸­åŠ å…¥åæ ‡ï¼Œä½ç½®ä¸ºåº•éƒ¨</span></span><br><span class="line">    self.series.attachAxis(self.axis_x) <span class="comment"># è‡ªåŠ¨è®©QLineSeriesè´´é™„</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># è®¾ç½®yåæ ‡</span></span><br><span class="line">    self.axis_y=QValueAxis()</span><br><span class="line">    self.axis_y.setTickCount(<span class="number">10</span>)</span><br><span class="line">    self.axis_y.setLabelFormat(<span class="string">&quot;%.2f&quot;</span>)</span><br><span class="line">    self.axis_y.setTitleText(<span class="string">&quot;Magnitude&quot;</span>)</span><br><span class="line">    self.chat.addAxis(self.axis_y,Qt.AlignLeft)</span><br><span class="line">    self.series.attachAxis(self.axis_y)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ä»Chartä¸Šè·å–é¢œè‰²ï¼Œå¹¶åœ¨QTableViewä¸Šä½¿ç”¨</span></span><br><span class="line">    color_name=self.series.pen().color().name()</span><br><span class="line">    self.model.color=<span class="string">f&quot;<span class="subst">&#123;color_name&#125;</span>&quot;</span></span><br></pre></td></tr></table></figure><p>å°†å…¶åœ¨åˆå§‹åŒ–æ–¹æ³•ä¸­ç»‘å®šï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">self.add_series(<span class="string">&quot;Magnitude&quot;</span>)</span><br></pre></td></tr></table></figure><p>æœ€ç»ˆçš„ç»“æœå¦‚ä¸‹ï¼</p><img src="/2022/12/23/%E3%80%90QT%E3%80%91PySide%E9%A1%B9%E7%9B%AE02_%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96%E6%8A%98%E7%BA%BF%E5%9B%BE/image-20221223224746459.png" alt="image-20221223224746459" style="zoom:50%;"><hr><p>å®Œæ•´ä»£ç é™„ä¸Šï¼š</p><p>1ï¸âƒ£<strong>Q003_TableModel.py</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PySide6.QtCore <span class="keyword">import</span> Qt,QAbstractTableModel,QModelIndex</span><br><span class="line"><span class="keyword">from</span> PySide6.QtGui <span class="keyword">import</span> QColor</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CustomTableModel</span>(<span class="title class_ inherited__">QAbstractTableModel</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,data=<span class="literal">None</span></span>):</span><br><span class="line">        <span class="built_in">super</span>(CustomTableModel, self).__init__()</span><br><span class="line">        self.load_data(data)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">load_data</span>(<span class="params">self,data</span>):</span><br><span class="line">        <span class="comment"># è·å–UTCæ—¥æœŸ</span></span><br><span class="line">        self.input_dates=data[<span class="number">0</span>].values</span><br><span class="line">        <span class="comment"># è·å–éœ‡çº§</span></span><br><span class="line">        self.input_magnitudes=data[<span class="number">1</span>].values</span><br><span class="line"></span><br><span class="line">        self.column_count=<span class="number">2</span></span><br><span class="line">        self.row_count=<span class="built_in">len</span>(self.input_dates)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">rowCount</span>(<span class="params">self, parent=QModelIndex(<span class="params"></span>)</span>):</span><br><span class="line">        <span class="comment"># parentéœ€è¦è·å–Qtæ¨¡å‹ç´¢å¼•</span></span><br><span class="line">        <span class="keyword">return</span> self.row_count</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">columnCount</span>(<span class="params">self, parent=QModelIndex(<span class="params"></span>)</span>):</span><br><span class="line">        <span class="comment"># parentéœ€è¦è·å–Qtæ¨¡å‹ç´¢å¼•</span></span><br><span class="line">        <span class="keyword">return</span> self.column_count</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">headerData</span>(<span class="params">self,section,orientation,role</span>):</span><br><span class="line">        <span class="comment"># å¤´æ–‡ä»¶ä¿¡æ¯</span></span><br><span class="line">        <span class="keyword">if</span> role!=Qt.DisplayRole:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">        <span class="keyword">if</span> orientation==Qt.Horizontal:</span><br><span class="line">            <span class="keyword">return</span> (<span class="string">&quot;Date&quot;</span>,<span class="string">&quot;Magnitude&quot;</span>)[section]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">f&quot;<span class="subst">&#123;section&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">data</span>(<span class="params">self,index,role=Qt.DisplayRole</span>):</span><br><span class="line">        <span class="comment"># éœ€è¦å®ç°çš„æŠ½è±¡æ–¹æ³•</span></span><br><span class="line">        <span class="comment"># indexæ˜¯ç´¢å¼•ä½ç½®ï¼Œroleæ˜¯å½“å‰çŠ¶æ€</span></span><br><span class="line"></span><br><span class="line">        column=index.column()</span><br><span class="line">        row=index.row()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> role==Qt.DisplayRole:</span><br><span class="line">            <span class="comment"># å¦‚æœå½“å‰åœ¨æ˜¾ç¤º</span></span><br><span class="line">            <span class="keyword">if</span> column==<span class="number">0</span>:</span><br><span class="line">                <span class="comment"># è¡¨ç¤ºå½“å‰çš„ä½ç½®ä¸ºï¼š row,0 ç†åº”è¿”å›dateæ•°æ®</span></span><br><span class="line">                <span class="comment"># è¿”å›stræ ¼å¼çš„æ•°æ®ï¼Œé™¤äº†æ—¶åŒº</span></span><br><span class="line">                date=self.input_dates[row].toPython()</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">str</span>(date)[:-<span class="number">3</span>]</span><br><span class="line">            <span class="keyword">elif</span> column==<span class="number">1</span>:</span><br><span class="line">                <span class="comment"># è¿”å›éœ‡çº§æ•°æ®</span></span><br><span class="line">                magnitude=self.input_magnitudes[row]</span><br><span class="line">                <span class="keyword">return</span> <span class="string">f&quot;<span class="subst">&#123;magnitude:<span class="number">.2</span>f&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">elif</span> role==Qt.BackgroundRole:</span><br><span class="line">            <span class="comment"># åœ¨èƒŒåçš„è¯å°±è¿”å›ä¸€ä¸ªé¢œè‰²</span></span><br><span class="line">            <span class="keyword">return</span> QColor(Qt.white)</span><br><span class="line">        <span class="keyword">elif</span> role==Qt.TextAlignmentRole:</span><br><span class="line">            <span class="keyword">return</span> Qt.AlignRight</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br></pre></td></tr></table></figure><p>2ï¸âƒ£ <strong>Q003_DataProcess.py</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PySide6.QtGui <span class="keyword">import</span> QAction,QKeySequence</span><br><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> QMainWindow</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MainWindow</span>(<span class="title class_ inherited__">QMainWindow</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,widget</span>):</span><br><span class="line">        <span class="built_in">super</span>(MainWindow, self).__init__()</span><br><span class="line">        self.setWindowTitle(<span class="string">&quot;Earquakes Information&quot;</span>)</span><br><span class="line">        self.setCentralWidget(widget)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># è®¾ç½®èœå•æ </span></span><br><span class="line">        self.menu=self.menuBar()</span><br><span class="line">        <span class="comment"># æ·»åŠ  æ–‡ä»¶ èœå•é¡¹</span></span><br><span class="line">        self.file_menu=self.menu.addMenu(<span class="string">&quot;æ–‡ä»¶&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># é€€å‡ºäº‹ä»¶</span></span><br><span class="line">        exit_action = QAction(<span class="string">&quot;Exit&quot;</span>, self)  <span class="comment"># è®¾ç½®åå­—</span></span><br><span class="line">        exit_action.setShortcut(QKeySequence.Quit)  <span class="comment"># è®¾ç½®å¿«æ·é”®</span></span><br><span class="line">        exit_action.triggered.connect(self.close)  <span class="comment"># è¯¥äº‹ä»¶ç›´æ¥ä¸closeå‡½æ•°å…³è”</span></span><br><span class="line"></span><br><span class="line">        self.file_menu.addAction(exit_action)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># çŠ¶æ€æ </span></span><br><span class="line">        self.status=self.statusBar()</span><br><span class="line">        self.status.showMessage(<span class="string">&quot;Data loaded and plotted&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># çª—å£å°ºå¯¸</span></span><br><span class="line">        geometry=self.screen().availableGeometry()</span><br><span class="line">        self.setFixedSize(geometry.width()*<span class="number">0.8</span>,geometry.height()*<span class="number">0.7</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>3ï¸âƒ£ <strong>Q003_Table.py</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> (QHBoxLayout,QHeaderView,QSizePolicy,QTableView,QWidget)</span><br><span class="line"><span class="keyword">from</span> .Q003_TableModel <span class="keyword">import</span> CustomTableModel</span><br><span class="line"><span class="keyword">from</span> PySide6.QtCharts <span class="keyword">import</span> QChart,QChartView,QLineSeries,QDateTimeAxis,QValueAxis</span><br><span class="line"><span class="keyword">from</span> PySide6.QtGui <span class="keyword">import</span> QPainter</span><br><span class="line"><span class="keyword">from</span> PySide6.QtCore <span class="keyword">import</span> QDateTime,Qt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Widget</span>(<span class="title class_ inherited__">QWidget</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,data</span>):</span><br><span class="line">        <span class="built_in">super</span>(Widget, self).__init__()</span><br><span class="line"></span><br><span class="line">        <span class="comment"># è·å–TableModel</span></span><br><span class="line">        self.model=CustomTableModel(data) <span class="comment"># åŸºäºTableModelçš„æ•°æ®è¯»å–</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># åˆ›å»ºè¡¨è§†å›¾</span></span><br><span class="line">        self.table_view=QTableView()</span><br><span class="line">        self.table_view.setModel(self.model) <span class="comment"># è®¾ç½®æ¨¡å‹</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># è®¾ç½®è¡¨è§†å›¾çš„æ ‡å¤´</span></span><br><span class="line">        self.horizontal_header=self.table_view.horizontalHeader()</span><br><span class="line">        self.vertical_header=self.table_view.verticalHeader()</span><br><span class="line">        self.horizontal_header.setSectionResizeMode(</span><br><span class="line">            QHeaderView.ResizeToContents</span><br><span class="line">        )<span class="comment"># ä¾æ®å†…å®¹è‡ªåŠ¨è®¾ç½®å°ºå¯¸</span></span><br><span class="line">        self.vertical_header.setSectionResizeMode(</span><br><span class="line">            QHeaderView.ResizeToContents</span><br><span class="line">        )</span><br><span class="line">        self.horizontal_header.setStretchLastSection(<span class="literal">True</span>) <span class="comment"># æ‹‰ä¼¸éƒ¨ä»¶</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># åˆ›å»ºQChartå¯¹è±¡</span></span><br><span class="line">        self.chat=QChart()</span><br><span class="line">        self.chat.setAnimationOptions(QChart.AllAnimations) <span class="comment"># è®¾ç½®ç§»åŠ¨åŠ¨ç”»</span></span><br><span class="line">        self.add_series(<span class="string">&quot;Magnitude&quot;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># åˆ›å»ºè¡¨è§†å›¾</span></span><br><span class="line">        self.chat_view=QChartView(self.chat)</span><br><span class="line">        self.chat_view.setRenderHint(QPainter.Antialiasing) <span class="comment"># æŠ—é”¯é½¿</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment"># è®¾ç½®å¸ƒå±€</span></span><br><span class="line">        self.main_layout=QHBoxLayout()</span><br><span class="line">        size=QSizePolicy(QSizePolicy.Preferred,QSizePolicy.Preferred) <span class="comment"># é»˜è®¤sizeHint()ä¸ºæœ€ä¼˜å°ºå¯¸çš„ç­–ç•¥</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># å·¦å¸ƒå±€</span></span><br><span class="line">        size.setHorizontalStretch(<span class="number">1</span>) <span class="comment"># è®¾ç½®æ°´å¹³æ‹‰ä¼¸å› å­ä¸º1</span></span><br><span class="line">        self.table_view.setSizePolicy(size) <span class="comment"># å¯¹ç»„ä»¶åº”ç”¨å°ºå¯¸ç­–ç•¥</span></span><br><span class="line">        self.main_layout.addWidget(self.table_view) <span class="comment"># mainlayoutæ˜¯ä¸€ä¸ªæ°´å¹³å¸ƒå±€ç›’å­ï¼Œå°†æˆ‘ä»¬çš„ç»„ä»¶åŠ è¿›æ¥</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># å³å¸ƒå±€</span></span><br><span class="line">        size.setHorizontalStretch(<span class="number">4</span>)</span><br><span class="line">        self.chat_view.setSizePolicy(size)</span><br><span class="line">        self.main_layout.addWidget(self.chat_view)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># å°†å¸ƒå±€è®¾ç½®åˆ°QWidgetä¸­</span></span><br><span class="line">        self.setLayout(self.main_layout) <span class="comment"># æœ€åï¼Œå°†æˆ‘ä»¬çš„æ°´å¹³ç›’å­è®¾ä¸ºå°ç»„ä»¶çš„å¸ƒå±€</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">add_series</span>(<span class="params">self,name</span>):</span><br><span class="line">        <span class="comment"># åˆ›å»ºçº¿åºåˆ—QLineSeries</span></span><br><span class="line">        self.series=QLineSeries()</span><br><span class="line">        self.series.setName(name)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># å¡«å……QLineSeries</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(self.model.row_count):</span><br><span class="line"></span><br><span class="line">            t=self.model.index(i,<span class="number">0</span>).data()</span><br><span class="line">            data_fmt=<span class="string">&quot;yyyy-MM-dd HH:mm:ss.zzz&quot;</span></span><br><span class="line">            x=QDateTime().fromString(t,data_fmt).toSecsSinceEpoch() <span class="comment"># è½¬åŒ–ä¸ºæ—¶é—´æˆ³</span></span><br><span class="line">            y=<span class="built_in">float</span>(self.model.index(i,<span class="number">1</span>).data())</span><br><span class="line">            <span class="keyword">if</span> x&gt;<span class="number">0</span> <span class="keyword">and</span> y&gt;<span class="number">0</span>:</span><br><span class="line">                self.series.append(x,y)</span><br><span class="line"></span><br><span class="line">        self.chat.addSeries(self.series)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># è®¾ç½®å›¾æ ·å¼</span></span><br><span class="line">        <span class="comment"># è®¾ç½®xåæ ‡</span></span><br><span class="line">        self.axis_x=QDateTimeAxis()</span><br><span class="line">        self.axis_x.setTickCount(<span class="number">10</span>) <span class="comment"># è®¾ç½®é—´éš”</span></span><br><span class="line">        <span class="comment"># self.axis_x.setFormat(&quot;dd.MM (h:mm)&quot;) # è®¾ç½®æ—¶é—´æ˜¾ç¤º</span></span><br><span class="line">        self.axis_x.setFormat(<span class="string">&quot;MM.dd&quot;</span>) <span class="comment"># è®¾ç½®æ—¶é—´æ˜¾ç¤º</span></span><br><span class="line">        self.axis_x.setTitleText(<span class="string">&quot;Date&quot;</span>)</span><br><span class="line">        self.chat.addAxis(self.axis_x,Qt.AlignBottom) <span class="comment"># åœ¨è¡¨æ ¼ä¸­åŠ å…¥åæ ‡ï¼Œä½ç½®ä¸ºåº•éƒ¨</span></span><br><span class="line">        self.series.attachAxis(self.axis_x) <span class="comment"># è‡ªåŠ¨è®©QLineSeriesè´´é™„</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># è®¾ç½®yåæ ‡</span></span><br><span class="line">        self.axis_y=QValueAxis()</span><br><span class="line">        self.axis_y.setTickCount(<span class="number">10</span>)</span><br><span class="line">        self.axis_y.setLabelFormat(<span class="string">&quot;%.2f&quot;</span>)</span><br><span class="line">        self.axis_y.setTitleText(<span class="string">&quot;Magnitude&quot;</span>)</span><br><span class="line">        self.chat.addAxis(self.axis_y,Qt.AlignLeft)</span><br><span class="line">        self.series.attachAxis(self.axis_y)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ä»Chartä¸Šè·å–é¢œè‰²ï¼Œå¹¶åœ¨QTableViewä¸Šä½¿ç”¨</span></span><br><span class="line">        color_name=self.series.pen().color().name()</span><br><span class="line">        self.model.color=<span class="string">f&quot;<span class="subst">&#123;color_name&#125;</span>&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>4ï¸âƒ£ <strong><a href="http://Main.py">Main.py</a></strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> PySide6.QtCore <span class="keyword">import</span> QDateTime,QTimeZone</span><br><span class="line"><span class="keyword">from</span> PySide6.QtWidgets <span class="keyword">import</span> QApplication</span><br><span class="line"><span class="keyword">from</span> resource.OtherSupportPyFile.Q003_DataProcess <span class="keyword">import</span> MainWindow</span><br><span class="line"><span class="keyword">from</span> resource.OtherSupportPyFile.Q003_Table <span class="keyword">import</span> Widget</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">transform_date</span>(<span class="params">utc,timezone=<span class="literal">None</span></span>):</span><br><span class="line">    <span class="comment"># æ—¥æœŸè½¬æ¢</span></span><br><span class="line">    utc_fmt=<span class="string">&quot;yyyy-MM-ddTHH:mm:ss.zzzZ&quot;</span></span><br><span class="line">    new_date=QDateTime().fromString(utc,utc_fmt)</span><br><span class="line">    <span class="keyword">if</span> timezone:</span><br><span class="line">        new_date.setTimeZone(timezone)</span><br><span class="line">    <span class="keyword">return</span> new_date</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">read_data</span>(<span class="params">file</span>):</span><br><span class="line">    <span class="comment"># è¯»å–æ•°æ®</span></span><br><span class="line">    data=pd.read_csv(file)</span><br><span class="line">    <span class="comment"># å¤„ç†éœ‡çº§</span></span><br><span class="line">    data=data.drop(data[data[<span class="string">&#x27;mag&#x27;</span>]&lt;<span class="number">0</span>].index)</span><br><span class="line">    magnitudes=data[<span class="string">&#x27;mag&#x27;</span>]</span><br><span class="line">    <span class="comment"># æ—¶åŒºè®¾ç½®</span></span><br><span class="line">    timezone = QTimeZone(QTimeZone.systemTimeZone()) <span class="comment"># &quot;Asia/Shanghai&quot;</span></span><br><span class="line">    <span class="comment"># æ—¶é—´è½¬æ¢</span></span><br><span class="line">    times=data[<span class="string">&#x27;time&#x27;</span>].apply(<span class="keyword">lambda</span> x:transform_date(x,timezone))</span><br><span class="line">    <span class="keyword">return</span> times,magnitudes</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    options=argparse.ArgumentParser()</span><br><span class="line">    options.add_argument(<span class="string">&quot;-f&quot;</span>,<span class="string">&quot;--file&quot;</span>,<span class="built_in">type</span>=<span class="built_in">str</span>,required=<span class="literal">True</span>)</span><br><span class="line">    args=options.parse_args()</span><br><span class="line">    data=read_data(args.file)</span><br><span class="line">    <span class="comment"># åˆ›å»ºåº”ç”¨ç¨‹åº</span></span><br><span class="line">    app=QApplication()</span><br><span class="line">    widget=Widget(data)</span><br><span class="line">    window=MainWindow(widget)</span><br><span class="line">    window.show()</span><br><span class="line"></span><br><span class="line">    sys.exit(app.<span class="built_in">exec</span>())</span><br></pre></td></tr></table></figure><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">æœ‰å…³PyQTçš„å…¥é—¨çŸ¥è¯†å‘€</summary>
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="PySide6" scheme="http://example.com/tags/PySide6/"/>
    
  </entry>
  
  <entry>
    <title>ã€QTã€‘Chapter 1. PySideå…¥é—¨çŸ¥è¯†</title>
    <link href="http://example.com/2022/12/23/%E3%80%90QT%E3%80%91PySide%E5%85%A5%E9%97%A8%E7%9F%A5%E8%AF%86/"/>
    <id>http://example.com/2022/12/23/%E3%80%90QT%E3%80%91PySide%E5%85%A5%E9%97%A8%E7%9F%A5%E8%AF%86/</id>
    <published>2022-12-23T05:30:00.698Z</published>
    <updated>2022-12-23T12:19:39.863Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸€ã€ä»€ä¹ˆæ˜¯PyQt">ä¸€ã€ä»€ä¹ˆæ˜¯PyQt</h2><p>ç®€å•æ¥è¯´ï¼ŒPyQtå°±æ˜¯ç”¨Pythoné‡æ„çš„Qtï¼Œä¸€ä¸ªå¼ºå¤§çš„ï¼Œåˆ›å»ºè·¨å¹³å°GUI(Graphical User Interface)çš„å·¥å…·åŒ…ã€‚å¼€å‘è€…ä¸º<code>Phil Thompson</code>ã€‚</p><h2 id="äºŒã€PySideä¸PyQt">äºŒã€PySideä¸PyQt</h2><p>PyQtå’ŒPySideéƒ½æ˜¯åŸºäºPythonè¯­è¨€å¯¹Qtçš„å®ç°ï¼ŒPyQtçš„æ¨å‡ºæ—¶é—´è¦æ¯”PySideæ—©äº›ï¼ŒåŠŸèƒ½ä¹Ÿç›¸å¯¹æ›´å¼ºå¤§ï¼Œä½†æ˜¯ï¼ŒPyQté‡‡ç”¨çš„æ˜¯GPLv3è®¸å¯è¯ï¼Œå¦‚æœä½ åœ¨å…¬å¸ä½¿ç”¨ï¼Œå¯èƒ½å°±ä¼šå‡ºé—®é¢˜ã€‚</p><p>ç›¸è¾ƒä¹‹ä¸‹ï¼ŒPySideé—®ä¸–è¾ƒæ™šï¼Œä½†ç¡®æ˜¯Qtçš„äº²å„¿å­ï¼Œé‡‡ç”¨LGPLåè®®å‘å¸ƒï¼Œåœ¨æœªæ¥ï¼Œææœ‰å¯èƒ½è¿¸å‘å‡ºè¶…è¿‡PyQtçš„å½±å“åŠ›ã€‚</p><hr><h2 id="ä¸‰ã€PySide6çš„å®‰è£…ä¸ä½¿ç”¨">ä¸‰ã€PySide6çš„å®‰è£…ä¸ä½¿ç”¨</h2><p>ç›´æ¥<code>pip install pyside6</code>å³å¯ï¼Œå®‰è£…æˆåŠŸåï¼Œæ‰¾åˆ°æ‰€åœ¨è·¯å¾„ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">..\anaconda\Lib\site-packages\PySide6</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æ¥ä¸‹æ¥éœ€è¦è®¾ç½®å¤–éƒ¨å·¥å…·ï¼Œåœ¨PyCharmä¸­ï¼Œæ‰“å¼€å¦‚ä¸‹æ‰€ç¤ºçš„é€‰é¡¹ã€‚</p><img src="/2022/12/23/%E3%80%90QT%E3%80%91PySide%E5%85%A5%E9%97%A8%E7%9F%A5%E8%AF%86/image-20221223135208869.png" alt="image-20221223135208869" style="zoom:50%;"><img src="/2022/12/23/%E3%80%90QT%E3%80%91PySide%E5%85%A5%E9%97%A8%E7%9F%A5%E8%AF%86/image-20221223135249464.png" alt="image-20221223135249464" style="zoom:50%;"><p>åœ¨æ·»åŠ é¡µé¢ï¼Œæˆ‘ä»¬ä¸»è¦éœ€è¦å¯¼å…¥ä¸‰ä¸ªå¤–éƒ¨å·¥å…·ï¼Œåˆ†åˆ«æ˜¯;</p><ul><li>Qt Designerï¼šæ‰€è§å³æ‰€å¾—å¼çš„é¡µé¢è®¾è®¡å·¥å…·</li><li>UICï¼šå°†Qt Designerç”Ÿæˆçš„.uiæ–‡ä»¶è½¬æ¢ä¸º.pyæ–‡ä»¶</li><li>RCCï¼šå°†ç¼–å†™çš„.qrcèµ„æºè½¬æ¢ä¸º.pyæ–‡ä»¶</li></ul><p>1ï¸âƒ£ <strong>Qt_Designer</strong></p><img src="/2022/12/23/%E3%80%90QT%E3%80%91PySide%E5%85%A5%E9%97%A8%E7%9F%A5%E8%AF%86/image-20221223135516801.png" alt="image-20221223135516801" style="zoom:50%;"><p>æœ€æ–°ç‰ˆçš„è¿™ä¸‰ä¸ªå¤–éƒ¨å·¥å…·éƒ½åœ¨<code>\PySide6\</code>ç›®å½•ä¸‹ï¼Œä¸éœ€è¦è¿›å…¥<code>\Pyside6\script\</code>æŸ¥æ‰¾ã€‚</p><p>å¡«å†™å‚æ•°ï¼š</p><ul><li>Arguments: <code>$FilePath$</code></li><li>Working directory: <code>$FileDir$</code></li></ul><p>2ï¸âƒ£ <strong>UIC</strong></p><img src="/2022/12/23/%E3%80%90QT%E3%80%91PySide%E5%85%A5%E9%97%A8%E7%9F%A5%E8%AF%86/image-20221223135749900.png" alt="image-20221223135749900" style="zoom:50%;"><p>åŒç†ï¼Œè¿™é‡Œçš„å‚æ•°å¡«å†™ä¸ºï¼š</p><ul><li><p>Arguments: <code>$$FileName$ -o ui_$FileNameWithoutExtension$.py$</code></p></li><li><p>Working directory: <code>$FileDir$</code></p></li></ul><p>3ï¸âƒ£ <strong>RCC</strong></p><img src="/2022/12/23/%E3%80%90QT%E3%80%91PySide%E5%85%A5%E9%97%A8%E7%9F%A5%E8%AF%86/image-20221223135959201.png" alt="image-20221223135959201" style="zoom:50%;"><p>è¿™é‡Œçš„å‚æ•°å¡«å†™ä¸ºï¼š</p><ul><li><p>Arguments: <code>$$FileName$ -o $FileNameWithoutExtension$_rc.py $</code></p></li><li><p>Working directory: <code>$FileDir$</code></p></li></ul><p>ä¸å‡ºæ„å¤–çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œçœ‹åˆ°æˆ‘ä»¬çš„å·¥å…·ï¼š</p><img src="/2022/12/23/%E3%80%90QT%E3%80%91PySide%E5%85%A5%E9%97%A8%E7%9F%A5%E8%AF%86/image-20221223140106603.png" alt="image-20221223140106603" style="zoom:50%;"><p>æˆ–æ˜¯å³é”®æŸä¸ªç¨‹åºï¼Œä¹Ÿå¯ä»¥æ‰¾åˆ°æˆ‘ä»¬å®‰è£…å¥½çš„å·¥å…·ã€‚</p><img src="/2022/12/23/%E3%80%90QT%E3%80%91PySide%E5%85%A5%E9%97%A8%E7%9F%A5%E8%AF%86/image-20221223140147282.png" alt="image-20221223140147282" style="zoom:50%;"><hr><h2 id="å››ã€PySide6çš„æ ¸å¿ƒæ¨¡å—">å››ã€PySide6çš„æ ¸å¿ƒæ¨¡å—</h2><p>PySide6æ”¯æŒå¤§é‡çš„æ¨¡å—ï¼Œè¿™äº›æ¨¡å—å¯ä»¥æä¾›åŠŸèƒ½å¼ºå¤§çš„å¼€å‘æ”¯æŒã€‚</p><p>å…¶ä¸­ï¼Œæ ¸å¿ƒæ¨¡å—æœ‰ä¸‰ä¸ªï¼š</p><table><thead><tr><th style="text-align:center">æ¨¡å—å</th><th style="text-align:center">æè¿°</th></tr></thead><tbody><tr><td style="text-align:center">QtCore</td><td style="text-align:center">æä¾›æ ¸å¿ƒçš„éGUIåŠŸèƒ½ï¼Œå¦‚ä¿¡å·å’Œæ§½ã€å±æ€§ã€é¡¹ç›®æ¨¡å‹çš„åŸºç±»ã€åºåˆ—åŒ–ç­‰ã€‚</td></tr><tr><td style="text-align:center">QtGui</td><td style="text-align:center">æ‰©å±•QtCoreçš„GUIåŠŸèƒ½:äº‹ä»¶ï¼Œçª—å£å’Œå±å¹•ï¼ŒOpenGLå’ŒåŸºäºå…‰æ …çš„2Dç»˜ç”»ï¼Œä»¥åŠå›¾åƒã€‚</td></tr><tr><td style="text-align:center">QtWidgets</td><td style="text-align:center">ä¸ºåº”ç”¨ç¨‹åºæä¾›å¯éšæ—¶ä½¿ç”¨çš„å°ç»„ä»¶ï¼ŒåŒ…æ‹¬ç”¨äºUIçš„å›¾å½¢å…ƒç´ ã€‚</td></tr></tbody></table><p>å…¶ä»–ä¸»è¦æ¨¡å—å¦‚ä¸‹ï¼š</p><table><thead><tr><th style="text-align:center">æ¨¡å—å</th></tr></thead><tbody><tr><td style="text-align:center">QtBluetooth</td></tr><tr><td style="text-align:center">QtCharts</td></tr><tr><td style="text-align:center">QtConcurrent</td></tr><tr><td style="text-align:center">QtDataVisualization</td></tr><tr><td style="text-align:center">QtDBus</td></tr><tr><td style="text-align:center">QtDesigner</td></tr><tr><td style="text-align:center">QtHelp</td></tr><tr><td style="text-align:center">Qt Multimedia</td></tr><tr><td style="text-align:center">Qt Multimedia Widgets</td></tr><tr><td style="text-align:center">QtNetwork</td></tr><tr><td style="text-align:center">Qt Network Authorization</td></tr><tr><td style="text-align:center">QtNfc</td></tr><tr><td style="text-align:center">QtOpenGL</td></tr><tr><td style="text-align:center">Qt OpenGL Widgets</td></tr><tr><td style="text-align:center">QtPDF</td></tr><tr><td style="text-align:center">Qt PDF Widgets</td></tr><tr><td style="text-align:center">QTQml</td></tr></tbody></table><p>å…¶ä»–æ¨¡å—å¯ä»¥æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://doc.qt.io/qtforpython/modules.html">https://doc.qt.io/qtforpython/modules.html</a></p><hr><h2 id="äº”ã€å¿«é€Ÿæ„å»ºä¸€ä¸ªPySide6å¯è§†åŒ–ç¨‹åº">äº”ã€å¿«é€Ÿæ„å»ºä¸€ä¸ªPySide6å¯è§†åŒ–ç¨‹åº</h2><p>æˆ‘ä»¬ç°åœ¨å°è¯•ç”¨PySide6æ¥è¯´<code>Hello World</code>å§ï¼</p><p>ä¹‹å‰è¯´çš„é‚£ä¸‰ä¸ªæ ¸å¿ƒæ¨¡å—ï¼Œå…¶å®åœ¨æ¯ä¸ªPySideé¡¹ç›®ä¸­éƒ½å¯ä»¥æå‰é€‰æ‹©å¯¼å…¥ï¼Œåæ­£å³ä½¿ç”¨ä¸åˆ°ä¹Ÿä¸äºã€‚</p><blockquote><p>é¡¹ç›®ç›®æ ‡ï¼šåˆ¶å®šä¸€ä¸ªå¯ä»¥éšæœºç”¨ä¸åŒè¯­è¨€è¯´â€œä½ å¥½ä¸–ç•Œâ€œçš„å¯è§†åŒ–ç¨‹åº</p></blockquote><p>æ˜ç¡®ç›®æ ‡åï¼Œæˆ‘ä»¬å°±è¦å¯¼å…¥æ¨¡å—äº†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys <span class="comment"># sysåœ¨è¿™é‡Œä¸»è¦ç”¨äºæ§åˆ¶è¿›ç¨‹</span></span><br><span class="line"><span class="keyword">import</span> random <span class="comment"># randomåœ¨è¿™é‡Œç”¨äºé€‰æ‹©éšæœºé¡¹</span></span><br><span class="line"><span class="keyword">from</span> PySide6 <span class="keyword">import</span> QtCore,QtWidgets,QtGui <span class="comment"># æ ¸å¿ƒæ¨¡å—</span></span><br></pre></td></tr></table></figure><p>æ¥ç€ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªçª—å£ã€‚ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼Œè¿™é‡Œæˆ‘ä»¬å†™æˆä¸€ä¸ªç»„ä»¶ç±»ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyWidget</span>(QtWidgets.QWidget):</span><br><span class="line"><span class="comment"># é€‰æ‹©ç»§æ‰¿è‡ªQWidgets.QWidgetï¼Œè¿™æ ·å°±èƒ½å½“ä¸ªå°ç»„ä»¶ç”¨å•¦</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br></pre></td></tr></table></figure><p>ä¸ºäº†å®ç°è¯­è¨€åˆ‡æ¢ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªè§¦å‘å™¨ï¼Œè¿™é‡Œé€‰æ‹©çš„æ˜¯ä¸€ä¸ª<code>PushButton</code>ï¼Œè¿™ä¸ª<code>PushButton</code>æœ‰ä¸€ä¸ªè§¦å‘äº‹ä»¶ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">self.button=QtWidgets.QPushButton(<span class="string">&quot;Click me!&quot;</span>) </span><br><span class="line"><span class="comment"># ç»§æ‰¿è‡ªç»„ä»¶ç±»QPushButton(text)</span></span><br><span class="line"></span><br><span class="line">self.button.clicked.connect(self.magic)</span><br><span class="line"><span class="comment"># è®¾ç½®ç‚¹å‡»æ—¶é—´, é€šè¿‡connectä¸æ§½å‡½æ•°è¿æ¥èµ·æ¥</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@QtCore.Slot() </span><span class="comment"># è¡¨æ˜è¿™æ˜¯ä¸€ä¸ªæ§½å‡½æ•°</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">magic</span>(<span class="params">self</span>):</span><br><span class="line"><span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p>å¥½äº†ï¼Œç„¶åæˆ‘ä»¬éœ€è¦èƒ½å¤Ÿæ˜¾ç¤ºçš„ç»„ä»¶ï¼Œè¿™é‡Œé€‰ç”¨çš„æ˜¯<code>QLabel</code>ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">self.text=QtWidgets.QLabel(<span class="string">&quot;Hello World&quot;</span>,           alignment=QtCore.Qt.AlignCenter)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®æˆ‘ä»¬çš„éšæœºæ¡†</span></span><br><span class="line">self.hello=[<span class="string">&quot;Hallo Welt&quot;</span>, <span class="string">&quot;Hei maailma&quot;</span>, <span class="string">&quot;Hola Mundo&quot;</span>, <span class="string">&quot;ĞŸÑ€Ğ¸Ğ²ĞµÑ‚ Ğ¼Ğ¸Ñ€&quot;</span>,<span class="string">&quot;ä½ å¥½&quot;</span>]</span><br></pre></td></tr></table></figure><p>è™½ç„¶æˆ‘ä»¬ç°åœ¨æå¥½äº†ç»„ä»¶ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜éœ€è¦å¯¹ç»„ä»¶è¿›è¡Œå¸ƒå±€ï¼Œè®©ä»–çœ‹èµ·æ¥æ›´ç¾è§‚ã€‚è¿™é‡Œé€‰æ‹©<code>QVBoxLayout</code>è¿›è¡Œå¸ƒå±€ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">self.layout = QtWidgets.QVBoxLayout(self)</span><br><span class="line"><span class="comment"># ä¼ é€’è‡ªèº«ï¼Œè¡¨ç¤ºæœ¬ç»„ä»¶é‡‡ç”¨çš„å¸ƒå±€æ–¹å¼</span></span><br><span class="line"></span><br><span class="line">self.layout.addWidget(self.text) <span class="comment"># æ·»åŠ ç»„ä»¶</span></span><br><span class="line">self.layout.addWidget(self.button)</span><br></pre></td></tr></table></figure><p>åˆ«å¿˜äº†ï¼Œè¿˜æœ‰æˆ‘ä»¬çš„ç‚¹å‡»äº‹ä»¶ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥å°†å…¶å®Œå–„äº†ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@QtCore.Slot() </span><span class="comment"># è¡¨æ˜è¿™æ˜¯ä¸€ä¸ªæ§½å‡½æ•°</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">magic</span>(<span class="params">self</span>):</span><br><span class="line">self.text.setText(random.choice(self.hello))</span><br></pre></td></tr></table></figure><p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±åšå¥½ä¸€ä¸ªå°ç»„ä»¶å•¦ï¼</p><p>ä½†æ˜¯è¿™ä¸ªç»„ä»¶å¹¶ä¸ä¼šè‡ªå·±æ˜¾ç¤ºå‡ºæ¥ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªåº”ç”¨ç¨‹åºæ¥æ‰¿è½½è¿™ä¸ªç»„ä»¶ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">app = QtWidgets.QApplication([]) <span class="comment"># åˆ›å»ºä¸€ä¸ªapp</span></span><br><span class="line">sys.exit(app.<span class="built_in">exec</span>()) <span class="comment"># è®¾ç½®appçš„é€€å‡ºäº‹ä»¶</span></span><br></pre></td></tr></table></figure><p>æ¥ç€å°±æ˜¯ç»„ä»¶çš„æ˜¾ç¤ºå•¦ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">widget = MyWidget()</span><br><span class="line">widget.resize(<span class="number">800</span>, <span class="number">600</span>)</span><br><span class="line">widget.show()</span><br></pre></td></tr></table></figure><p><strong>æœ€ç»ˆç»“æœå¦‚ä¸‹ï¼š</strong></p><img src="/2022/12/23/%E3%80%90QT%E3%80%91PySide%E5%85%A5%E9%97%A8%E7%9F%A5%E8%AF%86/image-20221223143749409.png" alt="image-20221223143749409" style="zoom:50%;"><p>å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">from</span> PySide6 <span class="keyword">import</span> QtCore,QtWidgets,QtGui</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyWidget</span>(QtWidgets.QWidget):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line"></span><br><span class="line">        self.hello=[<span class="string">&quot;Hallo Welt&quot;</span>, <span class="string">&quot;Hei maailma&quot;</span>, <span class="string">&quot;Hola Mundo&quot;</span>, <span class="string">&quot;ĞŸÑ€Ğ¸Ğ²ĞµÑ‚ Ğ¼Ğ¸Ñ€&quot;</span>,<span class="string">&quot;ä½ å¥½&quot;</span>]</span><br><span class="line">        self.button=QtWidgets.QPushButton(<span class="string">&quot;Click me!&quot;</span>)</span><br><span class="line"></span><br><span class="line">        self.text=QtWidgets.QLabel(<span class="string">&quot;Hello World&quot;</span>,</span><br><span class="line">                                   alignment=QtCore.Qt.AlignCenter)</span><br><span class="line">        self.layout=QtWidgets.QVBoxLayout(self)</span><br><span class="line">        self.layout.addWidget(self.text)</span><br><span class="line">        self.layout.addWidget(self.button)</span><br><span class="line"></span><br><span class="line">        self.button.clicked.connect(self.magic)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @QtCore.Slot()</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">magic</span>(<span class="params">self</span>):</span><br><span class="line">        self.text.setText(random.choice(self.hello))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    app=QtWidgets.QApplication([])</span><br><span class="line">    widge=MyWidget()</span><br><span class="line">    widge.setWindowTitle(<span class="string">&quot;Say Hello&quot;</span>)</span><br><span class="line">    widge.resize(<span class="number">800</span>,<span class="number">600</span>)</span><br><span class="line">    widge.show()</span><br><span class="line">    sys.exit(app.<span class="built_in">exec</span>())</span><br></pre></td></tr></table></figure><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">æœ‰å…³PyQTçš„å…¥é—¨çŸ¥è¯†å‘€</summary>
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="PySide6" scheme="http://example.com/tags/PySide6/"/>
    
  </entry>
  
  <entry>
    <title>ã€é¥æ„Ÿå¯¼è®ºã€‘ ç¬¬å››ç«  é¥æ„Ÿå›¾åƒå¤„ç†</title>
    <link href="http://example.com/2022/12/19/%E3%80%90%E9%81%A5%E6%84%9F%E7%A7%91%E5%AD%A6%E3%80%91%E7%AC%AC%E5%9B%9B%E7%AB%A0%20%E9%81%A5%E6%84%9F%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/"/>
    <id>http://example.com/2022/12/19/%E3%80%90%E9%81%A5%E6%84%9F%E7%A7%91%E5%AD%A6%E3%80%91%E7%AC%AC%E5%9B%9B%E7%AB%A0%20%E9%81%A5%E6%84%9F%E5%9B%BE%E5%83%8F%E5%A4%84%E7%90%86/</id>
    <published>2022-12-19T06:45:20.089Z</published>
    <updated>2022-12-19T06:48:03.633Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸€ã€å…‰å­¦åŸç†ä¸å…‰å­¦å¤„ç†">ä¸€ã€å…‰å­¦åŸç†ä¸å…‰å­¦å¤„ç†</h2><h3 id="1-1-é¢œè‰²è§†è§‰">1.1 é¢œè‰²è§†è§‰</h3><hr><h2 id="äºŒã€æ•°å­—å›¾åƒçš„æ ¡æ­£">äºŒã€æ•°å­—å›¾åƒçš„æ ¡æ­£</h2><h2 id="ä¸‰ã€æ•°å­—å›¾åƒå¢å¼º">ä¸‰ã€æ•°å­—å›¾åƒå¢å¼º</h2><h2 id="å››ã€å¤šæºä¿¡æ¯å¤åˆ">å››ã€å¤šæºä¿¡æ¯å¤åˆ</h2><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">é¥æ„Ÿç§‘å­¦</summary>
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="é¥æ„Ÿç§‘å­¦" scheme="http://example.com/tags/%E9%81%A5%E6%84%9F%E7%A7%91%E5%AD%A6/"/>
    
  </entry>
  
</feed>
