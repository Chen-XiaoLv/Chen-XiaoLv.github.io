<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å²æŸ“</title>
  <icon>https://www.gravatar.com/avatar/7228219e90ece9b38ea5921da1fcc500</icon>
  <subtitle>åˆ«æ¥æ— æ™ï¼Œä½ åœ¨å¿ƒä¸Š</subtitle>
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2022-10-27T13:11:53.461Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>Kagura</name>
    <email>651421775@qq.com</email>
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Presentation å¸¸ç”¨å¥å‹</title>
    <link href="http://example.com/2022/10/27/%E3%80%90%E8%8B%B1%E8%AF%AD%E3%80%91Presentation/"/>
    <id>http://example.com/2022/10/27/%E3%80%90%E8%8B%B1%E8%AF%AD%E3%80%91Presentation/</id>
    <published>2022-10-27T12:05:35.232Z</published>
    <updated>2022-10-27T13:11:53.461Z</updated>
    
    <content type="html"><![CDATA[<h2 id="How-to-make-a-presentation">How to make a presentation?</h2><hr><h3 id="Part-One-Beginning">Part One  ---- Beginning</h3><p>ğŸŒŸIâ€™ am Chery. Today Iâ€™m going to give a short presentation onâ€¦</p><p>ğŸŒŸ My name is Chery, itâ€™s my pleasure to stand here and make a short presentation onâ€¦</p><p>ğŸŒŸ Iâ€™m Chery, The topic of my presentation is â€¦</p><p>ğŸŒŸ Iâ€™m Chery, Today I will be giving a short presentation on â€¦</p><hr><h3 id="Part-Two-Overview">Part Two ---- Overview</h3><p>ğŸŒŸ My presentation is in three parts.</p><p>ğŸŒŸ My presentation is divided into three main sections.</p><p>ğŸŒŸ Firstly, Secondly, Finally</p><p>ğŸŒŸ take a look at</p><p>ğŸŒŸ talk about</p><p>ğŸŒŸ focus on</p><p>ğŸŒŸ tell you something about the background</p><p>ğŸŒŸ give you some facts and figures</p><p>ğŸŒŸ fill you on the history of</p><p>ğŸŒŸconcentrate on</p><hr><h3 id="Part-Three-Asking-Question">Part Three ---- Asking Question</h3><p>ğŸŒŸ Please feel free to interrupt me if you have any questions.</p><p>ğŸŒŸ There will time for question at the end of the presentation.</p><p>ğŸŒŸ Iâ€™d be grateful if you could ask me questions at the end of the presentation.</p><hr><h3 id="Part-Four-Main-Body">Part Four ---- Main Body</h3><p>ğŸŒŸ Letâ€™s look at</p><p>ğŸŒŸ Here are some facts about</p><p>ğŸŒŸ Here are some of the reasons for</p><p>ğŸŒŸ Several factors contribute to</p><p>ğŸŒŸ It has merits as well certain drawbacks. Letâ€™s consider the</p><p>ğŸŒŸ Letâ€™s look at the pros and cons of</p><p>ğŸŒŸ There are several types of</p><p>ğŸŒŸ Letâ€™s compare A with B</p><p>ğŸŒŸ Here is an interesting graph / picture / piece of information</p><p>ğŸŒŸ Iâ€™d like you to focus on this graph / table / image</p><hr><h3 id="Part-Five-Moving-From-one-point-to-another">Part Five ---- Moving From one point to another</h3><p>ğŸŒŸ Letâ€™s move on toâ€¦</p><p>ğŸŒŸ I 'd like to turn toâ€¦</p><p>ğŸŒŸ Thatâ€™s all I have to say about â€¦</p><p>ğŸŒŸ Now Iâ€™d like to look at</p><p>ğŸŒŸ This leads me to my next point</p><p>ğŸŒŸ Now, Iâ€™ll focus on</p><p>ğŸŒŸ Letâ€™s look at another aspect of</p><p>ğŸŒŸ Now Letâ€™s consider another aspect</p><p>ğŸŒŸ Letâ€™s come to the next point.</p><hr><h3 id="Part-Six-Thanking-and-inviting-questions">Part Six ---- Thanking and inviting questions</h3><p>ğŸŒŸ Thank you for listening , and now if there are any questions, I â€™ d be pleased to answer them.</p><p>ğŸŒŸ That brings me to the end of my presentation. Thank you or your attention. Iâ€™ll be glad to answer any questions you might have.</p><p>ğŸŒŸ Would anyone like to ask questions?</p><p>ğŸŒŸ Does anyone have any questions?</p><p>ğŸŒŸ If any one has any questions, Iâ€™ll be glad to answer them.</p><hr><h3 id="Part-Seven-Handing-Question">Part Seven ---- Handing Question</h3><p>ğŸŒŸ Does this answer your question?</p><p>ğŸŒŸ Do you follow what Iâ€™m saying?</p><p>ğŸŒŸ I hope this explains the situation to you.</p><p>ğŸŒŸ I hope that was what you wanted to hear.</p><p>ğŸŒŸ was my answer clear enough?</p><p>ğŸŒŸ Have I clarified your doubt?</p><hr><h3 id="Part-Eight-Admit-your-shortcoming">Part Eight ---- Admit your shortcoming</h3><p>ğŸŒŸ Thatâ€™s a very good question. However, We donâ€™t have much information about that and I can not give you an accurate answer.</p><p>ğŸŒŸ Thatâ€™s a very good question, However Iâ€™m not very sure about the answer. Would anyone in the audience like to answer the question?</p><p>ğŸŒŸ It doesnâ€™t matter / Never Mind</p><hr><h3 id="Part-Nine-Language-for-visuals">Part Nine ---- Language for visuals</h3><p>ğŸŒŸ This graph shows you</p><p>ğŸŒŸ Take a look at this</p><p>ğŸŒŸ If you look at this, you will see</p><p>ğŸŒŸI would like you to look at this</p><p>ğŸŒŸ This chart illustrates the figures</p><p>ğŸŒŸ This graph gives you a breakdown of</p><p>ğŸŒŸ As you can see</p><p>ğŸŒŸ This clearly shows</p><p>ğŸŒŸ From this we can understand</p><p>ğŸŒŸ This area of the chart is interesting</p><hr><h3 id="Part-Ten-summarizing">Part Ten ---- summarizing</h3><p>ğŸŒŸ This brings me to the end of my presentation. Iâ€™ve talk about â€¦</p><p>ğŸŒŸ Well, Thatâ€™s about it for now. Weâ€™ve talk aboutâ€¦</p><p>ğŸŒŸ Here are the key points of todayâ€™s talk</p><p>ğŸŒŸ Let us sum up the main ideas,</p><p>ğŸŒŸ To summarize,</p><hr><h3 id="Part-Eleven-Ending">Part Eleven ---- Ending</h3><p>ğŸŒŸ That brings us to the end of the presentation. Thank you for listening.</p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;How-to-make-a-presentation&quot;&gt;How to make a presentation?&lt;/h2&gt;
&lt;hr&gt;
&lt;h3 id=&quot;Part-One-Beginning&quot;&gt;Part One  ---- Beginning&lt;/h3&gt;
&lt;p&gt;ğŸŒŸIâ€™ </summary>
      
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="è‹±è¯­" scheme="http://example.com/tags/%E8%8B%B1%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>åŸºäºCartopyç»˜åˆ¶æµ·æ´‹è¡¨é¢æ¸©åº¦åŠ¨æ€å˜åŒ–å›¾</title>
    <link href="http://example.com/2022/10/26/%E3%80%90%E6%B5%B7%E6%B4%8B%E9%81%A5%E6%84%9F%E3%80%91%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/"/>
    <id>http://example.com/2022/10/26/%E3%80%90%E6%B5%B7%E6%B4%8B%E9%81%A5%E6%84%9F%E3%80%91%E5%A4%8D%E4%B9%A0%E8%B5%84%E6%96%99/</id>
    <published>2022-10-26T08:09:30.159Z</published>
    <updated>2022-10-26T11:23:54.585Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åŸºç¡€æ¦‚å¿µ">åŸºç¡€æ¦‚å¿µ</h2><p>1ï¸âƒ£ <strong>ç”µç£æ³¢è°±</strong></p><p>2ï¸âƒ£ <strong>å¸ƒæ‹‰æ ¼å…±æŒ¯</strong></p><p>3ï¸âƒ£ <strong>ç‘ä¸½-é‡‘æ–¯å®šå¾‹</strong></p><p>4ï¸âƒ£ <strong>è¾äº®åº¦ä¸è¾ç…§åº¦</strong></p><p><strong>5ï¸âƒ£ ç¦»æ°´è¾äº®åº¦ä¸é¥æ„Ÿåå°„æ¯”</strong></p><p>6ï¸âƒ£ <strong>æ°´å¹³æåŒ–ä¸å‚ç›´æåŒ–</strong></p><p>7ï¸âƒ£ <strong>ä¼ æ„Ÿå™¨</strong></p><hr><h2 id="åº”ç”¨">åº”ç”¨</h2><p><strong>çƒ­çº¢å¤–åˆ†è£‚çª—æ€æƒ³</strong></p><p><strong>æ¸©åº¦é¥æ„ŸåŸç†æ€æƒ³</strong></p><p><strong>ç›åº¦é¥æ„ŸåŸç†æ€æƒ³</strong></p><p><strong>æ°´è‰²é¥æ„ŸåŸç†æ€æƒ³</strong></p><p><strong>æµ·é£é¥æ„ŸåŸç†æ€æƒ³</strong></p><p>ç©ºé—´åˆ†è¾¨ç‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mn>1</mn><mo mathvariant="normal" lspace="0em" rspace="0em">â€²</mo></msup></mrow><annotation encoding="application/x-tex">1&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7519em;"></span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7519em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">â€²</span></span></span></span></span></span></span></span></span></span></span></span>ç›¸å½“äº<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>30</mn><mi>m</mi></mrow><annotation encoding="application/x-tex">30m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">30</span><span class="mord mathnormal">m</span></span></span></span>ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.05</mn><mi mathvariant="normal">Â°</mi></mrow><annotation encoding="application/x-tex">0.05Â°</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">0.05Â°</span></span></span></span>ç›¸å½“äº<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.05</mn><mo>âˆ—</mo><mn>60</mn><mo>âˆ—</mo><mn>60</mn><mo>âˆ—</mo><mn>30</mn><mo>=</mo><mn>5400</mn><mi>m</mi></mrow><annotation encoding="application/x-tex">0.05*60*60*30=5400m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.05</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">60</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">60</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">30</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5400</span><span class="mord mathnormal">m</span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn><mi mathvariant="normal">Â°</mi><mo>=</mo><mn>1</mn><mo>âˆ—</mo><mn>60</mn><mo>âˆ—</mo><mn>60</mn><mo>âˆ—</mo><mn>30</mn><mo>=</mo><mn>108</mn><mi>k</mi><mi>m</mi></mrow><annotation encoding="application/x-tex">1Â°=1*60*60*30=108km</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">1Â°</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">60</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">60</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">30</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord">108</span><span class="mord mathnormal">km</span></span></span></span></p><p><strong>æµ·æ´‹æ°´è‰²é¥æ„Ÿâ€“2ç±»æ°´ä½“é¥æ„Ÿ</strong></p><ul><li>éš¾ç‚¹</li><li>è§£å†³æ–¹æ¡ˆ</li></ul><hr><h2 id="æ–¹æ¡ˆè®¾è®¡">æ–¹æ¡ˆè®¾è®¡</h2><p>é€‰å–ä¸€ä¸ªæ„Ÿå…´è¶£çš„æµ·æ´‹ç°è±¡æˆ–å‚æ•°ï¼Œå¹¶è®¾è®¡ä¸€ä¸ªé¥æ„Ÿç ”ç©¶æ–¹æ¡ˆã€‚è¦æ±‚ç»™å‡ºåˆ©ç”¨çš„ä¼ æ„Ÿå™¨ç±»å‹ï¼Œå«æ˜Ÿæ•°æ®å’Œé¥æ„Ÿæ•°æ®ã€‚</p><ul><li>æå‡ºé—®é¢˜ï¼Œç ”ç©¶æ„ä¹‰</li><li>é€‰ç”¨ææ–™ã€æ•°æ®</li><li>é€‰ç”¨æ–¹æ³•ã€æ¨¡æ‹Ÿã€å®éªŒã€æ¨¡å‹</li><li>åšå‡ºå“ªäº›ç ”ç©¶</li><li>å¾—å‡ºç»“æœ(é¢„æœŸ)</li><li>åˆ†æç»“æœã€‚å¯»æ‰¾è§„å¾‹è®¤è¯†ï¼Œè®¨è®ºå„ç±»æœ‰ç‚¹å±€é™æ€§ï¼Œæå‡ºæœªæ¥æ”¹è¿›æ–¹å‘</li></ul><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">æµ·æ´‹é¥æ„Ÿ</summary>
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="æµ·æ´‹é¥æ„Ÿ" scheme="http://example.com/tags/%E6%B5%B7%E6%B4%8B%E9%81%A5%E6%84%9F/"/>
    
  </entry>
  
  <entry>
    <title>ã€æ•°æ®åˆ†æã€‘HW2</title>
    <link href="http://example.com/2022/10/23/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91HW2/"/>
    <id>http://example.com/2022/10/23/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91HW2/</id>
    <published>2022-10-23T07:33:59.524Z</published>
    <updated>2022-10-23T16:18:24.041Z</updated>
    
    <content type="html"><![CDATA[<h1>HW1</h1><h2 id="Submission-requirements">Submission requirements:</h2><h3 id="Please-submit-your-solutions-to-our-class-website">Please submit your solutions to our class website.</h3><hr><h2 id="Part-I-written-assignment">Part I: written assignment</h2><img src="/2022/10/23/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91HW2/wps2.jpg" alt="img" style="zoom:50%;"><p>a) Compute the Information Gain for Gender, Car Type and Shirt Size. (15 points)</p><p>b) Construct a decision tree with Information Gain. (10 points)</p><hr><p><strong>Answer A</strong></p><p><strong>æ•´ä½“ç†µ</strong></p><table><thead><tr><th style="text-align:center">C0</th><th style="text-align:center">C1</th></tr></thead><tbody><tr><td style="text-align:center">10</td><td style="text-align:center">20</td></tr></tbody></table><p>æ ¹æ®å…¬å¼</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>=</mo><mo>âˆ’</mo><munderover><mo>âˆ‘</mo><mi>i</mi><mi>n</mi></munderover><mi>p</mi><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>p</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">E(s)=-\sum_i^nplog_2(p)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.9291em;vertical-align:-1.2777em;"></span><span class="mord">âˆ’</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">pl</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">p</span><span class="mclose">)</span></span></span></span></span></p><p>æœ‰ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>=</mo><mo>âˆ’</mo><mfrac><mn>10</mn><mn>20</mn></mfrac><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mfrac><mn>10</mn><mn>20</mn></mfrac><mo stretchy="false">)</mo><mo>âˆ’</mo><mfrac><mn>10</mn><mn>20</mn></mfrac><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mfrac><mn>10</mn><mn>20</mn></mfrac><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">E(s)=-\frac{10}{20}log_2(\frac{10}{20})-\frac{10}{20}log_2(\frac{10}{20})\\=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord">âˆ’</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">20</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">10</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">20</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">10</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">20</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">10</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">20</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">10</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span></p><p>ä¸‹é¢æˆ‘ä»¬è®¡ç®—å„ä¸ªå±æ€§åˆ—çš„ä¿¡æ¯å¢ç›Š</p><p><code>Gender</code>å±æ€§åˆ—ï¼š</p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">C0</th><th style="text-align:center">C1</th></tr></thead><tbody><tr><td style="text-align:center">F</td><td style="text-align:center">6</td><td style="text-align:center">4</td></tr><tr><td style="text-align:center">M</td><td style="text-align:center">6</td><td style="text-align:center">4</td></tr></tbody></table><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo><mo>=</mo><mo>âˆ’</mo><mo stretchy="false">(</mo><mfrac><mn>6</mn><mn>10</mn></mfrac><mo stretchy="false">)</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mfrac><mn>6</mn><mn>10</mn></mfrac><mo stretchy="false">)</mo><mo>âˆ’</mo><mo stretchy="false">(</mo><mfrac><mn>4</mn><mn>10</mn></mfrac><mo stretchy="false">)</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mfrac><mn>4</mn><mn>10</mn></mfrac><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mo>=</mo><mn>0.97095</mn></mrow><annotation encoding="application/x-tex">E(F)=-(\frac{6}{10})log_2(\frac{6}{10})-(\frac{4}{10})log_2(\frac{4}{10})\\=0.97095</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord">âˆ’</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">10</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">10</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">10</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">10</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.97095</span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>M</mi><mo stretchy="false">)</mo><mo>=</mo><mo>âˆ’</mo><mo stretchy="false">(</mo><mfrac><mn>6</mn><mn>10</mn></mfrac><mo stretchy="false">)</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mfrac><mn>6</mn><mn>10</mn></mfrac><mo stretchy="false">)</mo><mo>âˆ’</mo><mo stretchy="false">(</mo><mfrac><mn>4</mn><mn>10</mn></mfrac><mo stretchy="false">)</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mfrac><mn>4</mn><mn>10</mn></mfrac><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mo>=</mo><mn>0.97095</mn></mrow><annotation encoding="application/x-tex">E(M)=-(\frac{6}{10})log_2(\frac{6}{10})-(\frac{4}{10})log_2(\frac{4}{10})\\=0.97095</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord">âˆ’</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">10</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">10</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">10</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">10</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.97095</span></span></span></span></span></p><p>æ ¹æ®ä¿¡æ¯å¢ç›Šå…¬å¼:</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>g</mi><mo stretchy="false">(</mo><mi>D</mi><mo separator="true">,</mo><mi>A</mi><mo stretchy="false">)</mo><mo>=</mo><mi>E</mi><mo stretchy="false">(</mo><mi>D</mi><mo stretchy="false">)</mo><mo>âˆ’</mo><mi>E</mi><mo stretchy="false">(</mo><mi>D</mi><mi mathvariant="normal">âˆ£</mi><mi>A</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">g(D,A)=E(D)-E(D|A)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">A</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mord">âˆ£</span><span class="mord mathnormal">A</span><span class="mclose">)</span></span></span></span></span></p><p>å¯å¾—åˆ°ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>G</mi><mi>a</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>G</mi><mi>e</mi><mi>n</mi><mi>d</mi><mi>e</mi><mi>r</mi><mo stretchy="false">)</mo><mo>=</mo><mi>E</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>âˆ’</mo><mfrac><mn>10</mn><mn>20</mn></mfrac><mo>âˆ—</mo><mi>E</mi><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo><mo>âˆ’</mo><mfrac><mn>10</mn><mn>20</mn></mfrac><mo>âˆ—</mo><mi>E</mi><mo stretchy="false">(</mo><mi>M</mi><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mo>=</mo><mn>0.029</mn></mrow><annotation encoding="application/x-tex">Gain(Gender)=E(s)-\frac{10}{20}*E(F)-\frac{10}{20}*E(M)\\=0.029</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">G</span><span class="mord mathnormal">ain</span><span class="mopen">(</span><span class="mord mathnormal">G</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">20</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">10</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">20</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">10</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.029</span></span></span></span></span></p><p>åŒç†ï¼Œ<strong>CarType</strong>å±æ€§åˆ—</p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">C0</th><th style="text-align:center">C1</th></tr></thead><tbody><tr><td style="text-align:center">F</td><td style="text-align:center">1</td><td style="text-align:center">3</td></tr><tr><td style="text-align:center">L</td><td style="text-align:center">1</td><td style="text-align:center">7</td></tr><tr><td style="text-align:center">S</td><td style="text-align:center">8</td><td style="text-align:center">0</td></tr></tbody></table><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo><mo>=</mo><mo>âˆ’</mo><mo stretchy="false">(</mo><mfrac><mn>1</mn><mn>4</mn></mfrac><mo stretchy="false">)</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mfrac><mn>1</mn><mn>4</mn></mfrac><mo stretchy="false">)</mo><mo>âˆ’</mo><mo stretchy="false">(</mo><mfrac><mn>3</mn><mn>4</mn></mfrac><mo stretchy="false">)</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mfrac><mn>3</mn><mn>4</mn></mfrac><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mo>=</mo><mn>0.81127</mn></mrow><annotation encoding="application/x-tex">E(F)=-(\frac{1}{4})log_2(\frac{1}{4})-(\frac{3}{4})log_2(\frac{3}{4})\\=0.81127</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord">âˆ’</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.81127</span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>L</mi><mo stretchy="false">)</mo><mo>=</mo><mo>âˆ’</mo><mo stretchy="false">(</mo><mfrac><mn>1</mn><mn>8</mn></mfrac><mo stretchy="false">)</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mfrac><mn>1</mn><mn>8</mn></mfrac><mo stretchy="false">)</mo><mo>âˆ’</mo><mo stretchy="false">(</mo><mfrac><mn>7</mn><mn>8</mn></mfrac><mo stretchy="false">)</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mfrac><mn>7</mn><mn>8</mn></mfrac><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mo>=</mo><mn>0.543564</mn></mrow><annotation encoding="application/x-tex">E(L)=-(\frac{1}{8})log_2(\frac{1}{8})-(\frac{7}{8})log_2(\frac{7}{8})\\=0.543564</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal">L</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord">âˆ’</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.543564</span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>=</mo><mo>âˆ’</mo><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">E(S)=-(1)log_2(1)=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ’</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></span></p><p>æœ€ç»ˆç»“æœä¸º</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>G</mi><mi>a</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>C</mi><mi>a</mi><mi>r</mi><mi>T</mi><mi>y</mi><mi>p</mi><mi>e</mi><mo stretchy="false">)</mo><mo>=</mo><mi>E</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>âˆ’</mo><mi>p</mi><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo><mi>E</mi><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo><mo>âˆ’</mo><mi>p</mi><mo stretchy="false">(</mo><mi>L</mi><mo stretchy="false">)</mo><mi>E</mi><mo stretchy="false">(</mo><mi>L</mi><mo stretchy="false">)</mo><mo>âˆ’</mo><mi>p</mi><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mi>E</mi><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mo>=</mo><mn>1</mn><mo>âˆ’</mo><mfrac><mn>4</mn><mn>20</mn></mfrac><mo>âˆ—</mo><mi>E</mi><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo><mo>âˆ’</mo><mfrac><mn>8</mn><mn>20</mn></mfrac><mo>âˆ—</mo><mi>E</mi><mo stretchy="false">(</mo><mi>L</mi><mo stretchy="false">)</mo><mo>âˆ’</mo><mfrac><mn>8</mn><mn>20</mn></mfrac><mo>âˆ—</mo><mi>E</mi><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mo>=</mo><mn>0.6205</mn></mrow><annotation encoding="application/x-tex">Gain(CarType)=E(s)-p(F)E(F)-p(L)E(L)-p(S)E(S)\\=1-\frac{4}{20}*E(F)-\frac{8}{20}*E(L)-\frac{8}{20}*E(S)\\=0.6205</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">G</span><span class="mord mathnormal">ain</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord mathnormal">p</span><span class="mord mathnormal">e</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">L</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal">L</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">20</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">20</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal">L</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">20</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.6205</span></span></span></span></span></p><p>å¯¹äº<code>Shirt Size</code>å±æ€§åˆ—</p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">C0</th><th style="text-align:center">C1</th></tr></thead><tbody><tr><td style="text-align:center">E</td><td style="text-align:center">2</td><td style="text-align:center">2</td></tr><tr><td style="text-align:center">L</td><td style="text-align:center">2</td><td style="text-align:center">2</td></tr><tr><td style="text-align:center">M</td><td style="text-align:center">3</td><td style="text-align:center">4</td></tr><tr><td style="text-align:center">S</td><td style="text-align:center">3</td><td style="text-align:center">2</td></tr></tbody></table><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>E</mi><mo stretchy="false">)</mo><mo>=</mo><mo>âˆ’</mo><mo stretchy="false">(</mo><mfrac><mn>2</mn><mn>4</mn></mfrac><mo stretchy="false">)</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mfrac><mn>2</mn><mn>4</mn></mfrac><mo stretchy="false">)</mo><mo>âˆ’</mo><mo stretchy="false">(</mo><mfrac><mn>2</mn><mn>4</mn></mfrac><mo stretchy="false">)</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mfrac><mn>2</mn><mn>4</mn></mfrac><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">E(E)=-(\frac{2}{4})log_2(\frac{2}{4})-(\frac{2}{4})log_2(\frac{2}{4})\\=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord">âˆ’</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>L</mi><mo stretchy="false">)</mo><mo>=</mo><mo>âˆ’</mo><mo stretchy="false">(</mo><mfrac><mn>2</mn><mn>4</mn></mfrac><mo stretchy="false">)</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mfrac><mn>2</mn><mn>4</mn></mfrac><mo stretchy="false">)</mo><mo>âˆ’</mo><mo stretchy="false">(</mo><mfrac><mn>2</mn><mn>4</mn></mfrac><mo stretchy="false">)</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mfrac><mn>2</mn><mn>4</mn></mfrac><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">E(L)=-(\frac{2}{4})log_2(\frac{2}{4})-(\frac{2}{4})log_2(\frac{2}{4})\\=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal">L</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord">âˆ’</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>M</mi><mo stretchy="false">)</mo><mo>=</mo><mo>âˆ’</mo><mo stretchy="false">(</mo><mfrac><mn>3</mn><mn>7</mn></mfrac><mo stretchy="false">)</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mfrac><mn>3</mn><mn>7</mn></mfrac><mo stretchy="false">)</mo><mo>âˆ’</mo><mo stretchy="false">(</mo><mfrac><mn>4</mn><mn>7</mn></mfrac><mo stretchy="false">)</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mfrac><mn>4</mn><mn>7</mn></mfrac><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mo>=</mo><mn>0.985228</mn></mrow><annotation encoding="application/x-tex">E(M)=-(\frac{3}{7})log_2(\frac{3}{7})-(\frac{4}{7})log_2(\frac{4}{7})\\=0.985228</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord">âˆ’</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.985228</span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>=</mo><mo>âˆ’</mo><mo stretchy="false">(</mo><mfrac><mn>3</mn><mn>5</mn></mfrac><mo stretchy="false">)</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mfrac><mn>3</mn><mn>5</mn></mfrac><mo stretchy="false">)</mo><mo>âˆ’</mo><mo stretchy="false">(</mo><mfrac><mn>2</mn><mn>5</mn></mfrac><mo stretchy="false">)</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mfrac><mn>2</mn><mn>5</mn></mfrac><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mo>=</mo><mn>0.97095</mn></mrow><annotation encoding="application/x-tex">E(S)=-(\frac{3}{5})log_2(\frac{3}{5})-(\frac{2}{5})log_2(\frac{2}{5})\\=0.97095</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord">âˆ’</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.97095</span></span></span></span></span></p><p>æœ€ç»ˆç»“æœä¸ºï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>G</mi><mi>a</mi><mi>i</mi><mi>n</mi><mo stretchy="false">(</mo><mi>C</mi><mi>a</mi><mi>r</mi><mi>T</mi><mi>y</mi><mi>p</mi><mi>e</mi><mo stretchy="false">)</mo><mo>=</mo><mi>E</mi><mo stretchy="false">(</mo><mi>s</mi><mo stretchy="false">)</mo><mo>âˆ’</mo><mi>p</mi><mo stretchy="false">(</mo><mi>E</mi><mo stretchy="false">)</mo><mi>E</mi><mo stretchy="false">(</mo><mi>E</mi><mo stretchy="false">)</mo><mo>âˆ’</mo><mi>p</mi><mo stretchy="false">(</mo><mi>L</mi><mo stretchy="false">)</mo><mi>E</mi><mo stretchy="false">(</mo><mi>L</mi><mo stretchy="false">)</mo><mo>âˆ’</mo><mi>p</mi><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mi>E</mi><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>âˆ’</mo><mi>p</mi><mo stretchy="false">(</mo><mi>M</mi><mo stretchy="false">)</mo><mi>E</mi><mo stretchy="false">(</mo><mi>M</mi><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mo>=</mo><mn>1</mn><mo>âˆ’</mo><mfrac><mn>4</mn><mn>20</mn></mfrac><mo>âˆ—</mo><mi>E</mi><mo stretchy="false">(</mo><mi>E</mi><mo stretchy="false">)</mo><mo>âˆ’</mo><mfrac><mn>4</mn><mn>20</mn></mfrac><mo>âˆ—</mo><mi>E</mi><mo stretchy="false">(</mo><mi>L</mi><mo stretchy="false">)</mo><mo>âˆ’</mo><mfrac><mn>5</mn><mn>20</mn></mfrac><mo>âˆ—</mo><mi>E</mi><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>âˆ’</mo><mfrac><mn>7</mn><mn>20</mn></mfrac><mi>E</mi><mo stretchy="false">(</mo><mi>M</mi><mtext>ï¼‰</mtext><mspace linebreak="newline"></mspace><mo>=</mo><mn>0.012432</mn></mrow><annotation encoding="application/x-tex">Gain(CarType)=E(s)-p(E)E(E)-p(L)E(L)-p(S)E(S)-p(M)E(M)\\=1-\frac{4}{20}*E(E)-\frac{4}{20}*E(L)-\frac{5}{20}*E(S)-\frac{7}{20}E(Mï¼‰\\=0.012432</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">G</span><span class="mord mathnormal">ain</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord mathnormal">p</span><span class="mord mathnormal">e</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal">s</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal">L</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal">L</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">p</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">20</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">20</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal">L</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">20</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">20</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mord cjk_fallback">ï¼‰</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.012432</span></span></span></span></span></p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">Val</th></tr></thead><tbody><tr><td style="text-align:center">Gain(Gender)</td><td style="text-align:center">0.029</td></tr><tr><td style="text-align:center">Gain(CarType)</td><td style="text-align:center">0.621</td></tr><tr><td style="text-align:center">Gain(ShirtSize)</td><td style="text-align:center">0.012</td></tr></tbody></table><p><strong>Answer B</strong></p><p>é€šè¿‡è®¡ç®—ç»“æœå¯çŸ¥ï¼Œ<code>CarType</code>å±æ€§å¯¹<code>Class</code>å±æ€§çš„ä¿¡æ¯å¢ç›Šç‡æœ€å¤§ï¼Œå› è€Œå†³ç­–æ ‘çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥é€‰æ‹©<code>CarType</code>ã€‚</p><p>è€Œæ­¤æ—¶<code>CarType</code>æœ‰ä¸‰ä¸ªåˆ†æ”¯ï¼Œåˆ†åˆ«æ˜¯</p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">Entropy</th></tr></thead><tbody><tr><td style="text-align:center">Family</td><td style="text-align:center">0.81</td></tr><tr><td style="text-align:center">Luxury</td><td style="text-align:center">0.54</td></tr><tr><td style="text-align:center">Sports</td><td style="text-align:center">0</td></tr></tbody></table><p>æˆ‘ä»¬é€šè¿‡è¿™ä¸‰ä¸ªåˆ†æ”¯åˆ’åˆ†æ•°æ®ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œ<code>Sports</code>åˆ†æ”¯æ²¡å¿…è¦å†åˆ†äº†</p><p>æ‰€ä»¥ç¬¬ä¸€ä¸ªåˆ†è£‚èŠ‚ç‚¹ä¸ºï¼š</p><img src="/2022/10/23/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91HW2/image-20221023165024486.png" alt="image-20221023165024486" style="zoom:50%;"><p>æˆ‘ä»¬è¿›è¡Œç¬¬äºŒæ¬¡è¿­ä»£ï¼Œç”¨<code>family</code>åˆ’åˆ†çš„æ•°æ®é›†ä¸ºï¼š</p><img src="/2022/10/23/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91HW2/image-20221023165335924.png" alt="image-20221023165335924" style="zoom:50%;"><p>ç”¨<code>Luxury</code>åˆ’åˆ†çš„æ•°æ®é›†ä¸ºï¼š</p><img src="/2022/10/23/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91HW2/image-20221023165343968.png" alt="image-20221023165343968" style="zoom:50%;"><p>è¿­ä»£è®¡ç®—ä¿¡æ¯å¢ç›Šï¼Œ<code>family</code>çš„ä¿¡æ¯å¢ç›Šä¸ºï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0.81127</mn></mrow><annotation encoding="application/x-tex">E(f)=0.81127</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.81127</span></span></span></span></span></p><p>ç”¨<code>Gender</code>åˆ’åˆ†åçš„ä¿¡æ¯å¢ç›Šï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>G</mi><mo stretchy="false">)</mo><mo>=</mo><mo>âˆ’</mo><mfrac><mn>1</mn><mn>4</mn></mfrac><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mfrac><mn>1</mn><mn>4</mn></mfrac><mo>âˆ’</mo><mfrac><mn>3</mn><mn>4</mn></mfrac><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mfrac><mn>3</mn><mn>4</mn></mfrac><mspace linebreak="newline"></mspace><mo>=</mo><mn>0.811278</mn></mrow><annotation encoding="application/x-tex">E(G)=-\frac{1}{4}log_2{\frac{1}{4}}-\frac{3}{4}log_2{\frac{3}{4}}\\=0.811278</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal">G</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord">âˆ’</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.811278</span></span></span></span></span></p><p>ç”¨<code>ShirtSize</code>åˆ’åˆ†å:</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mn>4</mn></mfrac><mo stretchy="false">[</mo><mn>0</mn><mo>+</mo><mn>0</mn><mo>+</mo><mn>0</mn><mo>+</mo><mn>0</mn><mo stretchy="false">]</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">E(S)=\frac{1}{4}[0+0+0+0]=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">4</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">[</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span></span></p><table><thead><tr><th></th><th>Gain</th></tr></thead><tbody><tr><td>Gender</td><td>0</td></tr><tr><td>ShirtSize</td><td>0.81127</td></tr></tbody></table><p>æˆ‘ä»¬é€‰æ‹©<code>ShirtSize</code>è¿›ä¸€æ­¥åˆ’åˆ†ã€‚æ­¤æ—¶ï¼Œ<code>Gender</code>å·²ç»ä¸èƒ½æä¾›ä»»ä½•çš„ä¿¡æ¯äº†ï¼Œå¯ä»¥ç›´æ¥å®Œæˆå¶å­ç»“ç‚¹çš„å·¥ä½œã€‚</p><img src="/2022/10/23/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91HW2/image-20221023170534079.png" alt="image-20221023170534079" style="zoom:50%;"><p>å†æ¥çœ‹<code>luxury</code>åˆ’åˆ†çš„æ•°æ®é›†ï¼Œ</p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">C0</th><th style="text-align:center">C1</th></tr></thead><tbody><tr><td style="text-align:center">F</td><td style="text-align:center">1</td><td style="text-align:center">6</td></tr><tr><td style="text-align:center">M</td><td style="text-align:center">0</td><td style="text-align:center">1</td></tr></tbody></table><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>G</mi><mo stretchy="false">(</mo><mi>G</mi><mi>e</mi><mi>n</mi><mi>d</mi><mi>e</mi><mi>r</mi><mo stretchy="false">)</mo><mo>=</mo><mi>E</mi><mo stretchy="false">(</mo><mi>l</mi><mi>u</mi><mi>x</mi><mi>u</mi><mi>r</mi><mi>y</mi><mo stretchy="false">)</mo><mo>âˆ’</mo><mo stretchy="false">(</mo><mn>0</mn><mo>âˆ’</mo><mfrac><mn>7</mn><mn>8</mn></mfrac><mo stretchy="false">(</mo><mfrac><mn>1</mn><mn>7</mn></mfrac><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mfrac><mn>1</mn><mn>7</mn></mfrac><mo>âˆ’</mo><mfrac><mn>6</mn><mn>7</mn></mfrac><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mfrac><mn>6</mn><mn>7</mn></mfrac><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mo>=</mo><mn>0.022</mn></mrow><annotation encoding="application/x-tex">G(Gender)=E(luxury)-(0-\frac{7}{8}(\frac{1}{7}log_2{\frac{1}{7}}-\frac{6}{7}log_2\frac{6}{7}))\\=0.022</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">G</span><span class="mopen">(</span><span class="mord mathnormal">G</span><span class="mord mathnormal">e</span><span class="mord mathnormal">n</span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.02778em;">er</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">uxu</span><span class="mord mathnormal" style="margin-right:0.03588em;">ry</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">8</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">7</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">6</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">))</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.022</span></span></span></span></span></p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">C0</th><th style="text-align:center">C1</th></tr></thead><tbody><tr><td style="text-align:center">E</td><td style="text-align:center">0</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">L</td><td style="text-align:center">1</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">M</td><td style="text-align:center">0</td><td style="text-align:center">3</td></tr><tr><td style="text-align:center">S</td><td style="text-align:center">0</td><td style="text-align:center">2</td></tr></tbody></table><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>G</mi><mo stretchy="false">(</mo><mi>S</mi><mi>h</mi><mi>i</mi><mi>r</mi><mi>t</mi><mi>S</mi><mi>i</mi><mi>z</mi><mi>e</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0.515</mn></mrow><annotation encoding="application/x-tex">G(ShirtSize)=0.515</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">G</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mord mathnormal">hi</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal" style="margin-right:0.05764em;">tS</span><span class="mord mathnormal">i</span><span class="mord mathnormal">ze</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.515</span></span></span></span></span></p><p>æ‰€ä»¥æˆ‘ä»¬ç”¨<code>ShirtSize</code>è¿›è¡Œåˆ’åˆ†ã€‚</p><img src="/2022/10/23/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91HW2/image-20221023171616919.png" alt="image-20221023171616919" style="zoom:50%;"><p>å†å¾€åçš„èŠ‚ç‚¹ä¸ºï¼š</p><img src="/2022/10/23/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91HW2/image-20221023171725261.png" alt="image-20221023171725261" style="zoom:50%;"><p>æ­¤æ—¶ï¼Œè¯¥èŠ‚ç‚¹å·²ç»æ²¡åŠæ³•å¸¦æ¥ä»»ä½•çš„ä¿¡æ¯æ”¶ç›Šäº†ï¼Œæˆ‘ä»¬å¯ä»¥è€ƒè™‘å°†å…¶è¿›è¡Œå‰ªæï¼Œé‚£æœ€ç»ˆçš„ä¸€ä¸ªå†³ç­–æ ‘ç»“æœä¸º</p><img src="/2022/10/23/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91HW2/image-20221023172055218.png" alt="image-20221023172055218" style="zoom:50%;"><hr><h3 id="Q2">Q2.</h3><p>a) Design a multilayer feed-forward neural network (one hidden layer) for the data set in Q1. Label the nodes in the input and output layers. (10 points)</p><p>(b) Using the neural network obtained above, show the weight values after one iteration of the back propagation algorithm, given the training instance â€œ(M, Family, Small)&quot;. Indicate your initial weight values and biases and the learning rate used. (10 points)</p><hr><p>a</p><hr><h2 id="Part-II-Lab">Part II: Lab</h2><p>Question 1</p><p>Assume this supermarket would like to promote milk. Use the data in â€œtransactionsâ€ as training data to build a decision tree (C5.0 algorithm) model to predict whether the customer would buy milk or not.</p><ol><li><p>Build a decision tree using data set â€œtransactionsâ€ that predicts milk as a function of the other fields. Set the â€œtypeâ€ of each field to â€œFlagâ€, set the â€œdirectionâ€ of â€œmilkâ€ as â€œoutâ€, set the â€œtypeâ€ of COD as â€œTypelessâ€, select â€œExpertâ€ and set the â€œpruning severityâ€ to 65, and set the â€œminimum records per child branchâ€ to be 95. <strong>Hand-in</strong>: A figure showing your tree. (5 points)</p></li><li><p>Use the model (the full tree generated by Clementine in step 1 above) to make a prediction for each of the 20 customers in the â€œrolloutâ€ data to determine whether the customer would buy milk. **Hand-in:**your prediction for each of the 20 customers. (5 points)</p></li></ol><p>â€‹3.<strong>Hand-in</strong>: rules for positive (yes) prediction of milk purchase identified from the decision tree (up to the fifth level. The root is considered as level 1). (5 points)</p><hr><p>1.<img src="/2022/10/23/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91HW2/%E4%B8%8B%E8%BD%BD.png" alt="ä¸‹è½½"></p><ol start="2"><li></li></ol><table><thead><tr><th style="text-align:center">ID</th><th style="text-align:center">pre_milk</th></tr></thead><tbody><tr><td style="text-align:center">1</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">3</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">4</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">5</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">6</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">7</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">8</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">9</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">10</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">11</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">12</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">13</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">14</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">15</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">16</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">17</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">18</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">19</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">20</td><td style="text-align:center">1</td></tr></tbody></table><ol start="3"><li></li></ol><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">None</summary>
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="æ•°æ®åˆ†æ" scheme="http://example.com/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode Hot100 è¯¦ç»†é¢˜è§£</title>
    <link href="http://example.com/2022/10/19/%E3%80%90LeetCode%E3%80%91%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%E5%90%88%E9%9B%86/"/>
    <id>http://example.com/2022/10/19/%E3%80%90LeetCode%E3%80%91%E6%AF%8F%E6%97%A5%E4%B8%80%E9%A2%98%E5%90%88%E9%9B%86/</id>
    <published>2022-10-19T14:48:10.353Z</published>
    <updated>2022-10-20T11:00:21.613Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ¯æ—¥ä¸€é¢˜">æ¯æ—¥ä¸€é¢˜</h2><hr><h3 id="10-19">10/19</h3><p>å­¦æ ¡çš„è‡ªåŠ©åˆé¤æä¾›åœ†å½¢å’Œæ–¹å½¢çš„ä¸‰æ˜æ²»ï¼Œåˆ†åˆ«ç”¨æ•°å­— <code>0</code> å’Œ <code>1</code> è¡¨ç¤ºã€‚æ‰€æœ‰å­¦ç”Ÿç«™åœ¨ä¸€ä¸ªé˜Ÿåˆ—é‡Œï¼Œæ¯ä¸ªå­¦ç”Ÿè¦ä¹ˆå–œæ¬¢åœ†å½¢çš„è¦ä¹ˆå–œæ¬¢æ–¹å½¢çš„ã€‚<br>é¤å…é‡Œä¸‰æ˜æ²»çš„æ•°é‡ä¸å­¦ç”Ÿçš„æ•°é‡ç›¸åŒã€‚æ‰€æœ‰ä¸‰æ˜æ²»éƒ½æ”¾åœ¨ä¸€ä¸ª <strong>æ ˆ</strong> é‡Œï¼Œæ¯ä¸€è½®ï¼š</p><ul><li>å¦‚æœé˜Ÿåˆ—æœ€å‰é¢çš„å­¦ç”Ÿ <strong>å–œæ¬¢</strong> æ ˆé¡¶çš„ä¸‰æ˜æ²»ï¼Œé‚£ä¹ˆä¼š <strong>æ‹¿èµ°å®ƒ</strong> å¹¶ç¦»å¼€é˜Ÿåˆ—ã€‚</li><li>å¦åˆ™ï¼Œè¿™åå­¦ç”Ÿä¼š <strong>æ”¾å¼ƒè¿™ä¸ªä¸‰æ˜æ²»</strong> å¹¶å›åˆ°é˜Ÿåˆ—çš„å°¾éƒ¨ã€‚</li></ul><p>è¿™ä¸ªè¿‡ç¨‹ä¼šä¸€ç›´æŒç»­åˆ°é˜Ÿåˆ—é‡Œæ‰€æœ‰å­¦ç”Ÿéƒ½ä¸å–œæ¬¢æ ˆé¡¶çš„ä¸‰æ˜æ²»ä¸ºæ­¢ã€‚</p><p>ç»™ä½ ä¸¤ä¸ªæ•´æ•°æ•°ç»„ <code>students</code> å’Œ <code>sandwiches</code> ï¼Œå…¶ä¸­ <code>sandwiches[i]</code> æ˜¯æ ˆé‡Œé¢ç¬¬ <code>i</code> ä¸ªä¸‰æ˜æ²»çš„ç±»å‹ï¼ˆ<code>i = 0</code> æ˜¯æ ˆçš„é¡¶éƒ¨ï¼‰ï¼Œ <code>students[j]</code> æ˜¯åˆå§‹é˜Ÿåˆ—é‡Œç¬¬ <code>j</code> åå­¦ç”Ÿå¯¹ä¸‰æ˜æ²»çš„å–œå¥½ï¼ˆ<code>j = 0</code> æ˜¯é˜Ÿåˆ—çš„æœ€å¼€å§‹ä½ç½®ï¼‰ã€‚è¯·ä½ è¿”å›æ— æ³•åƒåˆé¤çš„å­¦ç”Ÿæ•°é‡ã€‚</p><p><strong>tag</strong></p><ul><li>é˜Ÿåˆ—</li></ul><p><strong>æŠ½è±¡</strong></p><ul><li>å­¦ç”Ÿåˆ—è¡¨æ˜¯ä¸ªè½®æ¢çš„é˜Ÿåˆ—ã€å¾ªç¯é˜Ÿåˆ—ã€‘</li><li>è€Œä¸‰æ˜æ²»åˆ—è¡¨åè€Œæ˜¯ä¸€ä¸ªã€å›ºå®šæ ˆã€‘</li></ul><p><strong>æ€è·¯</strong></p><ul><li>å­¦ç”Ÿå¯ä»¥ä»»æ„å–</li><li>ä½†æ˜¯ä¸‰æ˜æ²»ä¸è¡Œ</li><li>ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸‰æ˜æ²»[i]å¦‚æœæ˜¯0ï¼Œæ‰€æœ‰å–œæ¬¢0çš„å­¦ç”Ÿéƒ½æ²¡äº†ï¼Œé‚£å°±ä¼šè¢«å¡ä½</li></ul><p><strong>ç®—æ³•</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">countStudents</span>(<span class="params">self, students: <span class="type">List</span>[<span class="built_in">int</span>], sandwiches: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        cnt=Counter(students)</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> sandwiches:</span><br><span class="line">            <span class="keyword">if</span> cnt[j]!=<span class="number">0</span>:</span><br><span class="line">                cnt[j]-=<span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> cnt[<span class="number">1</span>-j]</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><hr><h3 id="10-20">10/20</h3><ol start="779"><li>ç¬¬Kä¸ªè¯­æ³•ç¬¦å·</li></ol><p>æˆ‘ä»¬æ„å»ºäº†ä¸€ä¸ªåŒ…å« <code>n</code> è¡Œ( <strong>ç´¢å¼•ä» 1 å¼€å§‹</strong> )çš„è¡¨ã€‚é¦–å…ˆåœ¨ç¬¬ä¸€è¡Œæˆ‘ä»¬å†™ä¸Šä¸€ä¸ª <code>0</code>ã€‚æ¥ä¸‹æ¥çš„æ¯ä¸€è¡Œï¼Œå°†å‰ä¸€è¡Œä¸­çš„<code>0</code>æ›¿æ¢ä¸º<code>01</code>ï¼Œ<code>1</code>æ›¿æ¢ä¸º<code>10</code>ã€‚</p><ul><li>ä¾‹å¦‚ï¼Œå¯¹äº <code>n = 3</code> ï¼Œç¬¬ <code>1</code> è¡Œæ˜¯ <code>0</code> ï¼Œç¬¬ <code>2</code> è¡Œæ˜¯ <code>01</code> ï¼Œç¬¬3è¡Œæ˜¯ <code>0110</code> ã€‚</li></ul><p>ç»™å®šè¡Œæ•° <code>n</code> å’Œåºæ•° <code>k</code>ï¼Œè¿”å›ç¬¬ <code>n</code> è¡Œä¸­ç¬¬ <code>k</code> ä¸ªå­—ç¬¦ã€‚ï¼ˆ <code>k</code> <strong>ä»ç´¢å¼• 1 å¼€å§‹</strong>ï¼‰</p><p><strong>tag</strong></p><ul><li>ä½è¿ç®—</li><li>æŠ½è±¡</li></ul><p><strong>æ€è·¯</strong></p><p>ç´¢å¼•æ˜¯ä»<code>1</code>å¼€å§‹çš„ï¼Œä¸”éƒ½æ˜¯æºè‡ª<code>1</code>è¡Œçš„<code>0</code>ã€‚</p><p>ç¬¬<code>n</code>è¡Œçš„ç¬¬<code>x</code>ä¸ªå…ƒç´ ï¼Œæ˜¯ç”±ç¬¬<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>è¡Œçš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mi>l</mi><mi>o</mi><mi>o</mi><mi>r</mi><mo stretchy="false">(</mo><mfrac><mrow><mi>x</mi><mo>+</mo><mn>1</mn></mrow><mn>2</mn></mfrac><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">floor(\frac{x+1}{2})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal" style="margin-right:0.02778em;">oor</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span>å…ƒç´ ç”Ÿæˆçš„ã€‚</p><p>ä¸”æ»¡è¶³ï¼šå½“<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>æ—¶å¥‡æ•°ï¼Œè‹¥æ˜¯ç”±0ç”Ÿæˆçš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>01</mn></mrow><annotation encoding="application/x-tex">01</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">01</span></span></span></span>ï¼Œåˆ™<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>ä¸º0ï¼Œå¦åˆ™ä¸º1ï¼Œè‹¥æ˜¯ç”±1ç”Ÿæˆçš„10ï¼Œåˆ™xä¸º1ï¼Œå¦åˆ™ä¸º0.</p><p>äºæ˜¯æˆ‘ä»¬å‘ç°ï¼Œå‡è®¾ç¬¬<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>è¡Œçš„ç¬¬<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>ä¸ªå…ƒç´ ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mi>u</mi><mi>m</mi><mn>1</mn></mrow><annotation encoding="application/x-tex">num1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">u</span><span class="mord mathnormal">m</span><span class="mord">1</span></span></span></span>ï¼Œåˆ™å®ƒå¯ä»¥ç”±ç¬¬<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>è¡Œçš„ç¬¬<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi><mi>l</mi><mi>o</mi><mi>o</mi><mi>r</mi><mo stretchy="false">(</mo><mfrac><mrow><mi>x</mi><mo>+</mo><mn>1</mn></mrow><mn>2</mn></mfrac><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">floor(\frac{x+1}{2})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal" style="margin-right:0.02778em;">oor</span><span class="mopen">(</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="mbin mtight">+</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span>ä¸ªå…ƒç´ ç”Ÿæˆè€Œæ¥ï¼Œä¸”æ»¡è¶³ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>n</mi><mi>u</mi><mi>m</mi><mn>1</mn><mo>=</mo><mo stretchy="false">(</mo><mi>x</mi><mi mathvariant="normal">&amp;</mi><mn>1</mn><mo stretchy="false">)</mo><mo>âˆ§</mo><mn>1</mn><mo>âˆ§</mo><mi>n</mi><mi>u</mi><mi>m</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">num1=(x\&amp;1)\wedge1\wedge num2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">u</span><span class="mord mathnormal">m</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mord">&amp;1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ§</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ§</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord mathnormal">n</span><span class="mord mathnormal">u</span><span class="mord mathnormal">m</span><span class="mord">2</span></span></span></span></span></p><p>è¿™é‡Œè¯´æ˜ä¸‹ï¼Œå¦‚æœ<code>num2</code>æ˜¯0ï¼Œå½“<code>num1</code>ä¸ºå¥‡æ•°ï¼Œåˆ™å…¶å€¼ä¸º0ï¼Œå¦åˆ™ä¸º1ã€‚å½“<code>num2</code>æ˜¯1ï¼Œé‚£ä¹ˆ<code>num1</code>æ˜¯å¥‡æ•°æ—¶ï¼Œå…¶å€¼ä¸º1ï¼Œå¦åˆ™ä¸º0ã€‚</p><p>è¯´ä¸€ä¸ªå¥½ç©çš„ï¼Œå…³äº</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>y</mi><mo>âˆ§</mo><mn>1</mn><mo>âˆ§</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">y\wedge 1\wedge x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.75em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ§</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ§</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></span></p><p>yå¼‚æˆ–1åï¼ŒåŸå…ˆæ˜¯0çš„å˜æˆ1ï¼ŒåŸå…ˆæ˜¯1çš„å˜æˆ0ï¼Œå¥‡å¶æ¢ä½ã€‚</p><p><strong>å®ç°</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">kthGrammar</span>(<span class="params">self, n: <span class="built_in">int</span>, k: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">not</span> (k &amp; <span class="number">1</span>) ) ^ self.kthGrammar(n - <span class="number">1</span>, (k + <span class="number">1</span>) // <span class="number">2</span>)</span><br></pre></td></tr></table></figure><p>æˆ–è€…æ˜¯</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">kthGrammar</span>(<span class="params">self, n: <span class="built_in">int</span>, k: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">return</span> ((k &amp; <span class="number">1</span>)^<span class="number">1</span> ) ^ self.kthGrammar(n - <span class="number">1</span>, (k + <span class="number">1</span>) // <span class="number">2</span>)</span><br></pre></td></tr></table></figure><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">çƒ­é¢˜ï¼è¿˜æ˜¯çƒ­é¢˜ï¼</summary>
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="ç®—æ³•" scheme="http://example.com/tags/%E7%AE%97%E6%B3%95/"/>
    
    <category term="LeetCode" scheme="http://example.com/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>æµ·æ´‹é¥æ„ŸEOFåˆ†æ</title>
    <link href="http://example.com/2022/10/15/%E3%80%90%E6%B5%B7%E6%B4%8B%E9%81%A5%E6%84%9F%E3%80%91EOF%E5%88%86%E6%9E%90/"/>
    <id>http://example.com/2022/10/15/%E3%80%90%E6%B5%B7%E6%B4%8B%E9%81%A5%E6%84%9F%E3%80%91EOF%E5%88%86%E6%9E%90/</id>
    <published>2022-10-15T12:55:29.748Z</published>
    <updated>2022-10-21T07:51:30.834Z</updated>
    
    <content type="html"><![CDATA[<h1>Nino SST Indices</h1><hr><p>NiÃ±o 3.4 (5N-5S, 170W-120W): NiÃ±o 3.4å¼‚å¸¸å¯ä»¥è¢«è®¤ä¸ºä»£è¡¨ä»æ—¥å˜çº¿å·¦å³åˆ°å—ç¾æµ·å²¸æ¨ªè·¨å¤ªå¹³æ´‹çš„èµ¤é“æµ·æ¸©å¹³å‡æ°´å¹³ã€‚NiÃ±o 3.4æŒ‡æ•°é€šå¸¸ä½¿ç”¨5ä¸ªæœˆçš„è¿è¡Œå¹³å‡å€¼ï¼Œå½“NiÃ±o 3.4 sstè¿ç»­6ä¸ªæœˆæˆ–ä»¥ä¸Šè¶…è¿‡Â±0.4â„ƒæ—¶ï¼Œåˆ™å®šä¹‰El NiÃ±oæˆ–La NiÃ±aäº‹ä»¶ã€‚</p><p>ç»éªŒæ­£äº¤å‡½æ•°åˆ†ææ–¹æ³•(Empirical Orthogonal Function,ç¼©å†™ä¸ºEOF)ï¼Œä¹Ÿç§°ç‰¹å¾å‘é‡åˆ†æ(Eigenvector Analysis)ï¼Œæˆ–è€…ä¸»æˆåˆ†åˆ†æ(Principal Component Analysis,ç¼©å†™PCA)ï¼Œæ˜¯ä¸€ç§åˆ†æ<a href="https://baike.baidu.com/item/%E7%9F%A9%E9%98%B5/18069?fromModule=lemma_inlink">çŸ©é˜µ</a>æ•°æ®ä¸­çš„ç»“æ„ç‰¹å¾ï¼Œæå–ä¸»è¦æ•°æ®ç‰¹å¾é‡çš„ä¸€ç§æ–¹æ³•ã€‚Lorenzåœ¨1950å¹´ä»£é¦–æ¬¡å°†å…¶å¼•å…¥æ°”è±¡å’Œæ°”å€™ç ”ç©¶ï¼Œåœ¨åœ°å­¦åŠæ°´å£°å­¦ç­‰å…¶ä»–å­¦ç§‘ä¸­å¾—åˆ°äº†éå¸¸å¹¿æ³›çš„åº”ç”¨ã€‚åœ°å­¦æ•°æ®åˆ†æä¸­é€šå¸¸ç‰¹å¾å‘é‡å¯¹åº”çš„æ˜¯ç©ºé—´æ ·æœ¬ï¼Œæ‰€ä»¥ä¹Ÿç§°ç©ºé—´ç‰¹å¾å‘é‡æˆ–è€…ç©ºé—´æ¨¡æ€ï¼›ä¸»æˆåˆ†å¯¹åº”çš„æ˜¯æ—¶é—´å˜åŒ–ï¼Œä¹Ÿç§°æ—¶é—´ç³»æ•°ã€‚å› æ­¤åœ°å­¦ä¸­ä¹Ÿå°†EOFåˆ†æç§°ä¸ºæ—¶ç©ºåˆ†è§£ã€‚</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>F</mi><mo>=</mo><mi>E</mi><mi>O</mi><mi>F</mi><mo>Ã—</mo><mi>P</mi><mi>C</mi><mo>+</mo><mi>M</mi><mi>e</mi><mi>a</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">F=EOF\times PC+Mean</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">EOF</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">PC</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mord mathnormal">e</span><span class="mord mathnormal">an</span></span></span></span></span></p><p>ç®—æ³•è§£é‡Šå¦‚ä¸‹ï¼š</p><p><strong>Input</strong></p><p><code>time*(map)</code>çŸ©é˜µï¼Œè¡Œè¡¨ç¤ºæ—¶é—´ï¼Œåˆ—è¡¨ç¤ºç©ºé—´</p><p><strong>Output</strong></p><p><code>EOF</code>ç©ºé—´æ¨¡æ€ï¼Œ<code>PC</code>æ—¶é—´æ¨¡æ€</p><p><strong>Step</strong></p><p>0ï¸âƒ£ é¢„å¤„ç†ï¼šç»åº¦å¤„ç†</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>F</mi><mo>=</mo><msqrt><mrow><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>l</mi><mi>a</mi><mi>t</mi><mo stretchy="false">)</mo></mrow></msqrt></mrow><annotation encoding="application/x-tex">F=\sqrt{cos(lat)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.24em;vertical-align:-0.2561em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9839em;"><span class="svg-align" style="top:-3.2em;"><span class="pstrut" style="height:3.2em;"></span><span class="mord" style="padding-left:1em;"><span class="mord mathnormal">cos</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span><span style="top:-2.9439em;"><span class="pstrut" style="height:3.2em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewbox="0 0 400000 1296" preserveaspectratio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120c340,-704.7,510.7,-1060.3,512,-1067l0 -0c4.7,-7.3,11,-11,19,-11H40000v40H1012.3s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60zM1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2561em;"><span></span></span></span></span></span></span></span></span></span></p><p>è¿™ä¸€æ­¥çš„ç›®çš„æ˜¯è®¡ç®—åæ–¹å·®è¾¾åˆ°ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>C</mi><mo>=</mo><mi>c</mi><mi>o</mi><mi>s</mi><mo stretchy="false">(</mo><mi>l</mi><mi>a</mi><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">C=cos(lat)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">cos</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">a</span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span></span></p><p>çš„æ•ˆæœã€‚</p><p>æœ¬è´¨ä¸Šæ˜¯å› ä¸ºåˆ†å¸¦åœ¨ä¸åŒç»´åº¦ä¸Šçš„é¢ç§¯ä¼šå‘ç”Ÿå˜åŒ–ï¼Œéœ€è¦é€šè¿‡è§’åº¦è¿›è¡Œä¿®æ­£ã€‚</p><p>1ï¸âƒ£ è®¡ç®—çŸ©é˜µè·å¹³</p><p>è¿™æ­¥æ˜¯ä¸»æˆåˆ†åˆ†æçš„å…³é”®ï¼Œä¸åˆ©ç”¨è·å¹³çš„è¯åœ¨æ•°å­¦æ„ä¹‰ä¸Šå°±æ— æ³•é€šè¿‡åæ–¹å·®çŸ©é˜µè¿›è¡Œç‰¹å¾åˆ†è§£ã€‚</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>F</mi><mo>=</mo><mo stretchy="false">(</mo><mi>F</mi><mo>âˆ’</mo><mi>M</mi><mi>e</mi><mi>a</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">F=(F-Mean)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mord mathnormal">e</span><span class="mord mathnormal">an</span><span class="mclose">)</span></span></span></span></span></p><p>2ï¸âƒ£ è®¡ç®—åæ–¹å·®çŸ©é˜µ</p><p>åœ¨ç›¸äº’ç‹¬ç«‹çš„æ­£äº¤åŸºä¸Šå¯¹åŸå§‹çŸ©é˜µè¿›è¡Œç©ºé—´å˜æ¢ï¼Œå¯»æ±‚æ–¹å·®æœ€å¤§çš„éƒ¨åˆ†</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>C</mi><mo>=</mo><mi>c</mi><mi>o</mi><mi>v</mi><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">C=cov(F)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">co</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mclose">)</span></span></span></span></span></p><p>3ï¸âƒ£ è®¡ç®—ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡</p><p>ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡åˆ†åˆ«è¡¨ç¤ºäº†æ­£äº¤åŸºä¸Šçš„ç¼©æ”¾å€æ•°å’Œæ­£äº¤åŸºï¼Œæˆ‘ä»¬é€‰å–æ–¹å·®ä¸Šæœ€å¤§çš„ç¼©æ”¾å€æ•°ï¼Œä¹Ÿå°±æ˜¯æœ€å¤§çš„ç‰¹å¾å€¼æ¥å¯¹åŸå§‹ç©ºé—´è¿›è¡Œå˜æ¢ï¼Œå¾—åˆ°çš„æ–°æ•°æ®èƒ½å¤Ÿä¿ç•™æœ€å¤§çš„ä¿¡æ¯é‡ã€‚</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mi>O</mi><mi>F</mi><mo separator="true">,</mo><mi>L</mi><mo>=</mo><mi>e</mi><mi>i</mi><mi>g</mi><mo stretchy="false">(</mo><mi>C</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">EOF,L=eig(C)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">EOF</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">L</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">e</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mclose">)</span></span></span></span></span></p><p>è¿™ä¸ªç‰¹å¾å‘é‡å°±æ˜¯æˆ‘ä»¬çš„<code>EOF</code>ç©ºé—´æ¨¡æ€ã€‚</p><p>4ï¸âƒ£è®¡ç®—æ—¶é—´æ¨¡æ€</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>P</mi><mi>C</mi><mo>=</mo><mi>E</mi><mi>O</mi><msup><mi>F</mi><mi>T</mi></msup><mo>Ã—</mo><mo stretchy="false">(</mo><mi>F</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">PC=EOF^T\times(F)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">PC</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.9747em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">EO</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8913em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class="mclose">)</span></span></span></span></span></p><p>åŸå§‹æ•°æ®åœ¨æ–°çš„å‘é‡ç©ºé—´ä¸Šçš„å˜æ¢ï¼Œé‚£å°±æ˜¯ä¸»æˆåˆ†PCï¼Œåœ¨è¿™é‡Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„æ—¶é—´ç‰¹å¾ã€‚</p><hr><p>ç»“æœå¦‚ä¸‹ï¼š</p><p>ç©ºé—´æ¨¡æ€:</p><img src="/2022/10/15/%E3%80%90%E6%B5%B7%E6%B4%8B%E9%81%A5%E6%84%9F%E3%80%91EOF%E5%88%86%E6%9E%90/image-20221015205552316.png" alt="image-20221015205552316" style="zoom: 33%;"><img src="/2022/10/15/%E3%80%90%E6%B5%B7%E6%B4%8B%E9%81%A5%E6%84%9F%E3%80%91EOF%E5%88%86%E6%9E%90/image-20221015205611304.png" alt="image-20221015205611304" style="zoom: 33%;"><p>å¯¹åº”çš„æ—¶é—´ç‰¹å¾ï¼š</p><img src="/2022/10/15/%E3%80%90%E6%B5%B7%E6%B4%8B%E9%81%A5%E6%84%9F%E3%80%91EOF%E5%88%86%E6%9E%90/image-20221015205651316.png" alt="image-20221015205651316" style="zoom: 33%;"><img src="/2022/10/15/%E3%80%90%E6%B5%B7%E6%B4%8B%E9%81%A5%E6%84%9F%E3%80%91EOF%E5%88%86%E6%9E%90/image-20221015205733048.png" alt="image-20221015205733048" style="zoom: 33%;"><p>æˆ‘ä»¬é€‰æ‹©<code>Nino 3.4</code>æŒ‡æ•°è¿›è¡Œç›¸å…³æ€§åˆ¤åˆ«ï¼š</p><table><thead><tr><th style="text-align:center"></th><th style="text-align:center">PC1</th><th style="text-align:center">PC2</th><th style="text-align:center">NIno</th></tr></thead><tbody><tr><td style="text-align:center">PC1</td><td style="text-align:center">1</td><td style="text-align:center">4.17e-09</td><td style="text-align:center">-0.142</td></tr><tr><td style="text-align:center">PC2</td><td style="text-align:center">4.17e-09</td><td style="text-align:center">1</td><td style="text-align:center">0.831</td></tr><tr><td style="text-align:center">Nino</td><td style="text-align:center">-0.142</td><td style="text-align:center">0.831</td><td style="text-align:center">1</td></tr></tbody></table><p>å¯ä»¥å‘ç°ï¼Œ<code>PC2</code>ä¸<code>NIno 3.4</code>æŒ‡æ•°å…·æœ‰å¼ºç›¸å…³æ€§<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mo>â‰¥</mo><mn>0.8</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\ge0.8)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mrel">â‰¥</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0.8</span><span class="mclose">)</span></span></span></span>,å¯ä»¥ç”¨æ¥æ¢ç©¶å„å°”å°¼è¯ºç°è±¡ã€‚</p><p>æˆ‘ä»¬ä¹Ÿç»˜åˆ¶äº†æ¯ä¸ªæœˆçš„ç©ºé—´æ°”å€™ç›´æ–¹å›¾ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œæœ‰äº›æœˆä»½çš„ç›´æ–¹å›¾å…·æœ‰æ˜æ˜¾çš„é«˜å³°å’Œèšé›†ç¨‹åº¦ã€‚</p><hr><p><img src="/2022/10/15/%E3%80%90%E6%B5%B7%E6%B4%8B%E9%81%A5%E6%84%9F%E3%80%91EOF%E5%88%86%E6%9E%90/GIF.gif" alt="GIF"></p><p>å¹´ä»½ç®±çº¿å›¾å˜åŒ–è¶‹åŠ¿</p><p>ä¾‹å¦‚ï¼š07å¹´å…¨çƒæ¸©åº¦å˜åŒ–è·¨åº¦æœ€å¤§ï¼Œ14å¹´æ°”æ¸©æœ€é«˜ï¼Œ98å¹´æ°”æ¸©æ¯”è¾ƒé›†ä¸­ä¸”ç›¸å¯¹è¾ƒä½ï¼Œæ•°æ®é‡é›†ä¸­åˆ†å¸ƒä¸<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">Q_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>å’Œä¸­ä½æ•°ä¹‹é—´ï¼Œä»¥ä½æ¸©ä¸ºä¸»ï¼Œé«˜æ¸©ä¸ºè¾…ï¼Œä½†96å¹´çš„æ—¶å€™ï¼Œç›¸å¯¹é«˜æ¸©åœ°åŒº(é«˜äº<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">Q_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>)è¾ƒå¤šã€‚</p><p><img src="/2022/10/15/%E3%80%90%E6%B5%B7%E6%B4%8B%E9%81%A5%E6%84%9F%E3%80%91EOF%E5%88%86%E6%9E%90/%E4%B8%8B%E8%BD%BD.png" alt="ä¸‹è½½"></p><hr><p>ç©ºé—´è‡ªç›¸å…³æŒ‡æ•°</p><p>APIä»£ç </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ©ç”¨ç©ºé—´ç»Ÿè®¡é‡Moranå’ŒGearyè®¡ç®—é¥æ„Ÿæ•°æ®çš„è‡ªç›¸å…³ç¨‹åº¦</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getMoranV</span>(<span class="params">path,val=<span class="number">1</span>,t=<span class="number">0</span>,method=<span class="string">&quot;Moran&quot;</span></span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    :param path: å›¾åƒè·¯å¾„</span></span><br><span class="line"><span class="string">    :param t: å·ç§¯æ ¸ç±»å‹</span></span><br><span class="line"><span class="string">    :param method: ç©ºé—´è‡ªç›¸å…³æ–¹æ³•</span></span><br><span class="line"><span class="string">    :param val: ç©ºé—´æƒé‡</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="comment"># è¯»å–æ•°æ®</span></span><br><span class="line">    wb1 = path</span><br><span class="line">    data = wb1.values</span><br><span class="line">    n, m = wb1.shape</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å®šä¹‰å·ç§¯æ ¸</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># queen å·ç§¯</span></span><br><span class="line">    dir2 = [[<span class="number">1</span>, <span class="number">0</span>], [-<span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, -<span class="number">1</span>], [<span class="number">1</span>, <span class="number">1</span>], [<span class="number">1</span>, -<span class="number">1</span>], [-<span class="number">1</span>, <span class="number">1</span>], [-<span class="number">1</span>, -<span class="number">1</span>]]</span><br><span class="line">    <span class="comment"># Rook å·ç§¯</span></span><br><span class="line">    dir1 = [[<span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>], [-<span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, -<span class="number">1</span>]]</span><br><span class="line">    <span class="comment"># Bishop å·ç§¯</span></span><br><span class="line">    dir3=[[<span class="number">1</span>,<span class="number">1</span>],[<span class="number">1</span>,-<span class="number">1</span>],[-<span class="number">1</span>,<span class="number">1</span>],[-<span class="number">1</span>,-<span class="number">1</span>]]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> t==<span class="number">0</span>:</span><br><span class="line">        <span class="built_in">dir</span>=dir1</span><br><span class="line">    <span class="keyword">elif</span> t==<span class="number">1</span>:</span><br><span class="line">        <span class="built_in">dir</span>=dir2</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">dir</span>=dir3</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¼€è¾ŸO(n^4)æƒé‡çŸ©é˜µ</span></span><br><span class="line">    <span class="comment"># è¿™ç©æ„å¾ˆè€—å†…å­˜ï¼Œæ‰€ä»¥å¯ä»¥è€ƒè™‘ç”¨å±€éƒ¨è®¡ç®—ä»£æ›¿å…¨å±€è®¡ç®—</span></span><br><span class="line">    a = [[] <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n*m)]</span><br><span class="line">    a_weight=<span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">            <span class="comment"># æ‰¾åˆ°ä»–åœ¨äºŒç»´ä¸Šçš„ä¸´ç•Œç‚¹</span></span><br><span class="line">            loc=i*m+j</span><br><span class="line">            <span class="keyword">for</span> detX, detY <span class="keyword">in</span> <span class="built_in">dir</span>:</span><br><span class="line">                x = i + detX</span><br><span class="line">                y = j + detY</span><br><span class="line">                <span class="comment"># è½¬åŒ–ä¸ºä¸€ç»´</span></span><br><span class="line">                <span class="comment"># è¾¹ç•Œå¤„ç†</span></span><br><span class="line">                <span class="keyword">if</span> <span class="number">0</span> &lt;= x &lt; n <span class="keyword">and</span> <span class="number">0</span> &lt;= y &lt; m:</span><br><span class="line">                    a[loc].append([x,y,val])</span><br><span class="line">                    a_weight+=val</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">moranIndex</span>(<span class="params">data,weight</span>):</span><br><span class="line">        <span class="comment"># è«å…°æŒ‡æ•°è®¡ç®—</span></span><br><span class="line">        <span class="comment"># s_0=np.sum(np.sum(weight))</span></span><br><span class="line">        s_0=a_weight</span><br><span class="line">        n,m=<span class="built_in">len</span>(data),<span class="built_in">len</span>(data[<span class="number">0</span>])</span><br><span class="line">        x_hat=np.mean(data)</span><br><span class="line">        up_sum=<span class="number">0</span></span><br><span class="line">        down_sum=<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">                <span class="comment"># ä¸‹ä¸€è½®</span></span><br><span class="line">                loc=i*m+j</span><br><span class="line">                <span class="keyword">for</span> v <span class="keyword">in</span> weight[loc]:</span><br><span class="line">                    up_sum+=v[<span class="number">2</span>]*(data[i][j]-x_hat)*(data[v[<span class="number">0</span>]][v[<span class="number">1</span>]]-x_hat)</span><br><span class="line">                down_sum+=(data[i][j]-x_hat)**<span class="number">2</span></span><br><span class="line">        <span class="keyword">return</span> (n*m/s_0)*(up_sum/down_sum)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">Geary_C</span>(<span class="params">data,weight</span>):</span><br><span class="line">        <span class="comment"># Geary&#x27;s Cè®¡ç®—</span></span><br><span class="line">        s_0=a_weight*<span class="number">2</span></span><br><span class="line">        n, m = <span class="built_in">len</span>(data), <span class="built_in">len</span>(data[<span class="number">0</span>])</span><br><span class="line">        x_hat = np.mean(data)</span><br><span class="line">        up_sum = <span class="number">0</span></span><br><span class="line">        down_sum = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">                <span class="comment"># ä¸‹ä¸€è½®</span></span><br><span class="line">                loc = i * m + j</span><br><span class="line">                <span class="keyword">for</span> v <span class="keyword">in</span> weight[loc]:</span><br><span class="line"></span><br><span class="line">                    up_sum += v[<span class="number">2</span>] * (data[i][j] - data[v[<span class="number">0</span>]][v[<span class="number">1</span>]])**<span class="number">2</span></span><br><span class="line">                down_sum += (data[i][j] - x_hat) ** <span class="number">2</span></span><br><span class="line">        <span class="keyword">return</span> ((n*m-<span class="number">1</span>)/(s_0))*(up_sum/down_sum)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (M:=method.upper())==<span class="string">&quot;MORAN&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> moranIndex(data,a)</span><br><span class="line">    <span class="keyword">elif</span> M==<span class="string">&quot;GEARY&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> Geary_C(data,a)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getHelp</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Method: &#123;&#x27;Moran&#x27;,&#x27;Geary&#x27;&#125;&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;t: &#123;0:Rook,1:Queen,2:bishop&#125;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    getHelp()</span><br><span class="line">    path = <span class="string">r&quot;\data.xlsx&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;å¢¨å…°æŒ‡æ•°ä¸º: %s&quot;</span>%getMoranV(path,val=<span class="number">1</span>,t=<span class="number">0</span>))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Geary&#x27;s Cä¸º: %s&quot;</span>%getMoranV(path,val=<span class="number">1</span>,t=<span class="number">0</span>,method=<span class="string">&quot;Geary&quot;</span>))</span><br></pre></td></tr></table></figure><p><strong>å¤„ç†</strong></p><p>é€æœˆéå†æ•°æ®å³å¯</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">List</span>=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(data.shape[<span class="number">0</span>]): </span><br><span class="line">    <span class="type">List</span>.append(getMoranV(pd.DataFrame(data[i]),val=<span class="number">1</span>,t=<span class="number">1</span>))</span><br></pre></td></tr></table></figure><p><strong>ç»“æœå¯è§†åŒ–</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">plt.figure(figsize=(<span class="number">20</span>,<span class="number">6</span>))</span><br><span class="line">plt.plot(<span class="built_in">range</span>((v:=data.shape[<span class="number">0</span>])),<span class="type">List</span>,<span class="string">&#x27;r-&#x27;</span>)</span><br><span class="line">Mean=<span class="built_in">sum</span>(<span class="type">List</span>)/(<span class="built_in">len</span>(<span class="type">List</span>))</span><br><span class="line">plt.plot(<span class="built_in">range</span>(v),[Mean]*v,<span class="string">&#x27;b&#x27;</span>,linestyle=<span class="string">&#x27;--&#x27;</span>,alpha=<span class="number">0.2</span>)</span><br><span class="line">plt.title(<span class="string">&quot;åŸºäºQueené‚»æ¥çš„SSTç©ºé—´è‡ªç›¸å…³æœˆå˜åŒ–&quot;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;æ—¶é—´&quot;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&quot;æ—¥æœŸ&quot;</span>)</span><br><span class="line">T=[]</span><br><span class="line">M,Y=<span class="number">1</span>,<span class="number">1990</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">360</span>):</span><br><span class="line">    T.append(<span class="string">&quot;%så¹´%sæœˆ&quot;</span>%(Y,M))</span><br><span class="line">    <span class="keyword">if</span> M%<span class="number">12</span>==<span class="number">0</span>:</span><br><span class="line">        M=<span class="number">1</span></span><br><span class="line">        Y+=<span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        M+=<span class="number">1</span></span><br><span class="line">plt.xticks(<span class="built_in">range</span>(<span class="number">360</span>)[::<span class="number">20</span>],T[::<span class="number">20</span>])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/2022/10/15/%E3%80%90%E6%B5%B7%E6%B4%8B%E9%81%A5%E6%84%9F%E3%80%91EOF%E5%88%86%E6%9E%90/%E4%B8%8B%E8%BD%BD-1665994586589-4.png" alt="ä¸‹è½½"></p><hr><p><strong>ç»˜åˆ¶é€æœˆåŠ¨å›¾</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">List</span>=[[]]</span><br><span class="line">t=<span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> t&lt;data.shape[<span class="number">0</span>]:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(<span class="type">List</span>[-<span class="number">1</span>])==<span class="number">12</span>:</span><br><span class="line">        <span class="type">List</span>.append([])</span><br><span class="line">    <span class="type">List</span>[-<span class="number">1</span>].append(getMoranV(pd.DataFrame(data[t]),val=<span class="number">1</span>,t=<span class="number">1</span>))</span><br><span class="line">    t+=<span class="number">1</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬é€šè¿‡äºŒç»´åˆ—è¡¨çš„æ–¹å¼å¯¹å¹´ä»½åŠ ä»¥åŒºåˆ†ï¼Œè¿™ä¹Ÿæ˜¯å¸¸è§çš„æ‰‹æ®µã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é€å¹´ç»˜åˆ¶</span></span><br><span class="line">path=<span class="string">r&quot;\yourpath&quot;</span></span><br><span class="line">timeList=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(<span class="type">List</span>)):</span><br><span class="line">    lis=<span class="type">List</span>[i]</span><br><span class="line">    plt.figure(figsize=(<span class="number">20</span>,<span class="number">6</span>))</span><br><span class="line">    plt.plot(<span class="built_in">range</span>(<span class="number">12</span>),lis,<span class="string">&#x27;r-&#x27;</span>)</span><br><span class="line">    Mean=<span class="built_in">sum</span>(lis)/<span class="number">12</span></span><br><span class="line">    plt.plot(<span class="built_in">range</span>(<span class="number">12</span>),[Mean]*<span class="number">12</span>,<span class="string">&#x27;b&#x27;</span>,linestyle=<span class="string">&#x27;--&#x27;</span>,alpha=<span class="number">0.2</span>)</span><br><span class="line">    plt.title(<span class="string">&quot;%så¹´&quot;</span>%(i+<span class="number">1990</span>))</span><br><span class="line">    plt.xticks(<span class="built_in">range</span>(<span class="number">12</span>),[<span class="string">&quot;%sæœˆ&quot;</span>%(m+<span class="number">1</span>) <span class="keyword">for</span> m <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">12</span>)])</span><br><span class="line">    plt.savefig((val:=path+<span class="string">&quot;\\&quot;</span>+<span class="string">&quot;%s.png&quot;</span>%i),dpi=<span class="number">200</span>)</span><br><span class="line">    timeList.append(val)</span><br></pre></td></tr></table></figure><p>æ¥ç€å°±æ˜¯æ­£å¸¸çš„ç»˜åˆ¶ï¼Œæˆ‘ä»¬éœ€è¦å°†å›¾åƒå­˜å‚¨ä¸‹æ¥ï¼Œå¹¶è®°å½•å­˜å‚¨ä½ç½®ã€‚</p><p>é€šè¿‡<code>imageio</code>æ¨¡å—åˆ¶ä½œåŠ¨å›¾ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">IMG=[]</span><br><span class="line"><span class="keyword">import</span> imageio</span><br><span class="line">path=<span class="string">r&quot;C:\Users\lenovo\Desktop\Ocean\Spatial&quot;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> timeList:</span><br><span class="line">    IMG.append(imageio.imread(i))</span><br><span class="line">imageio.mimsave(path+<span class="string">&quot;\\&quot;</span>+<span class="string">&quot;GIF1.gif&quot;</span>,IMG,<span class="string">&quot;GIF&quot;</span>,duration=<span class="number">1</span>)</span><br></pre></td></tr></table></figure><p><img src="/2022/10/15/%E3%80%90%E6%B5%B7%E6%B4%8B%E9%81%A5%E6%84%9F%E3%80%91EOF%E5%88%86%E6%9E%90/GIF1-1665995063358-1.gif" alt="GIF1"></p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">æµ·æ´‹é¥æ„Ÿ</summary>
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="æµ·æ´‹é¥æ„Ÿ" scheme="http://example.com/tags/%E6%B5%B7%E6%B4%8B%E9%81%A5%E6%84%9F/"/>
    
  </entry>
  
  <entry>
    <title>100ä¸ªå¥å­</title>
    <link href="http://example.com/2022/10/12/%E3%80%90%E8%8B%B1%E8%AF%AD%E3%80%91100%E4%B8%AA%E5%8F%A5%E5%AD%90/"/>
    <id>http://example.com/2022/10/12/%E3%80%90%E8%8B%B1%E8%AF%AD%E3%80%91100%E4%B8%AA%E5%8F%A5%E5%AD%90/</id>
    <published>2022-10-12T14:35:34.196Z</published>
    <updated>2022-10-13T12:48:26.607Z</updated>
    
    <content type="html"><![CDATA[<h2 id="One-Hundred-Sentence">One Hundred Sentence</h2><hr><p>1ï¸âƒ£ There is considerable debate over how we should react if we detect  a signal from an alien civilisation,</p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;One-Hundred-Sentence&quot;&gt;One Hundred Sentence&lt;/h2&gt;
&lt;hr&gt;
&lt;p&gt;1ï¸âƒ£ There is considerable debate over how we should react if we detect  a si</summary>
      
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="è‹±è¯­" scheme="http://example.com/tags/%E8%8B%B1%E8%AF%AD/"/>
    
  </entry>
  
  <entry>
    <title>ã€æ•°æ®åˆ†æã€‘Chapter 3. å›å½’åˆ†æ</title>
    <link href="http://example.com/2022/10/11/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91%E5%9B%9E%E5%BD%92/"/>
    <id>http://example.com/2022/10/11/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91%E5%9B%9E%E5%BD%92/</id>
    <published>2022-10-11T08:17:22.475Z</published>
    <updated>2022-10-11T12:58:17.678Z</updated>
    
    <content type="html"><![CDATA[<h1>å›å½’åˆ†æ</h1><hr><blockquote><p>å›å½’åˆ†æçš„æ ¸å¿ƒåœ¨äºç¡®å®šå˜é‡ä¹‹é—´å­˜åœ¨ç€çš„<strong>å‡½æ•°å…³ç³»</strong></p></blockquote><p>å„ä¸ªå˜é‡ä¹‹é—´å¯ä»¥åˆ†ä¸ºç¡®å®šå…³ç³»å’Œéç¡®å®šå…³ç³»(ç›¸å¯¹å…³ç³»)ï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯å¯¹è¿™ç§å…³ç³»è¿›è¡Œ<strong>å»ºæ¨¡å’Œè§£é‡Š</strong>ã€‚</p><p>å…¶ä¸»è¦æµç¨‹å¯ä»¥è§£é‡Šå¦‚ä¸‹ï¼š</p><ul><li>æ”¶é›†ä¸€ç»„åŒ…å«å› å˜é‡å’Œè‡ªå˜é‡çš„æ•°æ®</li><li>æ ¹æ®å› å˜é‡å’Œè‡ªå˜é‡ä¹‹é—´çš„å…³ç³»ï¼Œåˆæ­¥è®¾å®šå›å½’æ¨¡å‹</li><li>æ±‚è§£åˆç†çš„å›å½’ç³»æ•°</li><li>è¿›è¡Œç›¸å…³æ€§æ£€éªŒï¼Œç¡®å®šç›¸å…³ç³»æ•°</li><li>åˆ©ç”¨æ¨¡å‹å¯¹å› å˜é‡åšå‡ºé¢„æµ‹æˆ–è§£é‡Šï¼Œå¹¶è®¡ç®—é¢„æµ‹å€¼çš„ç½®ä¿¡åŒºé—´ã€‚</li></ul><hr><h2 id="ä¸€ã€ä¸€å…ƒçº¿æ€§å›å½’åˆ†æ">ä¸€ã€ä¸€å…ƒçº¿æ€§å›å½’åˆ†æ</h2><p>è¡¨è¾¾å¼å¦‚ä¸‹ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>y</mi><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>Î¸</mi><mo stretchy="false">)</mo><mo>+</mo><mi>Îµ</mi><mo>=</mo><msub><mi>Î²</mi><mn>0</mn></msub><mo>+</mo><msub><mi>Î²</mi><mn>1</mn></msub><mi>x</mi><mo>+</mo><mi>Îµ</mi></mrow><annotation encoding="application/x-tex">y=f(x,\theta)+\varepsilon=\beta_0+\beta_1x+\varepsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">Îµ</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">Îµ</span></span></span></span></span></p><p>å…¶ä¸­ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Îµ</mi></mrow><annotation encoding="application/x-tex">\varepsilon</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">Îµ</span></span></span></span>è¡¨ç¤º<strong>è¯¯å·®</strong>é¡¹ï¼Œå…¶æœŸæœ›<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo stretchy="false">(</mo><mi>Îµ</mi><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">E(\varepsilon)=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal">Îµ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>ï¼Œæ–¹å·®ç­‰äº<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi><mo stretchy="false">(</mo><mi>Îµ</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>Ïƒ</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">D(\varepsilon)=\sigma^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">D</span><span class="mopen">(</span><span class="mord mathnormal">Îµ</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Î²</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">\beta_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä¸ºå¸¸æ•°é¡¹ï¼Œä¹Ÿç§°ä¸º<strong>æˆªè·</strong>ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Î²</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">\beta_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä¸º<strong>æ–œç‡</strong>ã€‚</p><p>æ±‚è§£å‚æ•°çš„ä¸»æµæ–¹æ³•æœ‰<code>æœ€å°äºŒä¹˜æ³•</code>ã€<code>æœ€å¤§ä¼¼ç„¶æ³•</code>ã€<code>çŸ©æ–¹æ³•</code>ã€‚ä¸‹é¢ä»‹ç»æœ€å°äºŒä¹˜æ³•ã€‚</p><p>æœ€å°äºŒä¹˜æ³•(Least Squares Estimation,LSE)é€šè¿‡æœ€å°åŒ–è¯¯å·®çš„å¹³æ–¹å’Œæ¥å¯»æ‰¾æ•°æ®çš„æœ€ä½³åŒ¹é…ã€‚</p><p>æˆ‘ä»¬å®šä¹‰æ®‹å·®å¹³æ–¹å’Œ(Residual Sum of Squares,RSS),<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">â–³</mi><mi>y</mi><mo>=</mo><mo stretchy="false">(</mo><mi>y</mi><mo>âˆ’</mo><mover accent="true"><mi>y</mi><mo>^</mo></mover><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\triangle y=(y-\hat y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord">â–³</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mclose">)</span></span></span></span>è¡¨ç¤ºæ®‹å·®ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>Q</mi><mo stretchy="false">(</mo><msub><mi>Î²</mi><mn>0</mn></msub><mo separator="true">,</mo><msub><mi>Î²</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>=</mo><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>âˆ’</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mspace linebreak="newline"></mspace><mo>=</mo><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>âˆ’</mo><msub><mover accent="true"><mi>Î²</mi><mo>^</mo></mover><mn>0</mn></msub><mo>âˆ’</mo><msub><mover accent="true"><mi>Î²</mi><mo>^</mo></mover><mn>1</mn></msub><msub><mi>x</mi><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">Q(\beta_0,\beta_1)=\sum_{i=1}^n(y_i-\hat y_i)^2\\=\sum_{i=1}^n(y_i-\hat\beta_0-\hat\beta_1x_i)^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">Q</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.9291em;vertical-align:-1.2777em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.9291em;vertical-align:-1.2777em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1523em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2079em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></p><p>æ ¹æ®å¾®ç§¯åˆ†çŸ¥è¯†ï¼Œè¿™ç©æ„çš„æå€¼ç‚¹åº”è¯¥åœ¨å¯¼æ•°ä¸º0çš„æ—¶å€™å–å¾—ï¼Œæˆ‘ä»¬å¯¹<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi></mrow><annotation encoding="application/x-tex">Q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">Q</span></span></span></span>æ±‚åå¯¼ï¼Œå¾—åˆ°ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mfrac><mrow><mi>Ïƒ</mi><mi>Q</mi></mrow><mrow><mi>Ïƒ</mi><msub><mover accent="true"><mi>Î²</mi><mo>^</mo></mover><mn>0</mn></msub></mrow></mfrac><mo>=</mo><mo>âˆ’</mo><mn>2</mn><msubsup><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>âˆ’</mo><msub><mover accent="true"><mi>Î²</mi><mo>^</mo></mover><mn>0</mn></msub><mo>âˆ’</mo><msub><mover accent="true"><mi>Î²</mi><mo>^</mo></mover><mn>1</mn></msub><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mfrac><mrow><mi>Ïƒ</mi><mi>Q</mi></mrow><mrow><mi>Ïƒ</mi><msub><mover accent="true"><mi>Î²</mi><mo>^</mo></mover><mn>1</mn></msub></mrow></mfrac><mo>=</mo><mo>âˆ’</mo><mn>2</mn><msubsup><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>âˆ’</mo><msub><mover accent="true"><mi>Î²</mi><mo>^</mo></mover><mn>0</mn></msub><mo>âˆ’</mo><msub><mover accent="true"><mi>Î²</mi><mo>^</mo></mover><mn>1</mn></msub><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo><msub><mi>x</mi><mi>i</mi></msub></mrow></mstyle></mtd></mtr></mtable></mrow><annotation encoding="application/x-tex">\begin{cases}\frac{\sigma Q}{\sigma \hat\beta_0}=-2\sum_{i=1}^n(y_i-\hat\beta_0-\hat\beta_1x_i)\\\frac{\sigma Q}{\sigma \hat\beta_1}=-2\sum_{i=1}^n(y_i-\hat\beta_0-\hat\beta_1x_i)x_i\\\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.2492em;vertical-align:-1.3746em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8746em;"><span style="top:-3.8746em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9244em;"><span style="top:-2.5195em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">Ïƒ</span><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight" style="margin-right:0.05278em;">Î²</span></span><span style="top:-2.9634em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord mtight">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0528em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">Ïƒ</span><span class="mord mathnormal mtight">Q</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.6166em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">âˆ’</span><span class="mord">2</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9244em;"><span style="top:-2.5195em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">Ïƒ</span><span class="mord mtight"><span class="mord accent mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight" style="margin-right:0.05278em;">Î²</span></span><span style="top:-2.9634em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord mtight">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0528em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.4461em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">Ïƒ</span><span class="mord mathnormal mtight">Q</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.6166em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">âˆ’</span><span class="mord">2</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.3746em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>æ±‚è§£æ–¹ç¨‹ç»„å¾—åˆ°ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mover accent="true"><mi>Î²</mi><mo>^</mo></mover><mn>0</mn></msub><mo>=</mo><mover accent="true"><mi>y</mi><mo>Ë‰</mo></mover><mo>âˆ’</mo><msub><mover accent="true"><mi>Î²</mi><mo>^</mo></mover><mn>1</mn></msub><mover accent="true"><mi>x</mi><mo>Ë‰</mo></mover></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mover accent="true"><mi>Î²</mi><mo>^</mo></mover><mn>1</mn></msub><mo>=</mo><mfrac><mrow><msubsup><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>âˆ’</mo><mover accent="true"><mi>x</mi><mo>Ë‰</mo></mover><mo stretchy="false">)</mo><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>âˆ’</mo><mover accent="true"><mi>y</mi><mo>Ë‰</mo></mover><mo stretchy="false">)</mo></mrow><mrow><msubsup><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></msubsup><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>âˆ’</mo><mover accent="true"><mi>x</mi><mo>Ë‰</mo></mover><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></mfrac></mrow></mstyle></mtd></mtr></mtable></mrow><annotation encoding="application/x-tex">\begin{cases}\hat\beta_0=\bar y-\hat\beta_1\bar x\\\hat\beta_1=\frac{\sum_{i=1}^n(x_i-\bar x)(y_i-\bar y)}{\sum_{i=1}^n(x_i-\bar x)^2}\end{cases}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.07em;vertical-align:-1.285em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.785em;"><span style="top:-3.837em;"><span class="pstrut" style="height:3.06em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.5678em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">Ë‰</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5678em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord">Ë‰</span></span></span></span></span></span></span></span></span><span style="top:-2.345em;"><span class="pstrut" style="height:3.06em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9579em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.05278em;">Î²</span></span><span style="top:-3.2634em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0528em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.06em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7047em;"><span style="top:-2.1786em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-2.8971em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3214em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">âˆ’</span><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5678em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight">x</span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord mtight">Ë‰</span></span></span></span></span></span></span><span class="mclose mtight"><span class="mclose mtight">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7463em;"><span style="top:-2.786em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.535em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mop mtight"><span class="mop op-symbol small-op mtight" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.7385em;"><span style="top:-2.1786em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-2.931em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3214em;"><span></span></span></span></span></span></span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">âˆ’</span><span class="mord accent mtight"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5678em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight">x</span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.2222em;"><span class="mord mtight">Ë‰</span></span></span></span></span></span></span><span class="mclose mtight">)</span><span class="mopen mtight">(</span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3281em;"><span style="top:-2.357em;margin-left:-0.0359em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mbin mtight">âˆ’</span><span class="mord accent mtight"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.5678em;"><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span><span style="top:-2.7em;"><span class="pstrut" style="height:2.7em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord mtight">Ë‰</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.57em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.285em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>å°†å…¶å¸¦å…¥æ–¹ç¨‹ï¼Œå³å¯å¾—åˆ°æœ€ä½³æ‹Ÿåˆæ›²çº¿ã€‚</p><p><strong>è¯¯å·®ä¼°è®¡</strong></p><p>SSEï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msubsup><mi>e</mi><mi>i</mi><mn>2</mn></msubsup><mo>=</mo><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mo stretchy="false">(</mo><msub><mi>y</mi><mi>i</mi></msub><mo>âˆ’</mo><msub><mover accent="true"><mi>y</mi><mo>^</mo></mover><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">\sum_{i=1}^ne_i^2=\sum_{i=1}^n(y_i-\hat y_i)^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.9291em;vertical-align:-1.2777em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.9291em;vertical-align:-1.2777em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1944em;"><span class="mord">^</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></p><p>MSEæ˜¯å¯¹SSEçš„æ— åä¼°è®¡é‡</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msup><mi>Ïƒ</mi><mn>2</mn></msup><mo>=</mo><mfrac><mrow><mi>S</mi><mi>S</mi><mi>E</mi></mrow><mrow><mi>n</mi><mo>âˆ’</mo><mn>2</mn></mrow></mfrac><mo>=</mo><mi>M</mi><mi>S</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">\sigma^2=\frac{SSE}{n-2}=MSE</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8641em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1297em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em;">SSE</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">MSE</span></span></span></span></span></p><h3 id="Pythonå®ç°ä¸€å…ƒçº¿æ€§å›å½’">Pythonå®ç°ä¸€å…ƒçº¿æ€§å›å½’</h3><p><strong>Step 1ï¸âƒ£ æ•°æ®å‡†å¤‡</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_iris</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯¼å…¥æ•°æ®é›†</span></span><br><span class="line">iris=load_iris()</span><br><span class="line">data=pd.DataFrame(iris.data)</span><br><span class="line">data.columns=[<span class="string">&#x27;sepal-length&#x27;</span>,<span class="string">&#x27;sepal-width&#x27;</span>,<span class="string">&#x27;petal-length&#x27;</span>,<span class="string">&#x27;petal-width&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(data.head())</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">   sepal-length  sepal-width  petal-length  petal-width</span><br><span class="line"><span class="number">0</span>           <span class="number">5.1</span>          <span class="number">3.5</span>           <span class="number">1.4</span>          <span class="number">0.2</span></span><br><span class="line"><span class="number">1</span>           <span class="number">4.9</span>          <span class="number">3.0</span>           <span class="number">1.4</span>          <span class="number">0.2</span></span><br><span class="line"><span class="number">2</span>           <span class="number">4.7</span>          <span class="number">3.2</span>           <span class="number">1.3</span>          <span class="number">0.2</span></span><br><span class="line"><span class="number">3</span>           <span class="number">4.6</span>          <span class="number">3.1</span>           <span class="number">1.5</span>          <span class="number">0.2</span></span><br><span class="line"><span class="number">4</span>           <span class="number">5.0</span>          <span class="number">3.6</span>           <span class="number">1.4</span>          <span class="number">0.2</span></span><br></pre></td></tr></table></figure><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨scikit-learnå®Œæˆå›å½’</span></span><br><span class="line">x=data[<span class="string">&#x27;petal-length&#x27;</span>].values</span><br><span class="line">y=data[<span class="string">&#x27;petal-width&#x27;</span>].values</span><br><span class="line">x=x.reshape(<span class="built_in">len</span>(x),<span class="number">1</span>)</span><br><span class="line">y=y.reshape(<span class="built_in">len</span>(y),<span class="number">1</span>)</span><br><span class="line">clf=LinearRegression()</span><br><span class="line">clf.fit(x,y)</span><br><span class="line">pre=clf.predict(x)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»˜åˆ¶å›¾å½¢</span></span><br><span class="line">plt.scatter(x,y,s=<span class="number">50</span>)</span><br><span class="line">plt.plot(x,pre,<span class="string">&#x27;r-&#x27;</span>,linewidth=<span class="number">2</span>)</span><br><span class="line">plt.xlabel(<span class="string">&quot;petal-length&quot;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;petal-wdith&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> idx,m <span class="keyword">in</span> <span class="built_in">enumerate</span>(x):</span><br><span class="line">    <span class="comment"># ç»˜åˆ¶é•¿æ¡</span></span><br><span class="line">    <span class="comment"># ä»(m,y[idx])åˆ°(m,pre[idx])</span></span><br><span class="line">    plt.plot([m,m],[y[idx],pre[idx]],<span class="string">&#x27;g-&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><img src="/2022/10/11/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91%E5%9B%9E%E5%BD%92/image-20221011172111955.png" alt="image-20221011172111955" style="zoom:50%;"><p><strong>step 2ï¸âƒ£ æ˜¾ç¤ºå›å½’å‚æ•°</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æ–œç‡&quot;</span>,clf.coef_)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æˆªè·&quot;</span>,clf.intercept_)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;MSE&quot;</span>,np.mean((y-pre)**<span class="number">2</span>))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">æ–œç‡ [[<span class="number">0.41575542</span>]]</span><br><span class="line">æˆªè· [-<span class="number">0.36307552</span>]</span><br><span class="line">MSE <span class="number">0.04206730919499318</span></span><br></pre></td></tr></table></figure><p><strong>step 3ï¸âƒ£ è¿›è¡Œé¢„æµ‹</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(clf.predict([[<span class="number">3.9</span>]]))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="number">1.2583706</span>]]</span><br></pre></td></tr></table></figure><hr><h2 id="äºŒã€å¤šå…ƒçº¿æ€§å›å½’">äºŒã€å¤šå…ƒçº¿æ€§å›å½’</h2><p>ä¹Ÿå°±æ˜¯æœ‰å¤šä¸ªå‚æ•°å•¦ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_boston</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯¼å…¥æ•°æ®é›†</span></span><br><span class="line">d=load_boston()</span><br><span class="line">data=pd.DataFrame(d.data)</span><br><span class="line">data[<span class="string">&#x27;price&#x27;</span>]=d.target</span><br><span class="line"><span class="built_in">print</span>(data.sample(<span class="number">5</span>))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">            <span class="number">0</span>    <span class="number">1</span>      <span class="number">2</span>    <span class="number">3</span>      <span class="number">4</span>  ...      <span class="number">9</span>    <span class="number">10</span>      <span class="number">11</span>     <span class="number">12</span>  price</span><br><span class="line"><span class="number">373</span>  <span class="number">11.10810</span>  <span class="number">0.0</span>  <span class="number">18.10</span>  <span class="number">0.0</span>  <span class="number">0.668</span>  ...  <span class="number">666.0</span>  <span class="number">20.2</span>  <span class="number">396.90</span>  <span class="number">34.77</span>   <span class="number">13.8</span></span><br><span class="line"><span class="number">491</span>   <span class="number">0.10574</span>  <span class="number">0.0</span>  <span class="number">27.74</span>  <span class="number">0.0</span>  <span class="number">0.609</span>  ...  <span class="number">711.0</span>  <span class="number">20.1</span>  <span class="number">390.11</span>  <span class="number">18.07</span>   <span class="number">13.6</span></span><br><span class="line"><span class="number">91</span>    <span class="number">0.03932</span>  <span class="number">0.0</span>   <span class="number">3.41</span>  <span class="number">0.0</span>  <span class="number">0.489</span>  ...  <span class="number">270.0</span>  <span class="number">17.8</span>  <span class="number">393.55</span>   <span class="number">8.20</span>   <span class="number">22.0</span></span><br><span class="line"><span class="number">363</span>   <span class="number">4.22239</span>  <span class="number">0.0</span>  <span class="number">18.10</span>  <span class="number">1.0</span>  <span class="number">0.770</span>  ...  <span class="number">666.0</span>  <span class="number">20.2</span>  <span class="number">353.04</span>  <span class="number">14.64</span>   <span class="number">16.8</span></span><br><span class="line"><span class="number">322</span>   <span class="number">0.35114</span>  <span class="number">0.0</span>   <span class="number">7.38</span>  <span class="number">0.0</span>  <span class="number">0.493</span>  ...  <span class="number">287.0</span>  <span class="number">19.6</span>  <span class="number">396.90</span>   <span class="number">7.70</span>   <span class="number">20.4</span></span><br><span class="line"></span><br><span class="line">[<span class="number">5</span> rows x <span class="number">14</span> columns]</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>å¤šå…ƒçº¿æ€§å›å½’</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">y=d.target</span><br><span class="line">x=d.data</span><br><span class="line">clf=LinearRegression()</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="comment"># åˆ†å‰²è®­ç»ƒé›†</span></span><br><span class="line">x_train,x_test,y_train,y_test=train_test_split(x,y)</span><br><span class="line">clf.fit(x_train,y_train)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;å¤šå…ƒçº¿æ€§å›å½’æ¨¡å‹å‚æ•°&quot;</span>,clf.coef_)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;å¤šå…ƒçº¿æ€§å›å½’æ¨¡å‹å¸¸æ•°é¡¹&quot;</span>,clf.intercept_)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;é¢„æµ‹&quot;</span>,clf.predict([x_test[<span class="number">0</span>]]))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">å¤šå…ƒçº¿æ€§å›å½’æ¨¡å‹å‚æ•° [-<span class="number">1.11747256e-01</span>  <span class="number">4.05201935e-02</span> -<span class="number">6.69439553e-04</span>  <span class="number">3.34919157e+00</span></span><br><span class="line"> -<span class="number">1.83818082e+01</span>  <span class="number">3.95199967e+00</span> -<span class="number">9.12733246e-03</span> -<span class="number">1.31523502e+00</span></span><br><span class="line">  <span class="number">2.44628300e-01</span> -<span class="number">1.08309725e-02</span> -<span class="number">1.00522555e+00</span>  <span class="number">7.56771086e-03</span></span><br><span class="line"> -<span class="number">4.23492114e-01</span>]</span><br><span class="line">å¤šå…ƒçº¿æ€§å›å½’æ¨¡å‹å¸¸æ•°é¡¹ <span class="number">36.524193135861886</span></span><br><span class="line">é¢„æµ‹ [<span class="number">15.9054318</span>]</span><br></pre></td></tr></table></figure><p><strong>æ¨¡å‹åˆ†æ</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">y_predict=clf.predict(x_test)</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> mean_absolute_error</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> mean_squared_error</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> r2_score</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;é¢„æµ‹å€¼å‡æ–¹è¯¯å·®&quot;</span>,mean_squared_error(y_test,y_predict))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;R2å¾—åˆ†&quot;</span>,r2_score(y_test,y_predict))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;å›å½’å¾—åˆ†&quot;</span>,clf.score(x_test,y_test))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;å„ä¸ªç‰¹å¾é—´çš„ç³»æ•°çŸ©é˜µ&quot;</span>,clf.coef_)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;å½±å“æˆ¿ä»·çš„ç‰¹å¾æ’åº&quot;</span>,np.argsort(clf.coef_))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;å½±å“æˆ¿ä»·çš„ç‰¹å¾æ’åº&quot;</span>,d.feature_names[np.argsort(clf.coef_)])</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">é¢„æµ‹å€¼å‡æ–¹è¯¯å·® <span class="number">26.66065801123315</span></span><br><span class="line">R2å¾—åˆ† <span class="number">0.7170059315243467</span></span><br><span class="line">å›å½’å¾—åˆ† <span class="number">0.7170059315243467</span></span><br><span class="line">å„ä¸ªç‰¹å¾é—´çš„ç³»æ•°çŸ©é˜µ [-<span class="number">1.24752898e-01</span>  <span class="number">4.23381228e-02</span>  <span class="number">7.89030069e-03</span>  <span class="number">2.76191464e+00</span></span><br><span class="line"> -<span class="number">1.86055326e+01</span>  <span class="number">3.76015663e+00</span> -<span class="number">3.25002550e-03</span> -<span class="number">1.49233753e+00</span></span><br><span class="line">  <span class="number">3.12843628e-01</span> -<span class="number">1.40160600e-02</span> -<span class="number">8.47213267e-01</span>  <span class="number">7.64996205e-03</span></span><br><span class="line"> -<span class="number">5.32883469e-01</span>]</span><br><span class="line">å½±å“æˆ¿ä»·çš„ç‰¹å¾æ’åº [ <span class="number">4</span>  <span class="number">7</span> <span class="number">10</span> <span class="number">12</span>  <span class="number">0</span>  <span class="number">9</span>  <span class="number">6</span> <span class="number">11</span>  <span class="number">2</span>  <span class="number">1</span>  <span class="number">8</span>  <span class="number">3</span>  <span class="number">5</span>]</span><br><span class="line">å½±å“æˆ¿ä»·çš„ç‰¹å¾æ’åº [<span class="string">&#x27;NOX&#x27;</span> <span class="string">&#x27;DIS&#x27;</span> <span class="string">&#x27;PTRATIO&#x27;</span> <span class="string">&#x27;LSTAT&#x27;</span> <span class="string">&#x27;CRIM&#x27;</span> <span class="string">&#x27;TAX&#x27;</span> <span class="string">&#x27;AGE&#x27;</span> <span class="string">&#x27;B&#x27;</span> <span class="string">&#x27;INDUS&#x27;</span> <span class="string">&#x27;ZN&#x27;</span> <span class="string">&#x27;RAD&#x27;</span></span><br><span class="line"> <span class="string">&#x27;CHAS&#x27;</span> <span class="string">&#x27;RM&#x27;</span>]</span><br></pre></td></tr></table></figure><hr><h2 id="ä¸‰ã€é€»è¾‘å›å½’">ä¸‰ã€é€»è¾‘å›å½’</h2><blockquote><p>å¦‚æœè¯´çº¿æ€§å›å½’åå‘æ•°å­¦ï¼Œé‚£ä¹ˆé€»è¾‘å›å½’å°±æ˜¯æœºå™¨å­¦ä¹ ä»ç»Ÿè®¡é¢†åŸŸå€Ÿé‰´æ¥çš„æŠ€æœ¯</p></blockquote><p>é€»è¾‘å›å½’ç”¨æ¥åˆ†æäºŒåˆ†ç±»æˆ–æœ‰åºçš„å› å˜é‡ä¸è§£é‡Šå˜é‡ä¹‹é—´çš„å…³ç³»ï¼Œç®—æ˜¯å¹¿ä¹‰ä¸Šçš„çº¿æ€§å›å½’åˆ†ææ–¹æ³•ã€‚ä»–åœ¨çº¿æ€§å›å½’çš„åŸºç¡€ä¸Šåˆ©ç”¨<code>Sigmoid</code>å‡½æ•°å¯¹äº‹ä»¶å‘ç”Ÿçš„æ¦‚ç‡è¿›è¡Œé¢„æµ‹ã€‚</p><p>çº¿æ€§å›å½’å¯ä»¥å¾—åˆ°ä¸€ä¸ªé¢„æµ‹å€¼ï¼Œç„¶åé€šè¿‡Så‡½æ•°å°è£…åï¼Œå°±èƒ½å¾—åˆ°ä¸€ä¸ªæ¦‚ç‡å€¼ï¼Œå†é€šè¿‡æ¦‚ç‡å€¼è¿›è¡Œ<strong>åˆ†ç±»</strong>ã€‚(ä¸Šæ¸…ä¸‹æµŠ)</p><p><code>Sigmoid</code>çš„å‡½æ•°èƒ½å¤Ÿå°†ä»»æ„å€¼è½¬åŒ–ä¸º[0,1]èŒƒå›´å†…ï¼Œå…¶å®šä¹‰å¦‚ä¸‹ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>g</mi><mo stretchy="false">(</mo><mi>z</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mrow><mn>1</mn><mo>+</mo><msup><mi>e</mi><mrow><mo>âˆ’</mo><mi>z</mi></mrow></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">g(z)=\frac{1}{1+e^{-z}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0908em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6973em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mathnormal mtight" style="margin-right:0.04398em;">z</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>æˆ‘ä»¬æ¥çœ‹ä¸‹å‡½æ•°æ›²çº¿</p><p>å®è§‚å°ºåº¦</p><img src="/2022/10/11/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91%E5%9B%9E%E5%BD%92/image-20221011180841230.png" alt="image-20221011180841230" style="zoom:50%;"><p>å¾®è§‚å°ºåº¦</p><img src="/2022/10/11/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91%E5%9B%9E%E5%BD%92/image-20221011181213717.png" alt="image-20221011181213717" style="zoom:50%;"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">sigmoid</span>(<span class="params">x</span>):</span><br><span class="line"><span class="keyword">return</span> <span class="number">1.</span>/(<span class="number">1.</span>+np.exp(-x))</span><br></pre></td></tr></table></figure><h3 id="Python-å®ç°">Python å®ç°</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">x=load_iris().data</span><br><span class="line">y=load_iris().target</span><br><span class="line"></span><br><span class="line"><span class="comment"># å½’ä¸€åŒ–</span></span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line">x_train,x_test,y_train,y_test=train_test_split(x,y,test_size=<span class="number">0.25</span>,random_state=<span class="number">0</span>)</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br><span class="line"></span><br><span class="line">sc=StandardScaler()</span><br><span class="line">x_train=sc.fit_transform(x_train)</span><br><span class="line">x_test=sc.transform(x_test)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿›è¡Œé€»è¾‘å›å½’</span></span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LogisticRegression</span><br><span class="line">classifier=LogisticRegression(random_state=<span class="number">0</span>)</span><br><span class="line">classifier.fit(x_train,y_train)</span><br><span class="line">y_pred=classifier.predict(x_test)</span><br><span class="line"><span class="comment"># æµ‹è¯•å‡†ç¡®æ€§</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Accuracy of LR %.3f&quot;</span>%classifier.score(x_test,y_test))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Accuracy of LR <span class="number">0.974</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥çœ‹ä¸€ä¸‹ç»è¿‡é€»è¾‘å›å½’åçš„æ•°æ®ï¼š</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">2</span> <span class="number">1</span> <span class="number">0</span> <span class="number">2</span> <span class="number">0</span> <span class="number">2</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">2</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">2</span> <span class="number">1</span> <span class="number">0</span> <span class="number">2</span> <span class="number">2</span> <span class="number">1</span> <span class="number">0</span> <span class="number">2</span>]</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯ä¸ªå¤šåˆ†ç±»çš„å›å½’ã€‚</p><hr><h2 id="å››ã€å¤šé¡¹å¼å›å½’">å››ã€å¤šé¡¹å¼å›å½’</h2><p>é€‚ç”¨äºéçº¿æ€§å…³ç³»ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># çº¿æ€§å›å½’</span></span><br><span class="line">lin_reg=LinearRegression()</span><br><span class="line">lin_reg.fit(X,y)</span><br><span class="line">y_pre=lin_reg.predict(X)</span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.family&#x27;</span>]=[<span class="string">&#x27;SimHei&#x27;</span>]</span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>]=<span class="literal">False</span></span><br><span class="line">ax[<span class="number">1</span>].scatter(x,y)</span><br><span class="line">ax[<span class="number">1</span>].plot(x,y_pre,color=<span class="string">&quot;r&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤šé¡¹å¼å›å½’</span></span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> PolynomialFeatures</span><br><span class="line">POLY=PolynomialFeatures(degree=<span class="number">2</span>) <span class="comment"># è®¾ç½®æœ€å¤šå‡ æ¬¡å¹‚</span></span><br><span class="line">POLY.fit(X)</span><br><span class="line">x2=POLY.transform(X)</span><br><span class="line"><span class="comment"># è¿™ä¸ªå¤šé¡¹å¼å›å½’æ˜¯å¯¹xè¿›è¡Œå¤„ç†åï¼Œè®©å…¶æˆä¸ºéçº¿æ€§å…³ç³»</span></span><br><span class="line"><span class="comment"># è­¬å¦‚ï¼š</span></span><br><span class="line"><span class="built_in">print</span>(x.shape)</span><br><span class="line"><span class="built_in">print</span>(x2.shape)</span><br><span class="line"><span class="comment"># (100,)</span></span><br><span class="line"><span class="comment"># (100, 3)</span></span><br><span class="line"><span class="comment"># ä¹‹åçš„æ“ä½œä¸LRå®Œå…¨ç›¸åŒï¼Œæ‰€ä»¥Polynomialå¹¶æ²¡æœ‰ä½œä¸ºç‹¬ç«‹çš„API</span></span><br><span class="line"><span class="comment"># è€Œæ˜¯æ”¾åœ¨preprocessing</span></span><br><span class="line">lin_reg2=LinearRegression()</span><br><span class="line">lin_reg2.fit(x2,y)</span><br><span class="line">y_pre2=lin_reg2.predict(x2)</span><br><span class="line"></span><br><span class="line">ax[<span class="number">2</span>].scatter(x,y)</span><br><span class="line"><span class="comment"># æ­¤æ—¶çš„å…³ç³»å¹¶ä¸å†æ˜¯åŸå…ˆçš„å¯¹åº”äº†</span></span><br><span class="line">ax[<span class="number">2</span>].plot(np.sort(x),y_pre2[np.argsort(x)],color=<span class="string">&quot;b&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># degreeè°ƒæˆ10 å</span></span><br><span class="line">POLY=PolynomialFeatures(degree=<span class="number">10</span>) <span class="comment"># è®¾ç½®æœ€å¤šå‡ æ¬¡å¹‚</span></span><br><span class="line">POLY.fit(X)</span><br><span class="line">x2=POLY.transform(X)</span><br><span class="line"><span class="comment"># è¿™ä¸ªå¤šé¡¹å¼å›å½’æ˜¯å¯¹xè¿›è¡Œå¤„ç†åï¼Œè®©å…¶æˆä¸ºéçº¿æ€§å…³ç³»</span></span><br><span class="line"><span class="comment"># è­¬å¦‚ï¼š</span></span><br><span class="line"><span class="built_in">print</span>(x.shape)</span><br><span class="line"><span class="built_in">print</span>(x2.shape)</span><br><span class="line"><span class="comment"># (100,)</span></span><br><span class="line"><span class="comment"># (100, 11)</span></span><br><span class="line"><span class="comment"># ä¹‹åçš„æ“ä½œä¸LRå®Œå…¨ç›¸åŒï¼Œæ‰€ä»¥Polynomialå¹¶æ²¡æœ‰ä½œä¸ºç‹¬ç«‹çš„API</span></span><br><span class="line"><span class="comment"># è€Œæ˜¯æ”¾åœ¨preprocessing</span></span><br><span class="line">lin_reg2=LinearRegression()</span><br><span class="line">lin_reg2.fit(x2,y)</span><br><span class="line">y_pre2=lin_reg2.predict(x2)</span><br><span class="line">ax[<span class="number">3</span>].scatter(x,y)</span><br><span class="line">ax[<span class="number">3</span>].plot(np.sort(x),y_pre2[np.argsort(x)],color=<span class="string">&quot;g&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><img src="/2022/10/11/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91%E5%9B%9E%E5%BD%92/image-20221011191449277.png" alt="image-20221011191449277" style="zoom:50%;"><hr><h2 id="äº”ã€å²­å›å½’">äº”ã€å²­å›å½’</h2><p>å²­å›å½’(Ridge Regression)æ˜¯ä¸€ç§ä¸“ç”¨äºå…±çº¿æ€§æ•°æ®åˆ†æçš„æœ‰åä¼°è®¡å›å½’æ–¹æ³•ï¼Œå®è´¨ä¸Šæ˜¯æ”¹è‰¯çš„æœ€å°äºŒä¹˜æ³•ã€‚é€šè¿‡æ”¾å¼ƒæ— åæ€§ï¼Œé™ä½éƒ¨åˆ†ä¿¡æ¯ä¸ºä»£ä»·ï¼Œä½¿å›å½’ç³»æ•°æ›´åŠ å¯é ï¼Œå¯¹ç—…æ€æ•°æ®çš„è€å—æ€§è¿œé«˜äºæœ€å°äºŒä¹˜æ³•ã€‚</p><p>é€šå¸¸çš„å²­å›å½’æ˜¯åœ¨é¡ºåŠ¿å‡½æ•°ä¸­åŠ å…¥L2æ­£åˆ™é¡¹ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>L</mi><mo stretchy="false">(</mo><mi>Î¸</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>N</mi></munderover><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo separator="true">;</mo><mi>Î¸</mi><mo stretchy="false">)</mo><mo>âˆ’</mo><msub><mi>y</mi><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mfrac><mi>Î»</mi><mn>2</mn></mfrac><mi mathvariant="normal">âˆ£</mi><mi mathvariant="normal">âˆ£</mi><mi>Î¸</mi><mi mathvariant="normal">âˆ£</mi><msup><mi mathvariant="normal">âˆ£</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">L(\theta)=\frac{1}{N}\sum_{i=1}^N(f(x_i;\theta)-y_i)^2+\frac{\lambda}{2}||\theta||^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">L</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.106em;vertical-align:-1.2777em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em;">N</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8283em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.1141em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0574em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">Î»</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord">âˆ£âˆ£</span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="mord">âˆ£</span><span class="mord"><span class="mord">âˆ£</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></p><p>å…¶ä¸­ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">âˆ£</mi><mi mathvariant="normal">âˆ£</mi><mi>Î¸</mi><mi mathvariant="normal">âˆ£</mi><mi mathvariant="normal">âˆ£</mi></mrow><annotation encoding="application/x-tex">||\theta||</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£âˆ£</span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span><span class="mord">âˆ£âˆ£</span></span></span></span>è¡¨ç¤ºå‘é‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¸</mi></mrow><annotation encoding="application/x-tex">\theta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">Î¸</span></span></span></span>çš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">L2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span><span class="mord">2</span></span></span></span>èŒƒæ•°ã€‚å²­å›å½’çš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>R</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">R^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>å¾€å¾€ä¼šå°äºçº¿æ€§å›å½’ï¼Œä½†å…¶å…·æœ‰æ›´å¼ºçš„æ³›åŒ–èƒ½åŠ›ï¼Œä¹Ÿèƒ½è§£å†³çº¿æ€§å›å½’æ±‡æ€»çš„ä¸å¯é€†é—®é¢˜ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> Ridge,RidgeCV</span><br><span class="line"><span class="comment"># Ridge CVæ˜¯å¹¿ä¹‰äº¤å‰éªŒè¯çš„å²­å›å½’</span></span><br><span class="line">X,y=load_iris(return_X_y=<span class="literal">True</span>)</span><br><span class="line">x=X[:,<span class="number">1</span>].reshape(<span class="built_in">len</span>(X),-<span class="number">1</span>)</span><br><span class="line">y=X[:,<span class="number">0</span>].reshape(<span class="built_in">len</span>(X),-<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">model=Ridge(alpha=<span class="number">0.5</span>)</span><br><span class="line">model1=RidgeCV(alphas=[<span class="number">0.1</span>,<span class="number">1.0</span>,<span class="number">10.0</span>]) <span class="comment"># cross validation</span></span><br><span class="line"></span><br><span class="line">model.fit(x,y)</span><br><span class="line">model1.fit(x,y)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ç³»æ•°çŸ©é˜µ&quot;</span>,model.coef_)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;çº¿æ€§å›å½’æ¨¡å‹&quot;</span>,model)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;CVæœ€ä¼˜alphaå€¼&quot;</span>,model1.alpha_)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¨¡å‹é¢„æµ‹</span></span><br><span class="line">pre=model.predict(x)</span><br><span class="line">plt.scatter(x,y)</span><br><span class="line">plt.plot(x,pre)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ç³»æ•°çŸ©é˜µ [[-<span class="number">0.2194842</span>]]</span><br><span class="line">çº¿æ€§å›å½’æ¨¡å‹ Ridge(alpha=<span class="number">0.5</span>)</span><br><span class="line">CVæœ€ä¼˜alphaå€¼ <span class="number">10.0</span></span><br></pre></td></tr></table></figure><img src="/2022/10/11/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91%E5%9B%9E%E5%BD%92/image-20221011192944017.png" alt="image-20221011192944017" style="zoom:50%;"><hr><h2 id="å…­ã€Lassoå›å½’">å…­ã€Lassoå›å½’</h2><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">L2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span><span class="mord">2</span></span></span></span>æ­£åˆ™åªèƒ½å‰Šå¼±å½±å“ï¼Œè€Œä¸èƒ½å‰”é™¤å˜é‡ã€‚Lasso(Least Absolute Shrinkage and Selection Operator)æ¨¡å‹å°†æƒ©ç½šé¡¹æ¢ä¸ºäº†<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>L</mi><mn>1</mn></mrow><annotation encoding="application/x-tex">L1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">L</span><span class="mord">1</span></span></span></span>æ­£åˆ™ï¼Œä»è€Œè¾¾åˆ°å‰”é™¤å˜é‡çš„ä½œç”¨ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> r2_score</span><br><span class="line"><span class="comment"># äº§ç”Ÿä¸€äº›ç¨€ç–æ•°æ®</span></span><br><span class="line">np.random.seed(<span class="number">42</span>)</span><br><span class="line">n_samples,n_features=<span class="number">50</span>,<span class="number">100</span></span><br><span class="line"></span><br><span class="line">X=np.random.randn(n_samples,n_features)</span><br><span class="line">coef=<span class="number">3</span>*np.random.randn(n_features) <span class="comment"># æ¯ä¸ªç‰¹å¾å¯¹åº”ä¸€ä¸ªç³»æ•°</span></span><br><span class="line"></span><br><span class="line">inds=np.arange(n_features)</span><br><span class="line">np.random.shuffle(inds)</span><br><span class="line">coef[inds[<span class="number">10</span>:]]=<span class="number">0</span> <span class="comment"># éšæœºå°†å‘é‡ä¸­çš„10ä¸ªå˜ä¸º0 ç¨€ç–åŒ–</span></span><br><span class="line">y=np.dot(X,coef)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ é«˜æ–¯å™ªå£°</span></span><br><span class="line">y+=<span class="number">0.01</span>*np.random.normal(size=n_samples)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ’åˆ†æ•°æ®é›†</span></span><br><span class="line">n_samples=X.shape[<span class="number">0</span>]</span><br><span class="line">X_train,y_train=X[:n_samples//<span class="number">2</span>],y[:n_samples//<span class="number">2</span>]</span><br><span class="line">X_test,y_test=X[n_samples//<span class="number">2</span>:],y[n_samples//<span class="number">2</span>:]</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®­ç»ƒLassonæ¨¡å‹</span></span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> Lasso</span><br><span class="line">alpha=<span class="number">0.1</span></span><br><span class="line">lass=Lasso(alpha=alpha)</span><br><span class="line">y_pre=lass.fit(X_train,y_train).predict(X_test)</span><br><span class="line">r2_score_lasso=r2_score(y_test,y_pre)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;R^2 socre&quot;</span>,r2_score_lasso)</span><br><span class="line">plt.plot(lass.coef_,color=<span class="string">&#x27;gold&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&quot;Lasso R^2 %s&quot;</span>%r2_score_lasso)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><img src="/2022/10/11/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91%E5%9B%9E%E5%BD%92/image-20221011200249640.png" alt="image-20221011200249640" style="zoom:50%;"><hr><h2 id="å›å½’æ¡ˆä¾‹â€“æ³¢å£«é¡¿æ•°æ®å¤„ç†">å›å½’æ¡ˆä¾‹â€“æ³¢å£«é¡¿æ•°æ®å¤„ç†</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_boston</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression,SGDRegressor,Ridge,Lasso</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> mean_squared_error,accuracy_score</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">linearModel</span>():</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 1. load dataset</span></span><br><span class="line">    X,y=load_boston(return_X_y=<span class="literal">True</span>)</span><br><span class="line">    X_train,X_test,y_train,y_test=train_test_split(X,y,test_size=<span class="number">0.25</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 2. Standard</span></span><br><span class="line">    std=StandardScaler()</span><br><span class="line">    X_train=std.fit_transform(X_train)</span><br><span class="line">    X_test=std.transform(X_test)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># æ·»åŠ ç»´åº¦</span></span><br><span class="line">    <span class="comment"># y=y[:,np.newaxis]</span></span><br><span class="line">    y_test=y_test[:,np.newaxis]</span><br><span class="line">    y_train=y_train[:,np.newaxis]</span><br><span class="line"></span><br><span class="line">    std_y=StandardScaler()</span><br><span class="line">    y_train=std_y.fit_transform(y_train)</span><br><span class="line">    y_test=std_y.transform(y_test)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 3. training</span></span><br><span class="line"></span><br><span class="line">    lr=LinearRegression()</span><br><span class="line">    sgd=SGDRegressor()</span><br><span class="line">    rid=Ridge(alpha=<span class="number">0.5</span>)</span><br><span class="line">    las=Lasso(alpha=<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line">    lr.fit(X_train,y_train)</span><br><span class="line">    y_lr_pre=lr.predict(X_test)</span><br><span class="line">    <span class="comment"># è¿˜åŸçœŸå®å€¼</span></span><br><span class="line">    <span class="comment"># è¿™æ˜¯å› ä¸ºæˆ‘ä»¬åšå¤„ç†ç”¨çš„éƒ½æ˜¯æ ‡å‡†åŒ–</span></span><br><span class="line">    <span class="comment"># æ‰€ä»¥æœ€åè·ŸåŸå§‹æ•°æ®æ¯”è¾ƒéœ€è¦åæ ‡å‡†åŒ–</span></span><br><span class="line">    y_lr_pre=std_y.inverse_transform(y_lr_pre)</span><br><span class="line"></span><br><span class="line">    sgd.fit(X_train,y_train)</span><br><span class="line">    y_sgd_pre=sgd.predict(X_test)</span><br><span class="line">    y_sgd_pre=std_y.inverse_transform(y_sgd_pre)</span><br><span class="line"></span><br><span class="line">    rid.fit(X_train, y_train)</span><br><span class="line">    y_rid_pre = rid.predict(X_test)</span><br><span class="line">    y_rid_pre = std_y.inverse_transform(y_rid_pre)</span><br><span class="line"></span><br><span class="line">    las.fit(X_train, y_train)</span><br><span class="line">    y_las_pre = las.predict(X_test)</span><br><span class="line">    y_las_pre = std_y.inverse_transform(y_las_pre)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 4. evaluation</span></span><br><span class="line">    y_test=std_y.inverse_transform(y_test)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;çº¿æ€§å›å½’çš„å‡æ–¹è¯¯å·®ä¸º: &quot;</span>,mean_squared_error(y_test,y_lr_pre))</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ¢¯åº¦ä¸‹é™çš„å‡æ–¹è¯¯å·®ä¸º: &quot;</span>,mean_squared_error(y_test,y_sgd_pre))</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;å²­å›å½’çš„å‡æ–¹è¯¯å·®ä¸º: &quot;</span>,mean_squared_error(y_test,y_rid_pre))</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Lassonå‡æ–¹è¯¯å·®ä¸º: &quot;</span>,mean_squared_error(y_test,y_las_pre))</span><br><span class="line"></span><br><span class="line">linearModel()</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">çº¿æ€§å›å½’çš„å‡æ–¹è¯¯å·®ä¸º:  <span class="number">24.474589501317524</span></span><br><span class="line">æ¢¯åº¦ä¸‹é™çš„å‡æ–¹è¯¯å·®ä¸º:  <span class="number">23.82902862765662</span></span><br><span class="line">å²­å›å½’çš„å‡æ–¹è¯¯å·®ä¸º:  <span class="number">24.433234356526174</span></span><br><span class="line">Lassonå‡æ–¹è¯¯å·®ä¸º:  <span class="number">61.95307932912878</span></span><br></pre></td></tr></table></figure><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">None</summary>
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="æ•°æ®åˆ†æ" scheme="http://example.com/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>ã€æ•°æ®åˆ†æã€‘HW1</title>
    <link href="http://example.com/2022/10/09/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91HW1/"/>
    <id>http://example.com/2022/10/09/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91HW1/</id>
    <published>2022-10-09T15:37:47.738Z</published>
    <updated>2022-10-09T15:38:16.150Z</updated>
    
    <content type="html"><![CDATA[<h1>HW1</h1><h2 id="Submission-requirements">Submission requirements:</h2><h3 id="Please-submit-your-solutions-to-our-class-website">Please submit your solutions to our class website.</h3><hr><p>Q1.Suppose that a data warehouse consists of four dimensions, <strong>date</strong>, <strong>spectator</strong>, <strong>location</strong>, and <strong>game</strong>, and two measures, <strong>count and charge</strong>, where charge is the fare that a spectator pays when watching a game on a given date. Spectators may be students, adults, or seniors, with each category having its own charge rate.</p><p>(a) Draw a <strong>star schema diagram</strong> for the data warehouse.</p><img src="/2022/10/09/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91HW1/image-20221009222600782.png" alt="image-20221009222600782" style="zoom:25%;"><p>(b) Starting with the base cuboid [<strong>date,</strong> <strong>spectator, location, game</strong>]ï¼Œwhat specific <strong>OLAP operations</strong> should one perform in order to list the total charge paid by student spectators in Los Angeles?</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">step <span class="number">1.</span> Roll-up on date <span class="keyword">from</span> date_key to <span class="built_in">all</span></span><br><span class="line">step <span class="number">2.</span> Roll-up on spectator <span class="keyword">from</span> spectator_key to status</span><br><span class="line">step <span class="number">3.</span> Roll-up on location <span class="keyword">from</span> location_key to location_name</span><br><span class="line">step <span class="number">4.</span> Roll-up on game <span class="keyword">from</span> game_key to <span class="built_in">all</span></span><br><span class="line"></span><br><span class="line">step <span class="number">5.</span> Dice <span class="keyword">with</span> <span class="string">&quot;status=student&quot;</span> <span class="keyword">and</span> <span class="string">&quot;location_name=Los Angeles&quot;</span></span><br></pre></td></tr></table></figure><p>Â© Bitmap indexing is a very useful optimization technique. Please present the pros and cons of using bitmap indexing in this given data warehouse.</p><p><strong>ä¼˜ç‚¹</strong></p><p>ä½å›¾ç´¢å¼•æ˜¯ä¸€ç§é«˜æ•ˆçš„ç´¢å¼•ç»“æ„ï¼Œåœ¨æŸ¥è¯¢ã€è¿‡æ»¤ç­‰æ–¹é¢ä¸Šï¼Œç”±äºè¿›è¡Œçš„æ˜¯ä½è¿ç®—ï¼Œæ‰€ä»¥æ¯”å¸¸è§„çš„æŸ¥è¯¢æ–¹å¼å¿«å¾ˆå¤šã€‚ä¾‹å¦‚åœ¨æœ¬ä»“åº“ä¸­ï¼Œå‡è®¾å¯¹äº<code>spectator</code>è¡¨çš„å­åˆ—<code>status</code>ï¼Œæˆ‘ä»¬æœ‰ï¼š</p><table><thead><tr><th style="text-align:center">spectator_key</th><th style="text-align:center">status</th><th style="text-align:center">gender</th></tr></thead><tbody><tr><td style="text-align:center">0</td><td style="text-align:center">å­¦ç”Ÿ</td><td style="text-align:center">ç”·</td></tr><tr><td style="text-align:center">1</td><td style="text-align:center">æˆäºº</td><td style="text-align:center">å¥³</td></tr><tr><td style="text-align:center">2</td><td style="text-align:center">å­¦ç”Ÿ</td><td style="text-align:center">ç”·</td></tr><tr><td style="text-align:center">3</td><td style="text-align:center">å­¦ç”Ÿ</td><td style="text-align:center">å¥³</td></tr><tr><td style="text-align:center">4</td><td style="text-align:center">è€äºº</td><td style="text-align:center">å¥³</td></tr></tbody></table><p><code>status</code>å°±å¯ä»¥å»ºç«‹ä»¥ä¸‹ä½å›¾ç´¢å¼•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">status=<span class="string">&quot;å­¦ç”Ÿ&quot;</span> : <span class="number">10110</span></span><br><span class="line">status=<span class="string">&quot;æˆäºº&quot;</span> : <span class="number">01000</span></span><br><span class="line">status=<span class="string">&quot;è€äºº&quot;</span> : <span class="number">00001</span></span><br></pre></td></tr></table></figure><p><code>gender</code>å¯ä»¥å»ºç«‹ä»¥ä¸‹ä½å›¾ç´¢å¼•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gender=<span class="string">&quot;ç”·&quot;</span>: <span class="number">10100</span></span><br><span class="line">gender=<span class="string">&quot;å¥³&quot;</span>: <span class="number">01011</span></span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬æƒ³è¦æŸ¥è¯¢å­¦ç”Ÿï¼Œåªéœ€è¦ç”¨<code>10110</code>å»è¿‡æ»¤åŸå§‹æ•°æ®å°±è¡Œã€‚</p><p>æˆ‘ä»¬æƒ³æ··åˆæŸ¥è¯¢ï¼Œæ¯”å¦‚åŒæ—¶æŸ¥è¯¢<code>status=&quot;å­¦ç”Ÿ&quot;</code>å’Œ<code>gender=&quot;ç”·&quot;</code>çš„æ•°æ®ï¼Œåªéœ€è¦è¿›è¡Œå¹¶æ“ä½œå°±è¡Œäº†ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10110</span> &amp; <span class="number">10100</span> = <span class="number">10100</span></span><br></pre></td></tr></table></figure><p>å¯ä»¥å¤§å¤§æé«˜è®¡ç®—é€Ÿåº¦ã€‚</p><p>æ­¤å¤–ï¼Œä½å›¾ç´¢å¼•å¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Š<code>ç»•å¼€</code>åŸå§‹æ•°æ®ï¼Œè¿›ä¸€æ­¥æé«˜å¤„ç†é€Ÿåº¦ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æƒ³ç»Ÿè®¡æ»¡è¶³ä¸Šé¢æ¡ä»¶çš„äººæ•°ï¼Œåªéœ€è¦:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ans=<span class="number">0</span></span><br><span class="line">x=(<span class="number">10110</span>&amp;<span class="number">10100</span>)</span><br><span class="line"><span class="keyword">while</span> x:</span><br><span class="line">x&amp;=(x-<span class="number">1</span>)</span><br><span class="line">ans+=<span class="number">1</span></span><br></pre></td></tr></table></figure><p><strong>ç¼ºç‚¹</strong></p><p>ä½å›¾ç´¢å¼•æ¯”è¾ƒé€‚åˆæšä¸¾ç±»å‹ï¼Œä¹Ÿå°±æ˜¯ç¦»æ•£å‹å˜é‡ï¼Œå¯¹äºè¿ç»­å˜é‡ï¼Œä½å›¾ç´¢å¼•å¹¶ä¸é€‚ç”¨ï¼Œå¾€å¾€éœ€è¦å…ˆåšç¦»æ•£åŒ–ã€‚æ¯”å¦‚æœ¬ä»“åº“ä¸­ï¼Œ<code>phone number</code>å­—æ®µå¯èƒ½å°±ä¸å¤ªé€‚åˆ(ä¹Ÿè®¸è¿™ä¸ªå­—æ®µæ²¡æœ‰å­˜åœ¨çš„å¿…è¦ï¼Ÿ)</p><p>è€Œå½“å±æ€§åˆ—éå¸¸å¤šæ—¶ï¼Œæˆ‘ä»¬åšä½å›¾ç´¢å¼•çš„å¼€é”€ä¹Ÿæ¯”è¾ƒå¤§ã€‚</p><hr><p>Q2ï¼æŸç”µå­é‚®ä»¶æ•°æ®åº“ä¸­å­˜å‚¨äº†å¤§é‡çš„ç”µå­é‚®ä»¶ã€‚è¯·è®¾è®¡æ•°æ®ä»“åº“çš„ç»“æ„ï¼Œä»¥ä¾¿ç”¨æˆ·ä»å¤šä¸ªç»´åº¦è¿›è¡ŒæŸ¥è¯¢å’ŒæŒ–æ˜ã€‚</p><img src="/2022/10/09/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91HW1/image-20221009232956580.png" alt="image-20221009232956580" style="zoom:33%;"><hr><p>Q3. Suppose a hospital tested the age and body fat data for 18 random selected adults with the following result:</p><table><thead><tr><th><strong>age</strong></th><th>23</th><th>23</th><th>27</th><th>27</th><th>39</th><th>41</th><th>47</th><th>49</th><th>50</th><th>52</th><th>54</th><th>54</th><th>56</th><th>57</th><th>58</th><th>58</th><th>60</th><th>61</th></tr></thead><tbody><tr><td><strong>%fat</strong></td><td>9.5</td><td>26.5</td><td>7.8</td><td>17.8</td><td>31.4</td><td>25.9</td><td>27.4</td><td>27.2</td><td>31.2</td><td>34.6</td><td>42.5</td><td>28.8</td><td>33.4</td><td>30.2</td><td>34.1</td><td>32.9</td><td>41.2</td><td>35.7</td></tr></tbody></table><p>(a) Calculate the mean, median, and standard deviation of <strong>age</strong> and <strong>%fat</strong>.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">             age       %fat</span><br><span class="line">mean   <span class="number">46.444444</span>  <span class="number">28.783333</span></span><br><span class="line">std    <span class="number">13.218624</span>   <span class="number">9.254395</span></span><br><span class="line">median      <span class="number">51.0</span>       <span class="number">30.7</span></span><br></pre></td></tr></table></figure><p>(b) Draw the boxplots for <strong>age</strong> and <strong>%fat</strong>.</p><img src="/2022/10/09/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91HW1/image-20221009223335906.png" alt="image-20221009223335906" style="zoom: 25%;"><p>Â© Draw a scatter plot based on these two variables.</p><img src="/2022/10/09/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91HW1/image-20221009224804969.png" alt="image-20221009224804969" style="zoom: 25%;"><p>(d) Normalize <strong>age</strong> based on <strong>min-max normalization</strong>.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x=data[<span class="string">&quot;age&quot;</span>]</span><br><span class="line">y=data[<span class="string">&#x27;%fat&#x27;</span>]</span><br><span class="line">X=(x-x.<span class="built_in">min</span>())/(x.<span class="built_in">max</span>()-x.<span class="built_in">min</span>())</span><br><span class="line">Y=(y-y.<span class="built_in">min</span>())/(y.<span class="built_in">max</span>()-y.<span class="built_in">min</span>())</span><br><span class="line"><span class="built_in">print</span>(X,Y)</span><br></pre></td></tr></table></figure><p>Result is:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span>     <span class="number">0.000000</span></span><br><span class="line"><span class="number">1</span>     <span class="number">0.000000</span></span><br><span class="line"><span class="number">2</span>     <span class="number">0.105263</span></span><br><span class="line"><span class="number">3</span>     <span class="number">0.105263</span></span><br><span class="line"><span class="number">4</span>     <span class="number">0.421053</span></span><br><span class="line"><span class="number">5</span>     <span class="number">0.473684</span></span><br><span class="line"><span class="number">6</span>     <span class="number">0.631579</span></span><br><span class="line"><span class="number">7</span>     <span class="number">0.684211</span></span><br><span class="line"><span class="number">8</span>     <span class="number">0.710526</span></span><br><span class="line"><span class="number">9</span>     <span class="number">0.763158</span></span><br><span class="line"><span class="number">10</span>    <span class="number">0.815789</span></span><br><span class="line"><span class="number">11</span>    <span class="number">0.815789</span></span><br><span class="line"><span class="number">12</span>    <span class="number">0.868421</span></span><br><span class="line"><span class="number">13</span>    <span class="number">0.894737</span></span><br><span class="line"><span class="number">14</span>    <span class="number">0.921053</span></span><br><span class="line"><span class="number">15</span>    <span class="number">0.921053</span></span><br><span class="line"><span class="number">16</span>    <span class="number">0.973684</span></span><br><span class="line"><span class="number">17</span>    <span class="number">1.000000</span></span><br></pre></td></tr></table></figure><p>(e) Calculate the <strong>correlation coefficient</strong> (Pearsonâ€™s product moment coefficient). Are these two variables positively or negatively correlated?</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(np.corrcoef(x,y))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ç›¸å…³ç³»æ•°&quot;</span> ,stats.pearsonr(x,y)[<span class="number">0</span>])</span><br></pre></td></tr></table></figure><p>Result is</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="number">1.</span>        <span class="number">0.8176188</span>]</span><br><span class="line"> [<span class="number">0.8176188</span> <span class="number">1.</span>       ]]</span><br><span class="line">ç›¸å…³ç³»æ•° <span class="number">0.8176187964565874</span></span><br></pre></td></tr></table></figure><p>I think they are positively correlated.</p><p>(f) Smooth the fat data by bin means, using a bin depth of 6.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">mean</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">round</span>(<span class="built_in">sum</span>(x)/<span class="built_in">len</span>(x),<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">N_y=<span class="built_in">sorted</span>(y)</span><br><span class="line">bins=[[]]</span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> N_y:</span><br><span class="line">    bins[-<span class="number">1</span>].append(j)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>((v:=bins[-<span class="number">1</span>]))==<span class="number">6</span>:</span><br><span class="line">        v[:]=[mean(v)]*<span class="built_in">len</span>(v)</span><br><span class="line">        bins.append([])</span><br><span class="line"><span class="keyword">for</span> i,j  <span class="keyword">in</span> <span class="built_in">enumerate</span>(bins[:-<span class="number">1</span>]):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;bin %d is :&quot;</span>%(i+<span class="number">1</span>),j)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">bin</span> <span class="number">1</span> <span class="keyword">is</span> : [<span class="number">19.12</span>, <span class="number">19.12</span>, <span class="number">19.12</span>, <span class="number">19.12</span>, <span class="number">19.12</span>, <span class="number">19.12</span>]</span><br><span class="line"><span class="built_in">bin</span> <span class="number">2</span> <span class="keyword">is</span> : [<span class="number">30.32</span>, <span class="number">30.32</span>, <span class="number">30.32</span>, <span class="number">30.32</span>, <span class="number">30.32</span>, <span class="number">30.32</span>]</span><br><span class="line"><span class="built_in">bin</span> <span class="number">3</span> <span class="keyword">is</span> : [<span class="number">36.92</span>, <span class="number">36.92</span>, <span class="number">36.92</span>, <span class="number">36.92</span>, <span class="number">36.92</span>, <span class="number">36.92</span>]</span><br></pre></td></tr></table></figure><p>(g) Smooth the fat data by bin boundaries, using a bin depth of 6.</p><p>è¿™é‡Œå› ä¸ºæˆ‘ä»¬æ˜¯å¯¹æ’å¥½åºçš„æ•°æ®åšå¤„ç†ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡äºŒåˆ†æ³•è¿›è¡Œä¼˜åŒ–ï¼Œè·å–ä¸­é—´åˆ†ç•Œã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">close</span>(<span class="params">x,a,b</span>):</span><br><span class="line">    <span class="comment"># æ˜¯å¦é è¿‘ä¸‹ç•Œ</span></span><br><span class="line">    <span class="keyword">return</span> (x-a)&lt;=(b-x)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">boundary</span>(<span class="params">x</span>):</span><br><span class="line">    Min=x[<span class="number">0</span>]</span><br><span class="line">    Max=x[-<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">    l,r=<span class="number">0</span>,<span class="built_in">len</span>(x)-<span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> l&lt;=r:</span><br><span class="line">        mid=(r-l)//<span class="number">2</span>+l</span><br><span class="line">        <span class="keyword">if</span> close(x[mid],Min,Max):</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> close(x[mid+<span class="number">1</span>],Min,Max):</span><br><span class="line">                l=mid</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            l=mid+<span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> close(x[mid-<span class="number">1</span>],Min,Max):</span><br><span class="line">                l=mid</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            r=mid-<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> [[Min]*l+[Max]*(<span class="built_in">len</span>(x)-l)]</span><br><span class="line"></span><br><span class="line">N_y=<span class="built_in">sorted</span>(y)</span><br><span class="line">bins=[[]]</span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> N_y:</span><br><span class="line">    bins[-<span class="number">1</span>].append(j)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>((v:=bins[-<span class="number">1</span>]))==<span class="number">6</span>:</span><br><span class="line">        v[:]=boundary(v)</span><br><span class="line">        bins.append([])</span><br><span class="line"><span class="keyword">for</span> i,j  <span class="keyword">in</span> <span class="built_in">enumerate</span>(bins[:-<span class="number">1</span>]):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;bin %d is :&quot;</span>%(i+<span class="number">1</span>),j)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">bin</span> <span class="number">1</span> <span class="keyword">is</span> : [[<span class="number">7.8</span>, <span class="number">7.8</span>, <span class="number">27.2</span>, <span class="number">27.2</span>, <span class="number">27.2</span>, <span class="number">27.2</span>]]</span><br><span class="line"><span class="built_in">bin</span> <span class="number">2</span> <span class="keyword">is</span> : [[<span class="number">27.4</span>, <span class="number">27.4</span>, <span class="number">32.9</span>, <span class="number">32.9</span>, <span class="number">32.9</span>, <span class="number">32.9</span>]]</span><br><span class="line"><span class="built_in">bin</span> <span class="number">3</span> <span class="keyword">is</span> : [[<span class="number">33.4</span>, <span class="number">33.4</span>, <span class="number">33.4</span>, <span class="number">33.4</span>, <span class="number">42.5</span>, <span class="number">42.5</span>]]</span><br></pre></td></tr></table></figure><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">None</summary>
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="æ•°æ®åˆ†æ" scheme="http://example.com/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>ã€æ•°æ®åˆ†æã€‘Chapter 2. æ•°æ®é¢„å¤„ç†</title>
    <link href="http://example.com/2022/10/08/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97/"/>
    <id>http://example.com/2022/10/08/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97/</id>
    <published>2022-10-08T03:51:54.528Z</published>
    <updated>2022-10-09T04:53:34.896Z</updated>
    
    <content type="html"><![CDATA[<p>ç°å®ç”Ÿæ´»ä¸­çš„æ•°æ®ææ˜“æ”¶åˆ°å™ªå£°ã€ç¼ºå¤±å€¼å’Œä¸ä¸€è‡´æ•°æ®çš„å½±å“ã€‚æ•°æ®é¢„å¤„ç†æ˜¯æ•°æ®æŒ–æ˜è¿‡ç¨‹ä¸­çš„ç¬¬ä¸€ä¸ªæ­¥éª¤ï¼Œä¸»è¦æœ‰æ•°æ®æ¸…æ´—ã€æ•°æ®é›†æˆã€æ•°æ®å½’çº¦å’Œæ•°æ®å˜æ¢ç­‰æ–¹å¼ã€‚</p><h2 id="ä¸€ã€æ•°æ®é¢„å¤„ç†çš„å¿…è¦æ€§">ä¸€ã€æ•°æ®é¢„å¤„ç†çš„å¿…è¦æ€§</h2><hr><p>æ•°æ®çš„è´¨é‡å†³å®šäº†æ•°æ®æŒ–æ˜çš„æ•ˆæœã€‚è€Œåœ¨åŸå§‹æ•°æ®ä¸­ï¼Œå¤§å¤šæ•°æ®éƒ½æ˜¯<code>Dirty</code>æ•°æ®ï¼Œä»–ä»¬å­˜åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢çš„é—®é¢˜ã€‚</p><ul><li>æ•°æ®ä¸ä¸€è‡´</li><li>å™ªå£°æ•°æ®</li><li>ç¼ºå¤±å€¼</li></ul><blockquote><p>é‚£ï¼Œæ—¢ç„¶æ•°æ®å¦‚æ­¤é‡è¦ï¼Œæˆ‘ä»¬å°±éœ€è¦ä¸€å¥—ä½“ç³»æ¥è¯„ä¼°æ•°æ®çš„å¥½åä¸æ˜¯å—</p></blockquote><p>1ï¸âƒ£ <strong>å‡†ç¡®æ€§</strong></p><p>æ•°æ®è®°å½•æ˜¯å¦å­˜åœ¨å¼‚å¸¸æˆ–è€…è¯¯å·®</p><p>2ï¸âƒ£ <strong>ä¸€è‡´æ€§</strong></p><p>æ•°æ®æ˜¯å¦ç¬¦åˆæŸä¸€è§„åˆ™</p><p>3ï¸âƒ£ <strong>å®Œæ•´æ€§</strong></p><p>æ˜¯å¦å­˜åœ¨ç¡®å®</p><p>4ï¸âƒ£ <strong>æ—¶æ•ˆæ€§</strong></p><p>èƒ½å¦åŠæ—¶æ›´æ–°</p><p>5ï¸âƒ£ <strong>å¯ä¿¡æ€§</strong></p><p>ç”¨æˆ·å¯ä»¥ä¿¡èµ–çš„æ•°æ®</p><p>6ï¸âƒ£ <strong>å¯è§£é‡Šæ€§</strong></p><p>æ˜¯å¦æ˜“äºç†è§£</p><hr><h2 id="äºŒã€æ•°æ®æ¸…æ´—">äºŒã€æ•°æ®æ¸…æ´—</h2><h3 id="2-1-æ•°æ®æ¸…æ´—æ–¹æ³•">2.1  æ•°æ®æ¸…æ´—æ–¹æ³•</h3><p>1ï¸âƒ£ <strong>ç¼ºå¤±å€¼å¤„ç†</strong></p><ul><li>å¿½ç•¥å…ƒç»„</li><li>äººå·¥å¡«å†™ç¼ºå¤±å€¼</li><li>ä½¿ç”¨å¸¸é‡å¡«å……ç¼ºå¤±å€¼</li><li>ä½¿ç”¨ä¸­å¿ƒè¶‹åŠ¿åº¦å¡«å……ç¼ºå¤±å€¼</li><li>é‡‡ç”¨å‡å€¼æˆ–è€…ä¸­ä½æ•°å¡«å……</li><li>åˆ©ç”¨æœ€å¯èƒ½çš„å€¼è¿›è¡Œå¡«å……</li></ul><hr><p>2ï¸âƒ£ <strong>å™ªå£°æ•°æ®å¤„ç†</strong></p><ul><li>åˆ†ç®±â€“å€ŸåŠ©é‚»åŸŸæ¥å…‰æ»‘æ•°æ®å€¼</li><li>å›å½’â€“é‡‡æ ·å‡½æ•°æ¥æ‹Ÿåˆå…‰æ»‘æ•°æ®</li><li>ç¦»å»ç‚¹åˆ†æ</li></ul><hr><h3 id="2-2-åŸºäºPandasè¿›è¡Œæ•°æ®æ¸…æ´—">2.2  åŸºäºPandasè¿›è¡Œæ•°æ®æ¸…æ´—</h3><p>1ï¸âƒ£ <strong>æ£€æµ‹ä¸å¤„ç†ç¼ºå¤±å€¼</strong></p><p>ğŸ‘¦ <strong>æ£€æµ‹éç©ºå€¼</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.isnull()</span><br></pre></td></tr></table></figure><p>ğŸ“§ <strong>ç»Ÿè®¡éç©ºå€¼</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.isnull().<span class="built_in">sum</span>()</span><br></pre></td></tr></table></figure><p>ğŸ <strong>æŸ¥çœ‹éç©ºå€¼</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.info()</span><br></pre></td></tr></table></figure><hr><p>2ï¸âƒ£ <strong>ç¼ºå¤±å€¼å¤„ç†</strong></p><p>ğŸ…±ï¸ <strong>åˆ é™¤</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dropna()</span><br></pre></td></tr></table></figure><p><code>dropna()</code>å¯¹äº<code>Series</code>ï¼Œä¼šè¿”å›ä¸€ä¸ªä»…å«éç©ºæ•°æ®å’Œç´¢å¼•çš„<code>Series</code>ï¼Œè€Œå¯¹äºä¸€ä¸ª<code>DataFrame</code>å¯¹è±¡ï¼Œåˆ™ä¼šé»˜è®¤ä¸¢å¼ƒä»»ä½•å«æœ‰ç¼ºå¤±å€¼çš„è¡Œã€‚</p><table><thead><tr><th style="text-align:center">å‚æ•°</th><th style="text-align:center">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:center">axis</td><td style="text-align:center">0æ˜¯è¡Œ 1æ˜¯åˆ—</td></tr><tr><td style="text-align:center">how</td><td style="text-align:center">ç¡®è®¤ç¼ºå¤±å€¼çš„ä¸ªæ•°ï¼Œ'anyâ€™è¡¨ç¤ºåªè¦æœ‰ç¼ºå¤±å€¼å°±ä¸¢äº†,'allâ€™åˆ™è¦å…¨éƒ¨</td></tr><tr><td style="text-align:center">thresh</td><td style="text-align:center">å¯ä»¥ç¡®å®šç¼ºå¤±å€¼é˜ˆå€¼</td></tr><tr><td style="text-align:center">subset</td><td style="text-align:center">åªå¯¹å­åˆ—è¿›è¡Œæ“ä½œï¼Œä¾‹å¦‚subset=[â€˜aâ€™,'b]</td></tr><tr><td style="text-align:center">inplace</td><td style="text-align:center">ä¸è¿”å›</td></tr></tbody></table><p>ğŸ…°ï¸ <strong>å¡«å……</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fillna()</span><br></pre></td></tr></table></figure><table><thead><tr><th style="text-align:center">å‚æ•°</th><th style="text-align:center">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:center">value</td><td style="text-align:center">ç”¨äºå¡«å……ç¼ºå¤±å€¼çš„æ ‡é‡å€¼æˆ–è€…å­—å…¸å¯¹è±¡</td></tr><tr><td style="text-align:center">method</td><td style="text-align:center">æ’å€¼æ–¹æ³•</td></tr><tr><td style="text-align:center">axis</td><td style="text-align:center">å¾…å¡«å……çš„è½´</td></tr><tr><td style="text-align:center">inplace</td><td style="text-align:center">åŸåœ°ä¿®æ”¹</td></tr><tr><td style="text-align:center">limit</td><td style="text-align:center">å¯ä»¥è¿ç»­å¡«å……çš„æœ€å¤§æ•°é‡</td></tr></tbody></table><p><strong>ä¸¾ä¸ªæ —å­</strong></p><p><code>fillna()</code>å¯ä»¥é€šè¿‡å­—å…¸çš„æ–¹å¼è¿›è¡Œå¡«å……ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">df=pd.DataFrame(np.random.randn(<span class="number">5</span>,<span class="number">3</span>))</span><br><span class="line">df.iloc[:<span class="number">3</span>,<span class="number">1</span>:]=pd.NA</span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"><span class="built_in">print</span>(df.fillna(&#123;<span class="number">1</span>:<span class="number">0.1</span>,<span class="number">2</span>:<span class="number">0.2</span>&#125;))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">          <span class="number">0</span>         <span class="number">1</span>         <span class="number">2</span></span><br><span class="line"><span class="number">0</span>  <span class="number">0.078301</span>      &lt;NA&gt;      &lt;NA&gt;</span><br><span class="line"><span class="number">1</span>  <span class="number">1.310107</span>      &lt;NA&gt;      &lt;NA&gt;</span><br><span class="line"><span class="number">2</span>  <span class="number">0.025339</span>      &lt;NA&gt;      &lt;NA&gt;</span><br><span class="line"><span class="number">3</span>  <span class="number">0.011049</span> -<span class="number">0.053258</span> -<span class="number">0.259365</span></span><br><span class="line"><span class="number">4</span>  <span class="number">0.664727</span>  <span class="number">0.023836</span> -<span class="number">2.092003</span></span><br><span class="line">          <span class="number">0</span>         <span class="number">1</span>         <span class="number">2</span></span><br><span class="line"><span class="number">0</span>  <span class="number">0.078301</span>  <span class="number">0.100000</span>  <span class="number">0.200000</span></span><br><span class="line"><span class="number">1</span>  <span class="number">1.310107</span>  <span class="number">0.100000</span>  <span class="number">0.200000</span></span><br><span class="line"><span class="number">2</span>  <span class="number">0.025339</span>  <span class="number">0.100000</span>  <span class="number">0.200000</span></span><br><span class="line"><span class="number">3</span>  <span class="number">0.011049</span> -<span class="number">0.053258</span> -<span class="number">0.259365</span></span><br><span class="line"><span class="number">4</span>  <span class="number">0.664727</span>  <span class="number">0.023836</span> -<span class="number">2.092003</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨å‡å€¼å¡«å……ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.fillna(data.mean())</span><br></pre></td></tr></table></figure><hr><p>3ï¸âƒ£ <strong>æ•°æ®å€¼æ›¿æ¢</strong></p><p>é€šè¿‡<code>relpace()</code>æ–¹æ³•è¿›è¡Œæ›¿æ¢</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">data=&#123;<span class="string">&#x27;å§“å&#x27;</span>:[<span class="string">&#x27;å¼ ä¸‰&#x27;</span>,<span class="string">&#x27;å°æ˜&#x27;</span>,<span class="string">&#x27;é©¬èŠ³&#x27;</span>,<span class="string">&#x27;å›½å¿—&#x27;</span>],<span class="string">&#x27;æ€§åˆ«&#x27;</span>:[<span class="string">&#x27;0&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;0&#x27;</span>,<span class="string">&#x27;1&#x27;</span>],</span><br><span class="line">      <span class="string">&#x27;ç±è´¯&#x27;</span>:[<span class="string">&#x27;åŒ—äº¬&#x27;</span>,<span class="string">&#x27;ç”˜è‚ƒ&#x27;</span>,<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;ä¸Šæµ·&#x27;</span>]&#125;</span><br><span class="line">df=pd.DataFrame(data)</span><br><span class="line">df=df.replace(<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;æˆ‘æ˜¯ä½ çˆ¹&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(df)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">   å§“å æ€§åˆ«    ç±è´¯</span><br><span class="line"><span class="number">0</span>  å¼ ä¸‰  <span class="number">0</span>    åŒ—äº¬</span><br><span class="line"><span class="number">1</span>  å°æ˜  <span class="number">1</span>    ç”˜è‚ƒ</span><br><span class="line"><span class="number">2</span>  é©¬èŠ³  <span class="number">0</span>  æˆ‘æ˜¯ä½ çˆ¹</span><br><span class="line"><span class="number">3</span>  å›½å¿—  <span class="number">1</span>    ä¸Šæµ·</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¼ å…¥<code>åˆ—è¡¨</code>çš„æ–¹å¼è¿›è¡Œå¤šåˆ—æ›´æ”¹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df=df.replace([<span class="string">&quot;æˆ‘æ˜¯ä½ çˆ¹&quot;</span>,<span class="string">&quot;åŒ—äº¬&quot;</span>],[<span class="string">&quot;åŒ—äº¬&quot;</span>,<span class="string">&quot;PK&quot;</span>])</span><br><span class="line"><span class="built_in">print</span>(df)</span><br></pre></td></tr></table></figure><p>å“¦æä¸€å˜´ï¼Œè¿™é‡Œéœ€è¦æ¥æ”¶ï¼ï¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">   å§“å æ€§åˆ«  ç±è´¯</span><br><span class="line"><span class="number">0</span>  å¼ ä¸‰  <span class="number">0</span>  PK</span><br><span class="line"><span class="number">1</span>  å°æ˜  <span class="number">1</span>  ç”˜è‚ƒ</span><br><span class="line"><span class="number">2</span>  é©¬èŠ³  <span class="number">0</span>  åŒ—äº¬</span><br><span class="line"><span class="number">3</span>  å›½å¿—  <span class="number">1</span>  ä¸Šæµ·</span><br></pre></td></tr></table></figure><p>ä¸éš¾å‘ç°ï¼Œç¬¬ä¸€ä¸ªåˆ—è¡¨æ˜¯éœ€è¦æ›¿æ¢çš„å€¼ï¼Œç¬¬äºŒä¸ªåˆ—è¡¨æ˜¯æ›¿æ¢åçš„å€¼ï¼Œä¸”ä»–ä»¬ä¹‹é—´æ˜¯å¹¶è¡Œçš„ï¼ä¸èƒ½é“¾å¼æ›¿æ¢~</p><p>ä¹Ÿå¯ä»¥é€šè¿‡å­—å…¸å®ç°å¤šå€¼æ›¿æ¢</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df=df.replace(&#123;<span class="string">&quot;1&quot;</span>:<span class="string">&quot;ç”·&quot;</span>,<span class="string">&quot;0&quot;</span>:<span class="string">&#x27;å¥³&#x27;</span>&#125;)</span><br><span class="line"><span class="built_in">print</span>(df)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">   å§“å æ€§åˆ«  ç±è´¯</span><br><span class="line"><span class="number">0</span>  å¼ ä¸‰  å¥³  PK</span><br><span class="line"><span class="number">1</span>  å°æ˜  ç”·  ç”˜è‚ƒ</span><br><span class="line"><span class="number">2</span>  é©¬èŠ³  å¥³  åŒ—äº¬</span><br><span class="line"><span class="number">3</span>  å›½å¿—  ç”·  ä¸Šæµ·</span><br></pre></td></tr></table></figure><p>é€šè¿‡è‡ªå®šä¹‰å‡½æ•°<code>map</code>å®ç°~ï¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">data=&#123;<span class="string">&#x27;å§“å&#x27;</span>:[<span class="string">&#x27;å¼ ä¸‰&#x27;</span>,<span class="string">&#x27;å°æ˜&#x27;</span>,<span class="string">&#x27;é©¬èŠ³&#x27;</span>,<span class="string">&#x27;å›½å¿—&#x27;</span>],<span class="string">&#x27;æ€§åˆ«&#x27;</span>:[<span class="string">&#x27;0&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;0&#x27;</span>,<span class="string">&#x27;1&#x27;</span>],</span><br><span class="line">      <span class="string">&#x27;ç±è´¯&#x27;</span>:[<span class="string">&#x27;åŒ—äº¬&#x27;</span>,<span class="string">&#x27;ç”˜è‚ƒ&#x27;</span>,<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;ä¸Šæµ·&#x27;</span>]&#125;</span><br><span class="line">df=pd.DataFrame(data)</span><br><span class="line">df[<span class="string">&#x27;æˆç»©&#x27;</span>]=[<span class="number">58</span>,<span class="number">62</span>,<span class="number">71</span>,<span class="number">99</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">grade</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="keyword">if</span> x&gt;=<span class="number">90</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;ä¼˜&quot;</span></span><br><span class="line">    <span class="keyword">if</span> x&gt;=<span class="number">80</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;è‰¯&quot;</span></span><br><span class="line">    <span class="keyword">if</span> x&gt;=<span class="number">60</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;åŠæ ¼&quot;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;ä¸åŠæ ¼&quot;</span></span><br><span class="line"></span><br><span class="line">df[<span class="string">&#x27;æˆç»©&#x27;</span>]=df[<span class="string">&#x27;æˆç»©&#x27;</span>].<span class="built_in">map</span>(grade)</span><br><span class="line"><span class="built_in">print</span>(df)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">   å§“å æ€§åˆ«  ç±è´¯   æˆç»©</span><br><span class="line"><span class="number">0</span>  å¼ ä¸‰  <span class="number">0</span>  åŒ—äº¬  ä¸åŠæ ¼</span><br><span class="line"><span class="number">1</span>  å°æ˜  <span class="number">1</span>  ç”˜è‚ƒ   åŠæ ¼</span><br><span class="line"><span class="number">2</span>  é©¬èŠ³  <span class="number">0</span>       åŠæ ¼</span><br><span class="line"><span class="number">3</span>  å›½å¿—  <span class="number">1</span>  ä¸Šæµ·    ä¼˜</span><br></pre></td></tr></table></figure><hr><p>4ï¸âƒ£ <strong>å¼‚å¸¸å€¼æ£€æµ‹</strong></p><p><strong>æ•£ç‚¹å›¾</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">wdf=pd.DataFrame(np.arange(<span class="number">20</span>),columns=[<span class="string">&#x27;W&#x27;</span>])</span><br><span class="line">wdf[<span class="string">&#x27;Y&#x27;</span>]=wdf[<span class="string">&#x27;W&#x27;</span>]*<span class="number">1.5</span>+<span class="number">2</span></span><br><span class="line">wdf.iloc[<span class="number">3</span>,<span class="number">1</span>]=<span class="number">128</span></span><br><span class="line">wdf.iloc[<span class="number">18</span>,<span class="number">1</span>]=<span class="number">150</span></span><br><span class="line">wdf.plot(kind=<span class="string">&#x27;scatter&#x27;</span>,x=<span class="string">&#x27;W&#x27;</span>,y=<span class="string">&#x27;Y&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><img src="/2022/10/08/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97/image-20221008171302620.png" alt="image-20221008171302620" style="zoom:50%;"><p><strong>ç®±çº¿å›¾</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">plt.boxplot(wdf[<span class="string">&#x27;Y&#x27;</span>].values,notch=<span class="literal">True</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><img src="/2022/10/08/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97/image-20221008171417603.png" alt="image-20221008171417603" style="zoom:50%;"><p><strong>3<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Ïƒ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span></span></span></span>æ³•åˆ™</strong></p><p>æ•°æ®æœä»æ­£æ€åˆ†å¸ƒæ—¶ï¼Œåœ¨<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mi>Ïƒ</mi></mrow><annotation encoding="application/x-tex">3\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span></span></span></span>æ³•åˆ™ä¸‹ï¼Œå¼‚å¸¸å€¼è¢«å®šä¹‰ä¸ºä¸€ç»„æµ‹å®šå€¼ä¸­ä¸å‡å€¼åå·®è¶…è¿‡ä¸‰å€æ ‡å‡†å·®<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Ïƒ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span></span></span></span>çš„å€¼ã€‚å› ä¸ºåœ¨æ­£æ€åˆ†å¸ƒä¸‹ï¼Œè·ç¦»å‡å€¼<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mi>Ïƒ</mi></mrow><annotation encoding="application/x-tex">3\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">3</span><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span></span></span></span>ä¹‹å¤–çš„å€¼å‡ºç°çš„æ¦‚ç‡å°äº<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.003</mn></mrow><annotation encoding="application/x-tex">0.003</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.003</span></span></span></span>ï¼Œå¯çœ‹åšå°æ¦‚ç‡æ—¶é—´ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">outRange</span>(<span class="params">S</span>):</span><br><span class="line">    blidx=(S.mean()-<span class="number">3</span>*S.std()&gt;S)|(S.mean()+<span class="number">3</span>*S.std()&lt;S)</span><br><span class="line">    idx=np.arange(S.shape[<span class="number">0</span>])[blidx]</span><br><span class="line">    outRange=S.iloc[idx]</span><br><span class="line">    <span class="keyword">return</span> outRange</span><br><span class="line"><span class="built_in">print</span>(outRange(wdf[<span class="string">&#x27;Y&#x27;</span>]))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">18</span>    <span class="number">150.0</span></span><br><span class="line">Name: Y, dtype: float64</span><br></pre></td></tr></table></figure><p>å€¼å¾—æ³¨æ„çš„æ˜¯å•Šï¼Œåƒè¿™ç§è¡¨è¾¾å¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">S.mean()-S.std()&gt;S</span><br></pre></td></tr></table></figure><p>ä¼šè¿”å›æœ‰ä¸ªåªæœ‰<code>True</code>æˆ–è€…<code>False</code>çš„<code>Series</code>ï¼Œä¹Ÿå°±æ˜¯<code>0,1</code>ã€‚æ­¤æ—¶å¯ä»¥ç”¨ä½è¿ç®—<code>|</code>ä¿ç•™<code>1</code>çš„ç»“æœã€‚</p><p>ä½†æ˜¯æ‹¿åˆ°äº†<code>Series</code>ï¼Œæˆ‘ä»¬è¿˜è¦åŸå§‹æ•°æ®å‘ä¸æ˜¯ï¼Œæ‰€ä»¥è¿˜éœ€è¦è·å–åŸå§‹æ•°æ®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">idx=np.arange(S.shape[<span class="number">0</span>])[blidx]</span><br><span class="line">S.iloc[idx]</span><br></pre></td></tr></table></figure><hr><h3 id="2-3-æ•°æ®é›†æˆ">2.3  æ•°æ®é›†æˆ</h3><p>æœ‰æ—¶å€™éœ€è¦æŒ–æ˜çš„æ•°æ®å¯èƒ½æ¥è‡ªå¤šä¸ªæ•°æ®æºï¼Œå¯¼è‡´æ•°æ®å­˜åœ¨å†—ä½™ä¸ä¸ä¸€è‡´çš„æƒ…å†µã€‚æ•°æ®é›†æˆæ˜¯å°†å¤šä¸ªæ•°æ®æºä¸­çš„æ•°æ®åˆå¹¶ï¼Œå¹¶å­˜æ”¾åˆ°ä¸€ä¸ªä¸€è‡´çš„æ•°æ®å­˜å‚¨ä¸­ã€‚</p><p>1ï¸âƒ£ <strong>æ•°æ®å†—ä½™å’Œç›¸å…³æ€§åˆ†æ</strong></p><p>å†—ä½™æ˜¯æ•°æ®ç»§æ‰¿çš„é‡è¦é—®é¢˜ï¼Œå¦‚æœä¸€ä¸ªå±æ€§èƒ½ç”±å¦ä¸€ä¸ªå±æ€§æˆ–è€…å¦ä¸€ç»„å±æ€§å€¼æ¨å¯¼è€Œå‡ºï¼Œé‚£ä¹ˆè¿™ä¸ªå±æ€§å¯èƒ½å°±æ˜¯å†—ä½™çš„å“¦ã€‚æ­¤å¤–ï¼Œå±æ€§å‘½åä¸ä¸€è‡´ä¹Ÿä¼šå¯¼è‡´å†—ä½™ã€‚</p><p>æˆ‘ä»¬ä¸‹é¢ä»‹ç»å¦‚ä½•åˆ¤æ–­å±æ€§æ˜¯ä¸æ˜¯å†—ä½™çš„å“ˆï¼</p><hr><p><strong><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>Ï‡</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">\chi^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0085em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">Ï‡</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>æ£€éªŒ</strong></p><p>å¡æ–¹æ£€éªŒé€‚ç”¨äºæ ‡ç§°å±æ€§ï¼Œå‡è®¾å¯¹äºä¸¤ä¸ªå±æ€§<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mo separator="true">,</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">A,B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">A</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>,<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span>æœ‰<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span>ä¸ªä¸åŒçš„å–å€¼ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>æœ‰<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span>ä¸ªä¸åŒçš„å–å€¼ï¼Œç”¨<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>æè¿°çš„æ•°æ®å…ƒç»„å¯ä»¥ç”¨ä¸€ä¸ªç›¸ä¾è¡¨æ˜¾ç¤ºï¼Œå…¶ä¸­<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span>çš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">c</span></span></span></span>ä¸ªå€¼æ„æˆåˆ—ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>çš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span>ä¸ªå€¼æ„æˆè¡Œã€‚<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>A</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>B</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(A_i,B_j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0502em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>è¡¨ç¤ºå±æ€§<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span></span></span></span>å–<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span>ï¼Œå±æ€§<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>å–<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span>çš„è”åˆäº‹ä»¶ã€‚</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msup><mi>Ï‡</mi><mn>2</mn></msup><mo>=</mo><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>c</mi></munderover><munderover><mo>âˆ‘</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>c</mi></munderover><mfrac><mrow><mo stretchy="false">(</mo><msub><mi>o</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>âˆ’</mo><msub><mi>e</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><msub><mi>e</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mfrac></mrow><annotation encoding="application/x-tex">\chi^2=\sum_{i=1}^c\sum_{j=1}^c\frac{(o_{ij}-e_{ij})^2}{e_{ij}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0585em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">Ï‡</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.0652em;vertical-align:-1.4138em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">c</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4911em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">o</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.9721em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>å…¶ä¸­<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>O</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">O_{ij}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>è¡¨ç¤ºè”åˆäº‹ä»¶çš„è§‚æµ‹é¢‘åº¦ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>e</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">e_{ij}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>è¡¨ç¤ºæœŸæœ›é¢‘åº¦ï¼Œè®¡ç®—å¼ä¸ºï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>e</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mfrac><mrow><mi>c</mi><mi>o</mi><mi>u</mi><mi>n</mi><mi>t</mi><mo stretchy="false">(</mo><mi>A</mi><mo>=</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>Ã—</mo><mi>c</mi><mi>o</mi><mi>u</mi><mi>n</mi><mi>t</mi><mo stretchy="false">(</mo><mi>B</mi><mo>=</mo><msub><mi>b</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow><mi>n</mi></mfrac></mrow><annotation encoding="application/x-tex">e_{ij}=\frac{count(A=a_i)\times count(B=b_j)}{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.113em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">co</span><span class="mord mathnormal">u</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal">A</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">co</span><span class="mord mathnormal">u</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>ä¸ºå…ƒç»„ä¸ªæ•°ã€‚</p><hr><p><strong>ç›¸å…³ç³»æ•°</strong></p><p>åˆç§°ä¸ºçš®å°”é€ŠçŸ©é˜µç³»æ•°(Pearson)ï¼Œç›¸å…³ç³»æ•°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>r</mi><mrow><mi>A</mi><mo separator="true">,</mo><mi>B</mi></mrow></msub></mrow><annotation encoding="application/x-tex">r_{A,B}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">A</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span>å¯å®šä¹‰ä¸ºï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>r</mi><mrow><mi>A</mi><mo separator="true">,</mo><mi>B</mi></mrow></msub><mo>=</mo><mfrac><mrow><munderover><mo>âˆ‘</mo><mn>1</mn><mi>n</mi></munderover><mo stretchy="false">(</mo><msub><mi>a</mi><mi>i</mi></msub><mo>âˆ’</mo><mover accent="true"><mi>A</mi><mo>Ë‰</mo></mover><mo stretchy="false">)</mo><mo stretchy="false">(</mo><msub><mi>b</mi><mi>i</mi></msub><mo>âˆ’</mo><mover accent="true"><mi>B</mi><mo>Ë‰</mo></mover><mo stretchy="false">)</mo></mrow><mrow><mi>n</mi><msub><mi>Ïƒ</mi><mi>A</mi></msub><msub><mi>Ïƒ</mi><mi>B</mi></msub></mrow></mfrac><mo>=</mo><mfrac><mrow><munderover><mo>âˆ‘</mo><mn>1</mn><mi>n</mi></munderover><mo stretchy="false">(</mo><msub><mi>a</mi><mi>i</mi></msub><msub><mi>b</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mo>âˆ’</mo><mi>n</mi><mover accent="true"><mi>A</mi><mo>Ë‰</mo></mover><mover accent="true"><mi>B</mi><mo>Ë‰</mo></mover></mrow><mrow><mi>n</mi><msub><mi>Ïƒ</mi><mi>A</mi></msub><msub><mi>Ïƒ</mi><mi>B</mi></msub></mrow></mfrac></mrow><annotation encoding="application/x-tex">r_{A,B}=\frac{\sum_1^n(a_i-\bar{A})(b_i-\bar{B})}{n\sigma_A\sigma_B}=\frac{\sum_1^n(a_ib_j)-n\bar{A}\bar{B}}{n\sigma_A\sigma_B}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">A</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3458em;vertical-align:-0.836em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5098em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">A</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.6897em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">A</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1111em;"><span class="mord">Ë‰</span></span></span></span></span></span></span><span class="mclose">)</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">Ë‰</span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3458em;vertical-align:-0.836em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5098em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">A</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.6897em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">n</span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">A</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1111em;"><span class="mord">Ë‰</span></span></span></span></span></span></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1667em;"><span class="mord">Ë‰</span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>å…¶ä¸­<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>ä¸ºå…ƒç»„ä¸ªæ•°ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>A</mi><mo>Ë‰</mo></mover></mrow><annotation encoding="application/x-tex">\bar{A}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8201em;"></span><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8201em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">A</span></span><span style="top:-3.2523em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.1111em;"><span class="mord">Ë‰</span></span></span></span></span></span></span></span></span></span>ä¸ºå‡å€¼ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Ïƒ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span></span></span></span>ä¸ºæ ‡å‡†å·®ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>a</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>b</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">a_i,b_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ä¸ºå…ƒç»„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span>åœ¨<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>B</mi></mrow><annotation encoding="application/x-tex">AB</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>ä¸Šçš„å–å€¼ã€‚</p><p>è‹¥<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>B</mi></mrow><annotation encoding="application/x-tex">AB</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>ç‹¬ç«‹ï¼Œåˆ™<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>r</mi><mrow><mi>A</mi><mo separator="true">,</mo><mi>B</mi></mrow></msub><mo>=</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">r_{A,B}=0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">A</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight" style="margin-right:0.05017em;">B</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>ï¼Œå–å€¼èŒƒå›´ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>âˆ’</mo><mn>1</mn><mo separator="true">,</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">-1,1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">âˆ’</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span></span></span></span></p><hr><p><strong>åæ–¹å·®</strong></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>C</mi><mi>o</mi><mi>v</mi><mo stretchy="false">(</mo><mi>X</mi><mo separator="true">,</mo><mi>Y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>E</mi><mo stretchy="false">[</mo><mo stretchy="false">(</mo><mi>X</mi><mo>âˆ’</mo><mi>E</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo stretchy="false">(</mo><mi>Y</mi><mo>âˆ’</mo><mi>E</mi><mo stretchy="false">(</mo><mi>Y</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo>=</mo><mi>E</mi><mo stretchy="false">(</mo><mi>X</mi><mi>Y</mi><mo stretchy="false">)</mo><mo>âˆ’</mo><mi>E</mi><mo stretchy="false">(</mo><mi>X</mi><mo stretchy="false">)</mo><mi>E</mi><mo stretchy="false">(</mo><mi>Y</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">Cov(X,Y)=E[(X-E(X))(Y-E(Y))]=E(XY)-E(X)E(Y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="mord mathnormal">o</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">[(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">))</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">))]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.07847em;">X</span><span class="mclose">)</span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.22222em;">Y</span><span class="mclose">)</span></span></span></span></span></p><p><strong>å®ç°</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df.A.cov(df.B)</span><br><span class="line">df.A.corr(df.B)</span><br></pre></td></tr></table></figure><p>åæ–¹å·®åæ˜ äºŒè€…è¶‹åŠ¿ç¨‹åº¦ï¼Œå–å€¼æ²¡æœ‰ç•Œå®šï¼Œè€Œç›¸å…³ç³»æ•°åˆ™æ˜¯å°†å…¶æ ‡å‡†åŒ–åè¯„ä¼°è¶‹è¿‘ç¨‹åº¦ï¼Œå…·æœ‰å–å€¼ç•Œå®šã€‚</p><hr><p><strong>2ï¸âƒ£ åŸºäºPandasè¿›è¡Œæ•°æ®åˆå¹¶</strong></p><p><code>merge()</code></p><p><strong>ä¾‹å¦‚</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.merge(a,b,left_on=&quot;fruit&quot;,right_on=&quot;green&quot;,how=&quot;left&quot;)</span><br></pre></td></tr></table></figure><p>åœ¨åˆå¹¶è¿‡ç¨‹ä¸­å¯èƒ½æˆ–å‡ºç°é‡å¤åˆ—åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>suffixes</code>è¿›è¡Œä¿®æ”¹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.merge(left,right,on=<span class="string">&quot;key1&quot;</span>,suffixes=(<span class="string">&#x27;_left&#x27;</span>,<span class="string">&#x27;_right&#x27;</span>))</span><br></pre></td></tr></table></figure><hr><p><code>concat()</code></p><p><strong>ä¾‹å¦‚</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.concat([data1,data2],axis=<span class="number">0</span>,join=<span class="string">&quot;inner&quot;</span>,sort=<span class="string">&quot;False&quot;</span>)</span><br></pre></td></tr></table></figure><hr><p>å¦‚æœéœ€è¦åˆå¹¶çš„ä¸¤ä¸ªDFå­˜åœ¨é‡å¤ç´¢å¼•ï¼Œé‚£ä¹ˆå‰é¢ä¸¤ä¸ªå‡½æ•°å°†æ— æ³•æ­£ç¡®åˆå¹¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>combine_first()</code>è¿›è¡Œåˆå¹¶ï¼Œè¯¥æ–¹æ³•ä¼šä¼˜å…ˆè€ƒè™‘ç¬¬ä¸€ä¸ªå€¼ã€‚</p><hr><h3 id="2-4-æ•°æ®æ ‡å‡†åŒ–">2.4  æ•°æ®æ ‡å‡†åŒ–</h3><p>ç”±äºé‡çº²çš„é—®é¢˜ï¼Œä¸åŒç‰¹å¾ä¹‹é—´å¯èƒ½ä¼šäº§ç”Ÿè¾ƒå¤§çš„å½±å“ã€‚ä¸ºæ­¤ï¼Œå¾€å¾€éœ€è¦å¯¹æ•°æ®è¿›è¡Œæ ‡å‡†åŒ–å¤„ç†ã€‚</p><p>1ï¸âƒ£ <strong>ç¦»å·®æ ‡å‡†åŒ–</strong></p><p>åšä¸€ä¸ªç®€å•çš„çº¿æ€§å˜åŒ–ï¼Œå°†æ•°æ®æ˜ å°„åˆ°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[0,1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">]</span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo>=</mo><mfrac><mrow><mi>x</mi><mo>âˆ’</mo><mi>m</mi><mi>i</mi><mi>n</mi></mrow><mrow><mi>m</mi><mi>a</mi><mi>x</mi><mo>âˆ’</mo><mi>m</mi><mi>i</mi><mi>n</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">x_1=\frac{x-min}{max-min}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1059em;vertical-align:-0.7693em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3365em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">min</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">min</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.7693em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>2ï¸âƒ£ <strong>æ ‡å‡†å·®æ ‡å‡†åŒ–</strong></p><p>åˆç§°é›¶å‡å€¼æ ‡å‡†åŒ–æˆ–<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>z</mi></mrow><annotation encoding="application/x-tex">z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span>åˆ†æ•°æ ‡å‡†åŒ–ï¼Œå¤„ç†åçš„å‡å€¼ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span>ï¼Œæ ‡å‡†å·®ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>x</mi><mn>1</mn></msub><mo>=</mo><mfrac><mrow><mi>x</mi><mo>âˆ’</mo><mi>m</mi><mi>e</mi><mi>a</mi><mi>n</mi></mrow><mrow><mi>s</mi><mi>t</mi><mi>d</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">x_1=\frac{x-mean}{std}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.9463em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">s</span><span class="mord mathnormal">t</span><span class="mord mathnormal">d</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">e</span><span class="mord mathnormal">an</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><hr><h3 id="2-5-æ•°æ®å½’çº¦">2.5  æ•°æ®å½’çº¦</h3><p>Data Reductionæ˜¯æŒ‡åœ¨å°½å¯èƒ½ä¿è¯æ•°æ®å®Œæ•´æ€§çš„åŸºç¡€ä¸Šå¾—åˆ°æ•°æ®çš„å½’çº¦è¡¨ç¤ºã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å½’çº¦åçš„æ•°æ®é›†ä¸ŠæŒ–æ˜æ›´åŠ æœ‰æ•ˆï¼Œä¸”ä¼šäº§ç”Ÿç›¸åŒæˆ–ç›¸ä¼¼çš„ç»“æœã€‚</p><p>1ï¸âƒ£ <strong>ç»´å½’çº¦</strong></p><p>å‡å°‘éšæœºå˜é‡æˆ–å±æ€§çš„ä¸ªæ•°ï¼Œå¸¸è§çš„æ–¹æ³•æœ‰ï¼š</p><ul><li>å±æ€§å­é›†é€‰æ‹©</li><li>å°æ³¢å˜æ¢</li><li>ä¸»æˆåˆ†åˆ†æ</li></ul><hr><p><strong>å±æ€§å­é›†é€‰æ‹©</strong></p><p>é€šè¿‡åˆ é™¤ä¸ç›¸å…³æˆ–å†—ä½™å±æ€§å‡å°‘æ•°æ®é‡ï¼Œæ—¨åœ¨æ‰¾å‡ºæœ€å°å±æ€§é›†ï¼Œä½¿å…¶åˆ†å¸ƒå°½å¯èƒ½æ¥è¿‘åŸå§‹åˆ†å¸ƒã€‚</p><p>å¦‚ä½•é€‰æ‹©ä¸€ä¸ªå¥½çš„å­é›†ï¼Ÿç©·ä¸¾æ˜¯ä¸æ˜¾ç¤ºçš„ï¼Œæ‰€ä»¥ä¸€èˆ¬ä½¿ç”¨å‹ç¼©ç©ºé—´çš„å¯å‘å¼ç®—æ³•è¿›è¡Œæœ€ä¼˜å­é›†é€‰å–ã€‚</p><p>åŸºæœ¬çš„å¯å‘å¼ç®—æ³•åŒ…å«ä»¥ä¸‹æŠ€æœ¯ï¼š</p><ul><li>é€æ­¥å‘å‰é€‰æ‹©<ul><li>ä¹Ÿå°±æ˜¯çŠ¶æ€ç§»åŠ¨</li></ul></li><li>é€æ­¥å‘ååˆ é™¤<ul><li>æœ«ä½æ·˜æ±°</li></ul></li><li>é€‰æ‹©+åˆ é™¤<ul><li>æ··åˆ</li></ul></li><li>å†³ç­–æ ‘å½’çº³</li></ul><hr><p><strong>å°æ³¢å˜æ¢</strong></p><p>è¿™ç©æ„ç»§æ‰¿å’Œå‘å±•äº†çŸ­æ—¶å‚…é‡Œå¶å˜æ¢å±€éƒ¨åŒ–çš„æ€æƒ³ï¼Œåˆå…‹æœäº†çª—å£å¤§å°ä¸éšé¢‘ç‡å˜åŒ–ç­‰ç¼ºç‚¹ã€‚èƒ½æä¾›ä¸€ä¸ªéšé¢‘ç‡æ”¹å˜çš„æ—¶é—´-é¢‘ç‡çª—å£ï¼Œæ˜¯è¿›è¡Œä¿¡å·æ—¶é¢‘åˆ†æå’Œå¤„ç†çš„ç†æƒ³å·¥å…·ã€‚</p><p>ä¸€èˆ¬åœ¨é¢‘åŸŸï¼Œä¿¡å·èƒ½é‡ä¸»è¦é›†ä¸­åœ¨ä½é¢‘ï¼Œå¯ä»¥æˆªå–ä¸­ä½é¢‘ç³»æ•°ä¿ç•™è¿‘ä¼¼çš„å‹ç¼©æ•°æ®ã€‚</p><hr><p><strong>ä¸»æˆåˆ†åˆ†æ</strong></p><p>PCAæœç´¢<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span></span></span></span>ä¸ªæœ€èƒ½ä»£è¡¨æ•°æ®çš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>ç»´æ­£äº¤å‘é‡ï¼Œæ˜¯æœ€å¸¸ä½¿ç”¨å°†ä¸ºæ–¹æ³•ã€‚</p><p>æ ¸å¿ƒæ€æƒ³æ˜¯æ‰¾åˆ°æ•°æ®é‡Œæœ€ä¸»è¦çš„æ–¹é¢ä»£æ›¿åŸå§‹æ•°æ®ã€‚</p><p><strong>æ­¥éª¤</strong></p><ul><li>å¯¹æ ·æœ¬ä¸­å¿ƒåŒ–<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mo>=</mo><mi>x</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mo>âˆ’</mo><mfrac><mn>1</mn><mi>m</mi></mfrac><msubsup><mo>âˆ‘</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></msubsup><mi>x</mi><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x(i)=x(i)-\frac{1}{m}\sum_{j=1}^mx(j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2809em;vertical-align:-0.4358em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4358em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span></span></span></span></li><li>è®¡ç®—æ ·æœ¬çš„åæ–¹å·®çŸ©é˜µ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><msup><mi>x</mi><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">xx^T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8413em;"></span><span class="mord mathnormal">x</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></li><li>å¯¹åæ–¹å·®çŸ©é˜µè¿›è¡Œç‰¹å¾åˆ†æ</li><li>å–å‡ºæœ€å¤§çš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>ä¸ªç‰¹å¾å€¼å¯¹åº”çš„ç‰¹å¾å‘é‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>w</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>w</mi><mn>2</mn></msub><mo separator="true">,</mo><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mo separator="true">,</mo><msub><mi>w</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(w_1,w_2,...,w_n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">...</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0269em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ï¼Œå°†æ‰€æœ‰çš„ç‰¹å¾å‘é‡æ ‡å‡†åŒ–åï¼Œç»„æˆç‰¹å¾å‘é‡çŸ©é˜µ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>W</mi></mrow><annotation encoding="application/x-tex">W</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span></li><li>å°†æ¯ä¸ªæ ·æœ¬é€šè¿‡ç‰¹å¾å‘é‡çŸ©é˜µè½¬åŒ–ä¸ºæ–°çš„æ ·æœ¬ï¼Œå¹¶å¾—åˆ°æ ·æœ¬é›†<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>z</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mo>=</mo><msup><mi>W</mi><mi>T</mi></msup><mi>x</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">z(i)=W^Tx(i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0913em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8413em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span></li></ul><p><strong>å°è¯•</strong></p><p>å¯¹é¸¢å°¾èŠ±æ•°æ®é›†è¿›è¡Œé™ç»´</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.decomposition <span class="keyword">import</span> PCA</span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_iris</span><br><span class="line"></span><br><span class="line">data=load_iris()</span><br><span class="line">y,x=data.target,data.data</span><br><span class="line"></span><br><span class="line">pca=PCA(n_components=<span class="number">2</span>)</span><br><span class="line">reduced_x=pca.fit_transform(x)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»˜å‡ºé™ç»´åçš„æ ·æœ¬ç‚¹åˆ†å¸ƒ</span></span><br><span class="line">red_x,red_y=[],[]</span><br><span class="line">blue_x,blue_y=[],[]</span><br><span class="line">green_x,green_y=[],[]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(reduced_x)):</span><br><span class="line">    <span class="keyword">if</span> y[i]==<span class="number">0</span>:</span><br><span class="line">        red_x.append(reduced_x[i][<span class="number">0</span>])</span><br><span class="line">        red_y.append(reduced_x[i][<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">elif</span> y[i]==<span class="number">1</span>:</span><br><span class="line">        blue_x.append(reduced_x[i][<span class="number">0</span>])</span><br><span class="line">        blue_y.append(reduced_x[i][<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        green_x.append(reduced_x[i][<span class="number">0</span>])</span><br><span class="line">        green_y.append(reduced_x[i][<span class="number">1</span>])</span><br><span class="line">plt.scatter(red_x,red_y,c=<span class="string">&#x27;r&#x27;</span>,marker=<span class="string">&#x27;X&#x27;</span>)</span><br><span class="line">plt.scatter(blue_x,blue_y,c=<span class="string">&#x27;b&#x27;</span>,marker=<span class="string">&#x27;D&#x27;</span>)</span><br><span class="line">plt.scatter(green_x,green_y,c=<span class="string">&#x27;g&#x27;</span>,marker=<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><img src="/2022/10/08/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97/image-20221008212427831.png" alt="image-20221008212427831" style="zoom:50%;"><hr><p>2ï¸âƒ£ <strong>æ•°é‡å½’çº¦</strong></p><p>ç”¨è¾ƒå°ã€æ›¿ä»£çš„æ•°æ®è¡¨ç¤ºåŸå§‹æ•°æ®ã€‚</p><ul><li>å›å½’å’Œå¯¹æ•°çº¿æ€§æ¨¡å‹</li><li>ç›´æ–¹å›¾</li><li>ç§¯ç´¯</li><li>æŠ½æ ·</li><li>æ•°æ®ç«‹æ–¹ä½“èšç±»</li><li>æ•°æ®å‹ç¼©</li></ul><hr><h2 id="2-6-æ•°æ®å˜æ¢ä¸æ•°æ®ç¦»æ•£åŒ–">2.6  æ•°æ®å˜æ¢ä¸æ•°æ®ç¦»æ•£åŒ–</h2><p>æ•°æ®å˜æ¢æ˜¯ä¸€ç§å°†åŸå§‹æ•°æ®å˜åŒ–ä¸ºæ¯”è¾ƒåˆé€‚çš„æ•°æ®æ ¼å¼çš„æ–¹æ³•ï¼Œä»¥ä¾¿ä½œä¸ºæ•°æ®å¤„ç†å‰ç‰¹å®šæ•°æ®æŒ–æ˜ç®—æ³•çš„è¾“å…¥ã€‚</p><p>æ•°æ®ç¦»æ•£åŒ–åˆ™æ˜¯ä¸€ç§æ•°æ®å˜åŒ–çš„å½¢å¼ã€‚</p><h3 id="æ•°æ®å˜æ¢çš„ç­–ç•¥">æ•°æ®å˜æ¢çš„ç­–ç•¥</h3><p>1ï¸âƒ£ å…‰æ»‘</p><p>2ï¸âƒ£ å±æ€§æ„é€ </p><p>3ï¸âƒ£ èšé›†</p><p>4ï¸âƒ£è§„èŒƒåŒ–</p><p>5ï¸âƒ£ ç¦»æ•£åŒ–</p><blockquote><p>ç”¨äºå°†æ¦‚å¿µæ ‡ç­¾é€’å½’ç»„ç»‡æˆæ›´é«˜å±‚çš„æ¦‚å¿µï¼Œå½¢æˆæ•°å€¼å±æ€§çš„æ¦‚å¿µåˆ†å±‚ï¼Œä»¥ä¾¿ä¸åŒç”¨æˆ·éœ€è¦</p></blockquote><ul><li>åˆ†ç®±ç¦»æ•£åŒ–<ul><li>åŸºäºæŒ‡å®šçš„ç®±ä¸ªæ•°çš„è‡ªé¡¶å‘ä¸‹çš„åˆ†è£‚æŠ€æœ¯ï¼Œä¾‹å¦‚ä½¿ç”¨ç­‰å®½æˆ–ç­‰é¢‘åˆ†ç®±ï¼Œå†é€šè¿‡ç®±å‡å€¼æˆ–è€…ä¸­ä½æ•°æ›¿æ¢ç®±ä¸­çš„æ¯ä¸ªå€¼ï¼Œä½¿å¾—å±æ€§å€¼ç¦»æ•£åŒ–ã€‚</li></ul></li><li>ç›´æ–¹å›¾ç¦»æ•£åŒ–<ul><li>å¯ä»¥æŒ‰ç…§è§„å®šç”Ÿæˆç›´æ–¹å›¾ï¼Œå¹¶ä¸”é€’å½’è°ƒç”¨äº§ç”Ÿæ¦‚å¿µçº§</li></ul></li><li>èšç±»ã€å†³ç­–æ ‘ã€ç›¸å…³æ€§åˆ†æè¿›è¡Œç¦»æ•£åŒ–</li></ul><hr><h3 id="Pythonæ•°æ®å˜åŒ–ä¸ç¦»æ•£åŒ–">Pythonæ•°æ®å˜åŒ–ä¸ç¦»æ•£åŒ–</h3><p>1ï¸âƒ£ <strong>æ•°æ®è§„èŒƒåŒ–</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">a=[<span class="number">47</span>,<span class="number">83</span>,<span class="number">81</span>,<span class="number">18</span>,<span class="number">72</span>,<span class="number">41</span>]</span><br><span class="line">b=[<span class="number">56</span>,<span class="number">96</span>,<span class="number">84</span>,<span class="number">21</span>,<span class="number">87</span>,<span class="number">67</span>]</span><br><span class="line"></span><br><span class="line">data=np.array([a,b]).T</span><br><span class="line">df=pd.DataFrame(data,columns=[<span class="string">&quot;A&quot;</span>,<span class="string">&quot;B&quot;</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ç¦»å·®æ ‡å‡†åŒ–: &quot;</span>,(df-df.<span class="built_in">min</span>())/(df.<span class="built_in">max</span>()-df.<span class="built_in">min</span>()))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æ ‡å‡†å·®æ ‡å‡†åŒ–: &quot;</span>,(df-df.mean())/df.std())</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">ç¦»å·®æ ‡å‡†åŒ–:            A         B</span><br><span class="line"><span class="number">0</span>  <span class="number">0.446154</span>  <span class="number">0.466667</span></span><br><span class="line"><span class="number">1</span>  <span class="number">1.000000</span>  <span class="number">1.000000</span></span><br><span class="line"><span class="number">2</span>  <span class="number">0.969231</span>  <span class="number">0.840000</span></span><br><span class="line"><span class="number">3</span>  <span class="number">0.000000</span>  <span class="number">0.000000</span></span><br><span class="line"><span class="number">4</span>  <span class="number">0.830769</span>  <span class="number">0.880000</span></span><br><span class="line"><span class="number">5</span>  <span class="number">0.353846</span>  <span class="number">0.613333</span></span><br><span class="line"></span><br><span class="line">æ ‡å‡†å·®æ ‡å‡†åŒ–:            A         B</span><br><span class="line"><span class="number">0</span> -<span class="number">0.386103</span> -<span class="number">0.456223</span></span><br><span class="line"><span class="number">1</span>  <span class="number">1.003868</span>  <span class="number">1.003690</span></span><br><span class="line"><span class="number">2</span>  <span class="number">0.926648</span>  <span class="number">0.565716</span></span><br><span class="line"><span class="number">3</span> -<span class="number">1.505803</span> -<span class="number">1.733646</span></span><br><span class="line"><span class="number">4</span>  <span class="number">0.579155</span>  <span class="number">0.675209</span></span><br><span class="line"><span class="number">5</span> -<span class="number">0.617765</span> -<span class="number">0.054747</span></span><br></pre></td></tr></table></figure><hr><p>2ï¸âƒ£ <strong>å“‘å˜é‡å¤„ç†</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.get_dummies(df)</span><br></pre></td></tr></table></figure><p>3ï¸âƒ£ <strong>è¿ç»­å˜é‡çš„ç¦»æ•£åŒ–</strong></p><p><strong>ç­‰å®½æ³•</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.cut(x,bins,right=<span class="literal">True</span>,labels=<span class="literal">None</span>,retbins=<span class="literal">False</span>,precision=<span class="number">3</span>)</span><br></pre></td></tr></table></figure><p><strong>ä¸¾ä¸ªæ —å­</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">666</span>)</span><br><span class="line">score_list=np.random.randint(<span class="number">25</span>,<span class="number">100</span>,size=<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;åŸå§‹æ•°æ®&quot;</span>,score_list)</span><br><span class="line">bins=[<span class="number">0</span>,<span class="number">59</span>,<span class="number">70</span>,<span class="number">80</span>,<span class="number">100</span>]</span><br><span class="line">score_cut=pd.cut(score_list,bins)</span><br><span class="line"><span class="built_in">print</span>(pd.value_counts(score_cut))</span><br><span class="line">c=pd.get_dummies(score_cut)</span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">åŸå§‹æ•°æ® [<span class="number">27</span> <span class="number">70</span> <span class="number">55</span> <span class="number">87</span> <span class="number">95</span> <span class="number">98</span> <span class="number">55</span> <span class="number">61</span> <span class="number">86</span> <span class="number">76</span>]</span><br><span class="line">(<span class="number">80</span>, <span class="number">100</span>]    <span class="number">4</span></span><br><span class="line">(<span class="number">0</span>, <span class="number">59</span>]      <span class="number">3</span></span><br><span class="line">(<span class="number">59</span>, <span class="number">70</span>]     <span class="number">2</span></span><br><span class="line">(<span class="number">70</span>, <span class="number">80</span>]     <span class="number">1</span></span><br><span class="line">dtype: int64</span><br><span class="line">   (<span class="number">0</span>, <span class="number">59</span>]  (<span class="number">59</span>, <span class="number">70</span>]  (<span class="number">70</span>, <span class="number">80</span>]  (<span class="number">80</span>, <span class="number">100</span>]</span><br><span class="line"><span class="number">0</span>        <span class="number">1</span>         <span class="number">0</span>         <span class="number">0</span>          <span class="number">0</span></span><br><span class="line"><span class="number">1</span>        <span class="number">0</span>         <span class="number">1</span>         <span class="number">0</span>          <span class="number">0</span></span><br><span class="line"><span class="number">2</span>        <span class="number">1</span>         <span class="number">0</span>         <span class="number">0</span>          <span class="number">0</span></span><br><span class="line"><span class="number">3</span>        <span class="number">0</span>         <span class="number">0</span>         <span class="number">0</span>          <span class="number">1</span></span><br><span class="line"><span class="number">4</span>        <span class="number">0</span>         <span class="number">0</span>         <span class="number">0</span>          <span class="number">1</span></span><br><span class="line"><span class="number">5</span>        <span class="number">0</span>         <span class="number">0</span>         <span class="number">0</span>          <span class="number">1</span></span><br><span class="line"><span class="number">6</span>        <span class="number">1</span>         <span class="number">0</span>         <span class="number">0</span>          <span class="number">0</span></span><br><span class="line"><span class="number">7</span>        <span class="number">0</span>         <span class="number">1</span>         <span class="number">0</span>          <span class="number">0</span></span><br><span class="line"><span class="number">8</span>        <span class="number">0</span>         <span class="number">0</span>         <span class="number">0</span>          <span class="number">1</span></span><br><span class="line"><span class="number">9</span>        <span class="number">0</span>         <span class="number">0</span>         <span class="number">1</span>          <span class="number">0</span></span><br></pre></td></tr></table></figure><p><strong>ç­‰é¢‘æ³•</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">SameRateCut</span>(<span class="params">data,k=<span class="number">2</span></span>):</span><br><span class="line">    w=data.quantile(np.arange(<span class="number">0</span>,<span class="number">1</span>+<span class="number">1.0</span>/k,<span class="number">1.0</span>/k))</span><br><span class="line">    data=pd.cut(data.w)</span><br><span class="line">    <span class="keyword">return</span> data</span><br></pre></td></tr></table></figure><p>ç®€å•ä»‹ç»ä¸€ä¸‹è¿™ä¸ªæ–¹æ³•å•Šï¼Œ<code>quantile</code>è¡¨ç¤ºè¿”å›æŒ‡å®šä½ç½®<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>q</mi></mrow><annotation encoding="application/x-tex">q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">q</span></span></span></span>çš„ç™¾åˆ†ä½æ•°ï¼Œé€šè¿‡è¿™ä¸ªæ–¹æ³•ç”Ÿæˆç­‰é¢‘ç‡ã€‚</p><hr><p><strong>èšç±»åˆ†ææ³•</strong></p><p>ç®€å•æ¥è¯´ï¼Œæœ‰ä¸¤æ­¥ï¼š</p><ul><li>å°†è¿ç»­æ€§æ•°æ®ç”¨èšç±»ç®—æ³•è¿›è¡Œèšç±»ï¼Œå¤„ç†èšç±»å¾—åˆ°çš„ç°‡</li><li>ä¸ºåˆå¹¶åˆ°ä¸€ä¸ªç°‡çš„è¿ç»­æ€§æ•°æ®åšç»Ÿä¸€æ ‡è®°</li></ul><hr><h2 id="2-7-åŸºäºscikit-learnè¿›è¡Œæ•°æ®é¢„å¤„ç†">2.7  åŸºäºscikit-learnè¿›è¡Œæ•°æ®é¢„å¤„ç†</h2><p>1ï¸âƒ£ <strong>æ•°æ®æ ‡å‡†åŒ–ä¸ç¼©æ”¾</strong></p><p>è¿™è¾¹æœ‰ä¸€ä¸ªapi</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sklearn.preprocessing.scale(X,axis=<span class="number">0</span>,with_mean=<span class="literal">True</span>,with_std=<span class="literal">True</span>,copy=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><p>å®é™…ä½œç”¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sklearn.preprocessing <span class="keyword">as</span> pre</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x_train=np.array([[<span class="number">1.</span>,-<span class="number">2.</span>,<span class="number">1.5</span>],[<span class="number">2.2</span>,<span class="number">1.3</span>,<span class="number">0.5</span>],[<span class="number">0.3</span>,<span class="number">1.</span>,-<span class="number">1.5</span>]])</span><br><span class="line">x_scaled=pre.scale(x_train)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;å‡å€¼: &quot;</span>,x_scaled.mean(axis=<span class="number">0</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æ ‡å‡†å·®: &quot;</span>,x_scaled.std(axis=<span class="number">0</span>))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å‡å€¼:  [<span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span>]</span><br><span class="line">æ ‡å‡†å·®:  [<span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span>]</span><br></pre></td></tr></table></figure><p>æ­¤å¤–ï¼Œpreæ¨¡å—è¿˜æä¾›äº†ä¸€ä¸ªå®ç”¨ç¨‹åºç±»<code>StandardScaler</code>ï¼Œå¯ä»¥è®°å½•è®­ç»ƒæ—¶çš„å‚æ•°ï¼Œä»¥ä¾¿è¿›è¡Œç›¸åŒçš„è½¬æ¢ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scale=pre.StandardScaler().fit(x_train)</span><br><span class="line">scale.transform(x_test)</span><br></pre></td></tr></table></figure><p>2ï¸âƒ£ <strong>ç‰¹å¾ç¼©æ”¾</strong></p><p>è¿™é‡Œä»‹ç»ä¸‰ä¸ªAPI</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pre.MinMaxScaler() <span class="comment"># èŒƒå›´ä¸º[0,1]</span></span><br><span class="line">pre.MaxAbsScaler() <span class="comment"># èŒƒå›´ä¸º[-1,1]</span></span><br><span class="line">pre.RobustScaler() <span class="comment"># é€‚ç”¨äºå¼‚å¸¸å€¼è¾ƒå¤š</span></span><br></pre></td></tr></table></figure><p>3ï¸âƒ£ <strong>éçº¿æ€§å˜æ¢</strong></p><p>éçº¿æ€§å˜æ¢åˆ†ä¸ºåˆ†ä½æ•°å˜æ¢å’Œå¹‚å˜æ¢ã€‚äºŒè€…éƒ½èƒ½ä¿è¯æ¯ä¸ªç‰¹å¾å€¼çš„ç§©ã€‚åˆ†ä½æ•°å˜æ¢å°†æ‰€æœ‰ç‰¹å¾ç½®äºç›¸åŒçš„æœŸæœ›åˆ†å¸ƒä¸­ï¼Œè€Œå¹‚å˜æ¢åˆ™æ˜¯å°†æ•°æ®ä»ä»»æ„åˆ†å¸ƒæ˜ å°„åˆ°æ¥è¿‘é«˜æ–¯åˆ†å¸ƒçš„ä½ç½®ã€‚</p><blockquote><p>æ˜ å°„åˆ°[0,1]å‡åŒ€åˆ†å¸ƒ</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_iris</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> preprocessing</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">X,y=load_iris(return_X_y=<span class="literal">True</span>)</span><br><span class="line">X_train,X_test,Y_train,Y_test=train_test_split(X,y,random_state=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ†ä½æ•°å˜æ¢</span></span><br><span class="line">quantile_transformer=preprocessing.QuantileTransformer(random_state=<span class="number">0</span>)</span><br><span class="line">X_train_trans=quantile_transformer.fit(X_train)</span><br><span class="line">X_test_trans=quantile_transformer.transform(X_test)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥çœ‹åˆ†å¸ƒ</span></span><br><span class="line">fig,ax=plt.subplots(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">ax[<span class="number">0</span>].hist(X_test_trans)</span><br><span class="line">ax[<span class="number">1</span>].hist(X_train)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><img src="/2022/10/08/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97/image-20221009121559481.png" alt="image-20221009121559481" style="zoom:50%;"><blockquote><p>æ˜ å°„åˆ°é«˜æ–¯åˆ†å¸ƒ</p></blockquote><p>é«˜æ–¯åˆ†å¸ƒå…·æœ‰ç¨³å®šçš„æ–¹å·®å’Œæœ€å°åŒ–ååº¦ï¼Œ<code>PowerTransformer</code>æä¾›äº†ä¸¤ç§å¹‚å˜æ¢ï¼š<code>Yeo-Johnson</code>å’Œ<code>Box-Cox</code>å˜æ¢ï¼Œ<code>Box-Cox</code>ä»…å¯ç”¨äºä¸¥æ ¼çš„æ”¿æ•°å±€ï¼Œè¿™ä¸¤ç§å˜æ¢å‡é€šè¿‡<code>lambda</code>è¿›è¡Œå‚æ•°åŒ–ï¼Œé€šè¿‡æœ€å¤§ä¼¼ç„¶è¿›è¡Œä¼°è®¡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pt=preprocessing.PowerTransformer(method=<span class="string">&#x27;box-cox&#x27;</span>,standardize=<span class="literal">False</span>)</span><br><span class="line">X_lognormal=np.random.RandomState(<span class="number">616</span>).lognormal(size=(<span class="number">300</span>,<span class="number">30</span>))</span><br><span class="line">fig,ax=plt.subplots(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">ax[<span class="number">0</span>].hist(X_lognormal)</span><br><span class="line"></span><br><span class="line">T=pt.fit_transform(X_lognormal)</span><br><span class="line">ax[<span class="number">1</span>].hist(T)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><img src="/2022/10/08/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97/image-20221009122141808.png" alt="image-20221009122141808" style="zoom:50%;"><blockquote><p>æ˜ å°„åˆ°æ­£æ€åˆ†å¸ƒ</p></blockquote><p>è¿™é‡Œæˆ‘ä»¬è°ƒç”¨<code>QuantileTransformer(output_distribution=&quot;normal&quot;)</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pt=preprocessing.QuantileTransformer(output_distribution=<span class="string">&quot;normal&quot;</span>)</span><br><span class="line">X_lognormal=np.random.RandomState(<span class="number">616</span>).lognormal(size=(<span class="number">300</span>,<span class="number">30</span>))</span><br><span class="line">fig,ax=plt.subplots(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">ax[<span class="number">0</span>].hist(X_lognormal)</span><br><span class="line"></span><br><span class="line">T=pt.fit_transform(X_lognormal)</span><br><span class="line">ax[<span class="number">1</span>].hist(T)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><img src="/2022/10/08/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97/image-20221009122317710.png" alt="image-20221009122317710" style="zoom:50%;"><hr><p>4ï¸âƒ£ <strong>æ­£åˆ™åŒ–</strong></p><p>æ­£åˆ™åŒ–æ˜¯å°†å•ä¸ªæ ·æœ¬ç¼©æ”¾åˆ°å•ä½èŒƒæ•°ä¸­(æ¯ä¸ªæ ·æœ¬èŒƒæ•°ä¸º1)ï¼Œå¦‚æœè®¡åˆ’ä½¿ç”¨ç‚¹ç§¯æˆ–è€…å…¶ä»–æ ¸çš„äºŒæ¬¡å½¢å¼é‡åŒ–ä»»æ„ä¸€å †æ ·æœ¬çš„ç›¸ä¼¼æ€§ï¼Œæ­¤è¿‡ç¨‹å¯èƒ½ä¼šå¾ˆæœ‰ç”¨ã€‚é€šå¸¸ä½¿ç”¨äºæ–‡æœ¬åˆ†ç±»å’Œèšç±»ä¸­ã€‚</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>m</mi><mi>a</mi><mi>k</mi><mi>e</mi><mtext>Â </mtext><mi mathvariant="normal">âˆ£</mi><mi mathvariant="normal">âˆ£</mi><mi>a</mi><mi mathvariant="normal">âˆ£</mi><mi mathvariant="normal">âˆ£</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">make\ ||a||=1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">mak</span><span class="mord mathnormal">e</span><span class="mspace">Â </span><span class="mord">âˆ£âˆ£</span><span class="mord mathnormal">a</span><span class="mord">âˆ£âˆ£</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x=[[<span class="number">1.</span>,-<span class="number">1.</span>,<span class="number">2.</span>],[<span class="number">2.</span>,<span class="number">0.</span>,<span class="number">0.</span>],[<span class="number">0.</span>,<span class="number">1.</span>,-<span class="number">1.</span>]]</span><br><span class="line"><span class="comment"># l2æ­£åˆ™åŒ–</span></span><br><span class="line">x_nor=preprocessing.normalize(x,norm=<span class="string">&quot;l2&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(x_nor)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[[ <span class="number">0.40824829</span> -<span class="number">0.40824829</span>  <span class="number">0.81649658</span>]</span><br><span class="line"> [ <span class="number">1.</span>          <span class="number">0.</span>          <span class="number">0.</span>        ]</span><br><span class="line"> [ <span class="number">0.</span>          <span class="number">0.70710678</span> -<span class="number">0.70710678</span>]]</span><br></pre></td></tr></table></figure><p>åŒæ ·ä¹Ÿæœ‰ä¸€ä¸ª<code>Normalizer</code>ç±»ï¼Œå¯ä»¥é€šè¿‡<code>Transformer</code>APIå®ç°ç›¸åŒæ“ä½œã€‚</p><hr><p>5ï¸âƒ£ <strong>ç¼–ç åˆ†ç±»ç‰¹å¾</strong></p><p>å¦‚æœè¦æŠŠå®šæ€§æ•°æ®è½¬åŒ–ä¸ºæ•´æ•°ï¼Œå¯ä»¥ä½¿ç”¨<code>OrdinalEncoder</code>ï¼Œè¯¥ä¼°è®¡å…¶å¯ä»¥å°†æ¯ä¸ªèŒƒç•´ç‰¹å¾è½¬æ¢ä¸ºæ•´æ•°çš„ä¸€ä¸ªæ–°ç‰¹å¾ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">enc=preprocessing.OrdinalEncoder()</span><br><span class="line">x=[[<span class="string">&#x27;m&#x27;</span>,<span class="string">&#x27;g&#x27;</span>,<span class="string">&#x27;17&#x27;</span>],[<span class="string">&#x27;fm&#x27;</span>,<span class="string">&#x27;r&#x27;</span>,<span class="string">&#x27;22&#x27;</span>]]</span><br><span class="line">enc.fit(x)</span><br><span class="line"><span class="built_in">print</span>(enc.transform([[<span class="string">&#x27;fm&#x27;</span>,<span class="string">&#x27;r&#x27;</span>,<span class="string">&#x27;17&#x27;</span>]]))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span>]]</span><br></pre></td></tr></table></figure><p>é™¤æ­¤ä¹‹å¤–ï¼Œæœ‰ä¸ªå‡çº§ç‰ˆçš„<code>OneHotEncoder</code>ï¼Œè¿™ç©æ„å¯ä»¥å°†<code>n_categories</code>è½¬åŒ–ä¸ºä¸€ä¸ªäºŒè¿›åˆ¶ç¼–ç ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">enc=preprocessing.OneHotEncoder()</span><br><span class="line">x=[[<span class="string">&#x27;m&#x27;</span>,<span class="string">&#x27;g&#x27;</span>,<span class="string">&#x27;17&#x27;</span>],[<span class="string">&#x27;fm&#x27;</span>,<span class="string">&#x27;r&#x27;</span>,<span class="string">&#x27;22&#x27;</span>]]</span><br><span class="line">enc.fit(x)</span><br><span class="line"><span class="built_in">print</span>(enc.transform([[<span class="string">&#x27;fm&#x27;</span>,<span class="string">&#x27;r&#x27;</span>,<span class="string">&#x27;17&#x27;</span>],[<span class="string">&#x27;m&#x27;</span>,<span class="string">&#x27;g&#x27;</span>,<span class="string">&#x27;22&#x27;</span>]]).toarray())</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">1.</span> <span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span>]]</span><br></pre></td></tr></table></figure><hr><p>6ï¸âƒ£ <strong>ç¦»æ•£åŒ–</strong></p><p>ç¦»æ•£åŒ–é¢„å¤„ç†å¯ä»¥å°†éçº¿æ€§ç‰¹å¾å¼•å…¥çº¿æ€§æ¨¡å‹ä¸­ã€‚</p><blockquote><p>Kæ¡¶ç¦»æ•£åŒ–</p></blockquote><p><code>KBinsDiscretizer</code>å°†ç‰¹å¾ç¦»æ•£åˆ°<code>K</code>ä¸ªæ¡¶ä¸­</p><p><strong>ä»‹ç»</strong></p><p>åˆ†æ¡¶æ˜¯ç¦»æ•£åŒ–çš„å¸¸ç”¨æ–¹æ³•ï¼Œå°†è¿ç»­å‹ç‰¹å¾ç¦»çº¿åŒ–ä¸ºä¸€ç³»åˆ—0/1çš„ç¦»æ•£ç‰¹å¾ã€‚</p><p>å½“æ•°å€¼ç‰¹å¾è·¨è¶Šä¸åŒçš„æ•°é‡çº§çš„æ—¶å€™ï¼Œæ¨¡å‹å¯èƒ½åªä¼šå¯¹å¤§çš„ç‰¹å¾å€¼æ•æ„Ÿï¼Œè¿™ç§æƒ…å†µå°±å¯ä»¥è€ƒè™‘åˆ†æ¡¶æ“ä½œã€‚</p><p>åˆ†æ¡¶æ“ä½œå¯ä»¥çœ‹ä½œæ˜¯å¯¹æ•°å€¼å˜é‡çš„ç¦»æ•£åŒ–ï¼Œç„¶åé€šè¿‡äºŒå€¼åŒ–è¿›è¡Œ one hot ç¼–ç ã€‚</p><p><strong>ä¼˜ç‚¹</strong></p><p>1ï¸âƒ£åˆ†æ¡¶åå¾—åˆ°çš„ç¨€ç–å‘é‡ï¼Œå†…ç§¯ä¹˜æ³•è¿ç®—é€Ÿåº¦æ›´å¿«ï¼Œè®¡ç®—ç»“æœæ›´æ–¹ä¾¿å­˜å‚¨ã€‚</p><p>2ï¸âƒ£å¯¹å¼‚å¸¸æ•°æ®æœ‰å¾ˆå¼ºçš„é²æ£’æ€§ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">X = np.array([[-<span class="number">3.</span>,<span class="number">5.</span>,<span class="number">15</span>],[<span class="number">0.</span>,<span class="number">6.</span>,<span class="number">14</span>],[<span class="number">6.</span>,<span class="number">3.</span>,<span class="number">11</span>]])</span><br><span class="line">est = preprocessing.KBinsDiscretizer(n_bins=[<span class="number">3</span>,<span class="number">2</span>,<span class="number">2</span>],encode=<span class="string">&#x27;ordinal&#x27;</span>).fit(X)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(est.transform(X))</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="number">0.</span> <span class="number">1.</span> <span class="number">1.</span>]</span><br><span class="line"> [<span class="number">1.</span> <span class="number">1.</span> <span class="number">1.</span>]</span><br><span class="line"> [<span class="number">2.</span> <span class="number">0.</span> <span class="number">0.</span>]]</span><br></pre></td></tr></table></figure><blockquote><p>ç‰¹å¾äºŒå€¼åŒ–</p></blockquote><p>ç‰¹å¾äºŒå€¼åŒ–æ˜¯å¯¹æ•°å­—ç‰¹å¾è¿›è¡Œäºé˜ˆå€¼åŒ–ä»¥è·å¾—å¸ƒå°”å€¼çš„è¿‡ç¨‹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">X = [[<span class="number">1.</span>,-<span class="number">1.</span>,<span class="number">2.</span>],[<span class="number">2.</span>,<span class="number">0.</span>,<span class="number">0.</span>],[<span class="number">0.</span>,<span class="number">1.</span>,-<span class="number">1.</span>]]</span><br><span class="line">binarizer = preprocessing.Binarizer().fit(X)</span><br><span class="line">Y1 = binarizer.transform(X)</span><br><span class="line"><span class="built_in">print</span>(Y1)</span><br><span class="line">binarizer = preprocessing.Binarizer(threshold=<span class="number">1.1</span>)</span><br><span class="line">Y2 = binarizer.transform(X)</span><br><span class="line"><span class="built_in">print</span>(Y2)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="number">1.</span> <span class="number">0.</span> <span class="number">1.</span>]</span><br><span class="line"> [<span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">1.</span> <span class="number">0.</span>]]</span><br><span class="line">[[<span class="number">0.</span> <span class="number">0.</span> <span class="number">1.</span>]</span><br><span class="line"> [<span class="number">1.</span> <span class="number">0.</span> <span class="number">0.</span>]</span><br><span class="line"> [<span class="number">0.</span> <span class="number">0.</span> <span class="number">0.</span>]]</span><br></pre></td></tr></table></figure><hr><p>æœ€åï¼Œé™„ä¸Šä¸€ä¸ªå¤§ä½¬å¯¹æ•°æ®ç¦»æ•£åŒ–çš„<a href="https://zhuanlan.zhihu.com/p/442837780">æ€»ç»“</a></p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">None</summary>
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="æ•°æ®åˆ†æ" scheme="http://example.com/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>ã€æ•°æ®åˆ†æã€‘Chapter 1. è®¤è¯†æ•°æ®</title>
    <link href="http://example.com/2022/10/06/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91%E8%AE%A4%E8%AF%86%E6%95%B0%E6%8D%AE/"/>
    <id>http://example.com/2022/10/06/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91%E8%AE%A4%E8%AF%86%E6%95%B0%E6%8D%AE/</id>
    <published>2022-10-06T12:57:54.670Z</published>
    <updated>2022-10-08T03:51:32.907Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>æ•°æ®é›†ç”±<strong>æ•°æ®å¯¹è±¡</strong>ç»„æˆï¼Œæ¯ä¸ªæ•°æ®å¯¹è±¡éƒ½ä»£è¡¨ä¸€ä¸ª<strong>å¯¹è±¡</strong>æˆ–è€…ä¸€ä¸ªå®ä½“ã€‚</p><p>ä¾‹å¦‚åœ¨ä¸€å¼ å­¦ç”Ÿåå•ä¸­ï¼Œæ¯ä¸ªè®°å½•å°±è¡¨ç¤ºç€ä¸€ä¸ªå­¦ç”Ÿå®ä½“ã€‚</p></blockquote><hr><h2 id="ä¸€ã€å±æ€§">ä¸€ã€å±æ€§</h2><h3 id="1-1-ä»€ä¹ˆæ˜¯å±æ€§">1.1  ä»€ä¹ˆæ˜¯å±æ€§</h3><p>è¯´ç™½äº†ï¼Œå±æ€§å°±æ˜¯ä¸€ä¸ªèƒ½å¤Ÿ<strong>è¡¨å¾å¯¹è±¡</strong>çš„ä¸œè¥¿ï¼Œå®ƒåæ˜ äº†å¯¹è±¡çš„æ€§è´¨ï¼Œæˆ–è€…è¯´ç‰¹å¾ã€‚å±æ€§ï¼Œä¹Ÿå¯ä»¥ç§°ä½œç‰¹å¾(Feature)ï¼Œå­—æ®µ(Field)ï¼Œç»´åº¦(Dimension)ï¼Œå˜é‡(Variable)ã€‚</p><h3 id="1-2-å±æ€§çš„ç±»å‹">1.2  å±æ€§çš„ç±»å‹</h3><img src="/2022/10/06/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91%E8%AE%A4%E8%AF%86%E6%95%B0%E6%8D%AE/image-20221006211327075.png" alt="image-20221006211327075" style="zoom: 33%;"><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå±æ€§é€šè¿‡æ˜¯å¦å…·æœ‰<strong>å¯æ¯”æ€§</strong>ï¼Œå¯ä»¥åˆ†ä¸ºå®šæ€§å’Œå®šé‡å±æ€§ã€‚å®šæ€§å±æ€§åˆå¯ä»¥å¾€ä¸‹ç»†åˆ†ä¸ºå¯¹ç§°å±æ€§ï¼ŒäºŒå…ƒå±æ€§å’Œåºæ•°å±æ€§ï¼Œè€Œå®šé‡å±æ€§å¯å†åˆ†ä¸ºåŒºé—´æ ‡åº¦å±æ€§å’Œæ¯”ç‡æ ‡åº¦å±æ€§ã€‚</p><hr><h2 id="äºŒã€æ•°æ®çš„åŸºæœ¬ç»Ÿè®¡æè¿°">äºŒã€æ•°æ®çš„åŸºæœ¬ç»Ÿè®¡æè¿°</h2><blockquote><p>è¯„ä»·ä¸€ä¸ªæ•°æ®çš„å¥½åä¸€èˆ¬æ˜¯é€šè¿‡å…¶åˆ†å¸ƒå½¢æ€ï¼Œè€Œå¯¹å…¶åˆ†å¸ƒå½¢æ€è¿›è¡Œçš„æè¿°ä¸ä»…å¯ä»¥è®¤è¯†æ•°æ®ï¼Œåˆ¤æ–­å¥½åï¼Œæ›´èƒ½è¯†åˆ«å™ªå£°æˆ–æ˜¯ç¦»ç¾¤ç‚¹ã€‚</p><p>å¸¸è§çš„ç»Ÿè®¡æ€§æè¿°å¯ä»¥æ¦‚æ‹¬ä¸ºï¼šé›†ä¸­è¶‹åŠ¿ã€ç¦»æ•£è¶‹åŠ¿ã€ç›¸å¯¹ç¦»æ•£ç¨‹åº¦å’Œåˆ†å¸ƒå½¢æ€å››ä¸ªç»´åº¦ã€‚</p></blockquote><h3 id="2-1-ä¸­å¿ƒè¶‹åŠ¿åº¦">2.1  ä¸­å¿ƒè¶‹åŠ¿åº¦</h3><p>æŒ‡çš„æ˜¯ä¸€ç»„æ•°æ®å‘æŸä¸€ä¸­å¿ƒå€¼é æ‹¢çš„ç¨‹åº¦ï¼Œåæ˜ äº†ä¸€ç»„æ•°æ®çš„ä¸­å¿ƒç‚¹æ‰€åœ¨ã€‚</p><p>1ï¸âƒ£ <strong>å‡å€¼</strong></p><p>æœ€å¸¸è§çš„ç»Ÿè®¡é‡ï¼Œå¯ä»¥è¡¨å¾æ•°æ®çš„æ€»ä½“æ°´å¹³ã€‚ä½†å‡å€¼å¯¹äºå™ªå£°æ¯”è¾ƒæ•æ„Ÿã€‚</p><p>2ï¸âƒ£ <strong>ä¸­ä½æ•°</strong></p><p>å…ˆæ’åºï¼Œå†æ‰¾ä¸­å¿ƒã€‚æ¯«æ— ç–‘é—®ï¼Œè¿™ä¸ªæ–¹æ³•çš„æ—¶é—´å¼€é”€è‡³å°‘æ˜¯<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>l</mi><mi>o</mi><msub><mi>g</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(nlog_n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">o</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>çº§åˆ«çš„ã€‚æ‰€ä»¥æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨è¿‘ä¼¼ä¼°è®¡çš„æ–¹å¼å»è®¡ç®—ã€‚</p><p>å‡å®šæ•°æ®å¯ä»¥é€šè¿‡æ•°å€¼åˆ’åˆ†ä¸ºåŒºé—´ï¼Œä¸”çŸ¥é“æ¯ä¸ªåŒºé—´çš„ä¸ªæ•°ã€‚äºæ˜¯ï¼Œä¸­ä½æ•°å¯ç”¨ä»¥ä¸‹çš„å…¬å¼è¡¨ç¤ºã€‚</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>m</mi><mi>e</mi><mi>d</mi><mi>i</mi><mi>a</mi><mi>n</mi><mo>=</mo><msub><mi>L</mi><mn>1</mn></msub><mo>+</mo><mrow><mo fence="true">[</mo><mfrac><mrow><mfrac><mi>N</mi><mn>2</mn></mfrac><mo>âˆ’</mo><mo stretchy="false">(</mo><mo>âˆ‘</mo><mi>f</mi><msub><mo stretchy="false">)</mo><mi>l</mi></msub></mrow><msub><mi>f</mi><mrow><mi>m</mi><mi>e</mi><mi>d</mi><mi>i</mi><mi>a</mi><mi>n</mi></mrow></msub></mfrac><mo fence="true">]</mo></mrow><mi>w</mi><mi>i</mi><mi>d</mi><mi>t</mi><mi>h</mi></mrow><annotation encoding="application/x-tex">median=L_1+\left [\frac{\frac{N}{2}-(\sum f)_l}{f_{median}}\right ]width</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">m</span><span class="mord mathnormal">e</span><span class="mord mathnormal">d</span><span class="mord mathnormal">ian</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">[</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6073em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight">ian</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.735em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8723em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em;">N</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em;">l</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size4">]</span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">i</span><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span></span></span></span></span></p><p>3ï¸âƒ£ <strong>ä¼—æ•°</strong></p><p>ä¼—æ•°æ˜¯ä¸€ç»„æ•°æ®ä¸­å‡ºç°æœ€å¤šçš„æ•°å€¼ï¼Œæœ‰å¤šå°‘ä¸ªä¼—æ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç§°æ•°æ®é›†ä¸ºå¤šå°‘å³°ï¼Œä¾‹å¦‚ä¸€ä¸ªä¼—æ•°ï¼šå•å³°ï¼Œä¸¤ä¸ªï¼šåŒå³°ã€‚</p><p>4ï¸âƒ£ <strong>ä¸­åˆ—æ•°</strong></p><p>Midrangeï¼Œè¡¨ç¤ºæœ€å¤§å€¼å’Œæœ€å°å€¼çš„å‡å€¼ã€‚ä¹Ÿå¯ä»¥åº¦é‡ä¸­å¿ƒè¶‹åŠ¿å“¦ã€‚ä¸è¿‡ä¸å…¶è¯´åº¦é‡ä¸­å¿ƒï¼Œå€’ä¸å¦‚è¯´æ˜¯æ•°æ®èŒƒå›´çš„ä¸­å¿ƒï¼Œæ­£å¦‚<code>mid</code>å’Œ<code>range</code>çš„æ„æ€ä¸€èˆ¬ã€‚</p><hr><h3 id="2-2-æ•£å¸ƒ-ç¦»ä¸­-åº¦é‡">2.2  æ•£å¸ƒ(ç¦»ä¸­)åº¦é‡</h3><p>ç”¨äºè¯„ä¼°æ•°æ®çš„æ•£å¸ƒæˆ–å‘æ•£ç¨‹åº¦ã€‚</p><p><strong>1ï¸âƒ£ æå·®ã€å››åˆ†ä½æ•°å’Œå››åˆ†ä½æ•°æå·®</strong></p><p>æå·®(Range)ä¹Ÿç§°èŒƒå›´è¯¯å·®æˆ–è€…å…¨è·ï¼ŒæŒ‡çš„æ˜¯æœ€å¤§å€¼å’Œæœ€å°å€¼çš„å·®è·ã€‚ä¹Ÿæ˜¯è¡¡é‡å˜åŠ¨æœ€ç®€å•çš„æŒ‡æ ‡ã€‚</p><p>å››åˆ†ä½æ•°ï¼šå°†æ•°æ®ä»å¤§åˆ°å°æ’åºåï¼Œç”¨ä¸‰ä¸ªç‚¹(25,50,75)å°†æ•°æ®åˆ†ä¸ºä¸‰ç­‰åˆ†ï¼Œè¿™ä¸‰ä¸ªç‚¹ä¸Šå¯¹åº”çš„ä½ç½®å°±æ˜¯å››åˆ†ä½æ•°ã€‚ä¾‹å¦‚<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>Q</mi><mn>2</mn></msub><mo separator="true">,</mo><msub><mi>Q</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">Q_1,Q_2,Q_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>è¡¨ç¤ºç¬¬ä¸€å››åˆ†ä½æ•°ï¼Œç¬¬äºŒå››åˆ†ä½æ•°ï¼Œç¬¬ä¸‰å››åˆ†ä½æ•°ã€‚ï¼ˆå››å¤§å¤©ç‹æœ‰ä¸‰ä¸ªå¾ˆå¥‡æ€ªå—ğŸ•ï¼‰</p><p>åˆ†åŠå››åˆ†ä½å·®ï¼šå³<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><msub><mi>Q</mi><mn>3</mn></msub><mo>âˆ’</mo><msub><mi>Q</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">(Q_3-Q_1)/2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">/2</span></span></span></span></p><p>å››åˆ†ä½æ•°æå·®(IQR)ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mn>3</mn></msub><mo>âˆ’</mo><msub><mi>Q</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">Q_3-Q_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>ï¼Œå®ƒç»™å‡ºäº†æ•°æ®ä¸­é—´ä¸€åŠçš„éƒ¨åˆ†ã€‚</p><p><strong>2ï¸âƒ£ äº”æ•°æ¦‚æ‹¬ã€ç›’å›¾å’Œç¦»ç¾¤ç‚¹</strong></p><p>å“ªäº”ä¸ªæ•°ï¼Ÿ</p><ul><li>min</li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">Q_1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">Q_2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></li><li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>Q</mi><mn>3</mn></msub></mrow><annotation encoding="application/x-tex">Q_3</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span></li><li>max</li></ul><p>ç›’å›¾åˆç§°ç®±çº¿å›¾ï¼Œç›’é¡»å›¾ï¼Œä½“ç°äº†äº”æ•°æ¦‚æ‹¬ã€‚åˆ©ç”¨å››åˆ†ä½æ•°é—´è·<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mi>Q</mi><mi>R</mi></mrow><annotation encoding="application/x-tex">IQR</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.00773em;">QR</span></span></span></span>ï¼Œæˆ‘ä»¬å¯ä»¥åˆ¤æ–­ç•Œé™ï¼Œæ‰¾å‡ºå¼‚å¸¸å€¼ã€‚é€šå¸¸è®¾å®š1.5å€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi><mi>Q</mi><mi>R</mi></mrow><annotation encoding="application/x-tex">IQR</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.00773em;">QR</span></span></span></span>å¤–çš„ä¸ºå¼‚å¸¸å€¼ã€‚æ‰€ä»¥è¾¹ç•Œä¸ºï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>I</mi><mi>Q</mi><msub><mi>R</mi><mtext>å·¦</mtext></msub><mo>=</mo><msub><mi>Q</mi><mn>1</mn></msub><mo>âˆ’</mo><mn>1.5</mn><mo>Ã—</mo><mi>I</mi><mi>Q</mi><mi>R</mi><mspace linebreak="newline"></mspace><mi>I</mi><mi>Q</mi><msub><mi>R</mi><mtext>å³</mtext></msub><mo>=</mo><msub><mi>Q</mi><mn>3</mn></msub><mo>+</mo><mn>1.5</mn><mo>Ã—</mo><mi>I</mi><mi>Q</mi><mi>R</mi></mrow><annotation encoding="application/x-tex">IQR_{å·¦}=Q_1-1.5\times IQR\\IQR_å³=Q_3+1.5\times IQR</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">Q</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord cjk_fallback mtight">å·¦</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1.5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.00773em;">QR</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal">Q</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em;"><span style="top:-2.55em;margin-left:-0.0077em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord cjk_fallback mtight">å³</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">1.5</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.07847em;">I</span><span class="mord mathnormal" style="margin-right:0.00773em;">QR</span></span></span></span></span></p><hr><h2 id="ä¸‰ã€æ•°æ®å¯è§†åŒ–">ä¸‰ã€æ•°æ®å¯è§†åŒ–</h2><blockquote><p>ä¸€ä¸ªå¥½çš„æ•°æ®åˆ†æï¼Œåº”å½“æ˜¯è¦åšåˆ°ç®€å•æ˜“æ‡‚çš„ï¼Œå¤æ‚çš„äº‹æƒ…äº¤ç»™æœºå™¨å»åšå§~</p></blockquote><p>é€šè¿‡å›¾å½¢æ¸…æ™°æœ‰æ•ˆåœ°è¡¨è¾¾æ•°æ®ç§°ä¸ºæ•°æ®å¯è§†åŒ–ï¼Œä»–å°†æ•°æ®æ‰€åŒ…å«çš„ä¿¡æ¯çš„ç»¼åˆä½“ï¼ŒåŒ…æ‹¬å±æ€§å’Œå˜é‡ï¼ŒæŠ½è±¡åŒ–ä¸ºä¸€äº›å›¾è¡¨å½¢å¼ã€‚</p><p>è¿™éƒ¨åˆ†çš„è¯æš‚æ—¶ä¸æ‰“ç®—å±•å¼€æ¥è®²äº†ï¼Œæˆ‘å¯èƒ½ä¼šæ–°å¼€ä¸€ç« ä¸“é—¨ä»‹ç»<code>matplotlib+sns+pyecharts</code>(æ’é¢)ã€‚</p><p>è¿™é‡Œç®€å•è´´ä¸€ä¸ªå°å°çš„æ•£ç‚¹å›¾ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">n=<span class="number">50</span></span><br><span class="line">x=np.random.rand(n)*<span class="number">2</span></span><br><span class="line">y=np.random.rand(n)*<span class="number">2</span></span><br><span class="line">colors=np.random.rand(n)</span><br><span class="line">area=np.pi*(<span class="number">10</span>*np.random.randn(n))**<span class="number">2</span></span><br><span class="line">plt.scatter(x,y,s=area,c=colors,alpha=<span class="number">0.5</span>,marker=<span class="string">&#x27;o&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><img src="/2022/10/06/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91%E8%AE%A4%E8%AF%86%E6%95%B0%E6%8D%AE/image-20221006215808879.png" alt="image-20221006215808879" style="zoom: 33%;"><hr><h2 id="å››ã€æ•°æ®å¯¹è±¡çš„ç›¸ä¼¼æ€§å¯¹é‡">å››ã€æ•°æ®å¯¹è±¡çš„ç›¸ä¼¼æ€§å¯¹é‡</h2><blockquote><p>ç°å®ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å¤„ç†çš„æ•°æ®å…·æœ‰ä¸åŒçš„å½¢å¼å’Œç‰¹å¾ï¼Œè€Œå¯¹æ•°æ®ç›¸ä¼¼æ€§çš„åº¦é‡åˆæ˜¯æ•°æ®æŒ–æ˜ä¸­éå¸¸é‡è¦çš„ç¯èŠ‚</p></blockquote><h3 id="4-1-æ•°æ®çŸ©é˜µå’Œç›¸å¼‚æ€§çŸ©é˜µ">4.1  æ•°æ®çŸ©é˜µå’Œç›¸å¼‚æ€§çŸ©é˜µ</h3><p><strong>æ•°æ®çŸ©é˜µ</strong></p><p>è¿™å°±æ˜¯ä¸€å¼ äºŒç»´è¡¨</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">âˆ£</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>O</mi><mn>11</mn></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">â€¦</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>Q</mi><mrow><mn>1</mn><mi>m</mi></mrow></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">â€¦</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">â€¦</mo></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>O</mi><mrow><mi>n</mi><mn>1</mn></mrow></msub></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">â€¦</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>O</mi><mrow><mi>n</mi><mi>m</mi></mrow></msub></mstyle></mtd></mtr></mtable><mo fence="true">âˆ£</mo></mrow><annotation encoding="application/x-tex">\begin{vmatrix}O_{11} &amp; \dots &amp;Q_{1m} \\\dots&amp; &amp;\dots\\O_{n1}&amp; \dots &amp; O_{nm}\end{vmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3.612em;vertical-align:-1.55em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.062em;"><span style="top:-2.866em;"><span class="pstrut" style="height:4.416em;"></span><span class="delimsizinginner delim-size1"><span>âˆ£</span></span></span><span style="top:-3.464em;"><span class="pstrut" style="height:4.416em;"></span><span style="height:2.416em;width:0.3333em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.3333em" height="2.416em" style="width:0.3333em" viewbox="0 0 333.33000000000004 2416" preserveaspectratio="xMinYMin"><path d="M145 0 H188 V2416 H145z M145 0 H188 V2416 H145z"/></svg></span></span><span style="top:-5.872em;"><span class="pstrut" style="height:4.416em;"></span><span class="delimsizinginner delim-size1"><span>âˆ£</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">11</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">â€¦</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">â€¦</span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">â€¦</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em;"><span style="top:-4.21em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal">Q</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mathnormal mtight">m</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="minner">â€¦</span></span></span><span style="top:-1.81em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0278em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">nm</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.062em;"><span style="top:-2.866em;"><span class="pstrut" style="height:4.416em;"></span><span class="delimsizinginner delim-size1"><span>âˆ£</span></span></span><span style="top:-3.464em;"><span class="pstrut" style="height:4.416em;"></span><span style="height:2.416em;width:0.3333em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.3333em" height="2.416em" style="width:0.3333em" viewbox="0 0 333.33000000000004 2416" preserveaspectratio="xMinYMin"><path d="M145 0 H188 V2416 H145z M145 0 H188 V2416 H145z"/></svg></span></span><span style="top:-5.872em;"><span class="pstrut" style="height:4.416em;"></span><span class="delimsizinginner delim-size1"><span>âˆ£</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>å±æ€§ä¸ºåˆ—ï¼Œå¯¹è±¡ä¸ºè¡Œã€‚</p><p><strong>ç›¸å¼‚æ€§çŸ©é˜µ</strong></p><p>æ˜¯ç›¸ä¼¼æ€§çŸ©é˜µçš„åçŸ©é˜µ</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">âˆ£</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>d</mi><mo stretchy="false">(</mo><mn>1</mn><mo separator="true">,</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>d</mi><mo stretchy="false">(</mo><mn>2</mn><mo separator="true">,</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow></mrow></mstyle></mtd></mtr></mtable><mo fence="true">âˆ£</mo></mrow><annotation encoding="application/x-tex">\begin{vmatrix}0 &amp;d(1,2)&amp; \\d(2,1)&amp;0&amp; \end{vmatrix}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.412em;vertical-align:-0.95em;"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.462em;"><span style="top:-2.266em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size1"><span>âˆ£</span></span></span><span style="top:-2.864em;"><span class="pstrut" style="height:3.216em;"></span><span style="height:1.216em;width:0.3333em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.3333em" height="1.216em" style="width:0.3333em" viewbox="0 0 333.33000000000004 1216" preserveaspectratio="xMinYMin"><path d="M145 0 H188 V1216 H145z M145 0 H188 V1216 H145z"/></svg></span></span><span style="top:-4.072em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size1"><span>âˆ£</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord">2</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.61em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">2</span><span class="mclose">)</span></span></span><span style="top:-2.41em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em;"></span><span class="arraycolsep" style="width:0.5em;"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.45em;"><span style="top:-3.45em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span><span class="mclose"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.462em;"><span style="top:-2.266em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size1"><span>âˆ£</span></span></span><span style="top:-2.864em;"><span class="pstrut" style="height:3.216em;"></span><span style="height:1.216em;width:0.3333em;"><svg xmlns="http://www.w3.org/2000/svg" width="0.3333em" height="1.216em" style="width:0.3333em" viewbox="0 0 333.33000000000004 1216" preserveaspectratio="xMinYMin"><path d="M145 0 H188 V1216 H145z M145 0 H188 V1216 H145z"/></svg></span></span><span style="top:-4.072em;"><span class="pstrut" style="height:3.216em;"></span><span class="delimsizinginner delim-size1"><span>âˆ£</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.95em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><h3 id="4-2-å¸¸è§çš„æ•°å€¼è·ç¦»åº¦é‡">4.2  å¸¸è§çš„æ•°å€¼è·ç¦»åº¦é‡</h3><p>1ï¸âƒ£ <strong>æ¬§æ°è·ç¦» Eulidean Distance</strong></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>d</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><msqrt><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mrow><mi>i</mi><mn>1</mn></mrow></msub><mo>âˆ’</mo><msub><mi>x</mi><mrow><mi>j</mi><mn>1</mn></mrow></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo>â‹¯</mo><mo>+</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mrow><mi>i</mi><mi>n</mi></mrow></msub><mo>âˆ’</mo><msub><mi>x</mi><mrow><mi>j</mi><mi>n</mi></mrow></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></msqrt></mrow><annotation encoding="application/x-tex">d(i,j)=\sqrt{(x_{i1}-x_{j1})^2+\dots+(x_{in}-x_{jn})^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.84em;vertical-align:-0.5742em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2658em;"><span class="svg-align" style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord" style="padding-left:1em;"><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="minner">â‹¯</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">jn</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-3.2258em;"><span class="pstrut" style="height:3.8em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.88em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.88em" viewbox="0 0 400000 1944" preserveaspectratio="xMinYMin slice"><path d="M983 90l0 -0c4,-6.7,10,-10,18,-10 H400000v40H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5c53.7,-170.3,84.5,-266.8,92.5,-289.5zM1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.5742em;"><span></span></span></span></span></span></span></span></span></span></p><p><strong>2ï¸âƒ£ æ›¼å“ˆé¡¿è·ç¦» Manhattan Distance</strong></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>d</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><mi mathvariant="normal">âˆ£</mi><msub><mi>x</mi><mrow><mi>i</mi><mn>1</mn></mrow></msub><mo>âˆ’</mo><msub><mi>x</mi><mrow><mi>j</mi><mn>1</mn></mrow></msub><mi mathvariant="normal">âˆ£</mi><mo>+</mo><mi mathvariant="normal">âˆ£</mi><msub><mi>x</mi><mrow><mi>i</mi><mn>2</mn></mrow></msub><mo>âˆ’</mo><msub><mi>x</mi><mrow><mi>j</mi><mn>2</mn></mrow></msub><mi mathvariant="normal">âˆ£</mi></mrow><annotation encoding="application/x-tex">d(i,j)=|x_{i1}-x_{j1}|+|x_{i2}-x_{j2}|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">âˆ£</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord">âˆ£</span></span></span></span></span></p><p>3ï¸âƒ£ <strong>åˆ‡æ¯”é›ªå¤«è·ç¦» Chebyshev Distance</strong></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>d</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><munder><mrow><mi>lim</mi><mo>â¡</mo></mrow><mrow><mi>k</mi><mo>â†’</mo><mi mathvariant="normal">âˆ</mi></mrow></munder><mo stretchy="false">(</mo><munderover><mo>âˆ‘</mo><mrow><mi>f</mi><mo>=</mo><mn>1</mn></mrow><mi>p</mi></munderover><mi mathvariant="normal">âˆ£</mi><msub><mi>x</mi><mrow><mi>i</mi><mi>f</mi></mrow></msub><mo>âˆ’</mo><msub><mi>x</mi><mrow><mi>j</mi><mi>f</mi></mrow></msub><msup><mi mathvariant="normal">âˆ£</mi><mi>k</mi></msup><msup><mo stretchy="false">)</mo><mfrac><mn>1</mn><mi>k</mi></mfrac></msup><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi mathvariant="normal">âˆ£</mi><msub><mi>x</mi><mrow><mi>i</mi><mi>f</mi></mrow></msub><mo>âˆ’</mo><mi>x</mi><mrow><mi>j</mi><mi>f</mi></mrow><mi mathvariant="normal">âˆ£</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">d(i,j)=\lim_{k\to\infin}(\sum_{f=1}^p|x_{if}-x_{jf}|^k)^\frac{1}{k}=max(|x_{if}-x{jf}|)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.1367em;vertical-align:-1.4382em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6944em;"><span style="top:-2.3479em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span><span class="mrel mtight">â†’</span><span class="mord mtight">âˆ</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">lim</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.7521em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6985em;"><span style="top:-1.8479em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3471em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.4382em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">âˆ£</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.2901em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord">âˆ£</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.004em;"><span style="top:-3.413em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord">âˆ£</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span><span class="mord">âˆ£</span><span class="mclose">)</span></span></span></span></span></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">chebyshev</span>(<span class="params">x,y</span>):</span><br><span class="line"><span class="keyword">return</span> np.<span class="built_in">max</span>(np.<span class="built_in">abs</span>(x-y))</span><br></pre></td></tr></table></figure><p><strong>4ï¸âƒ£ é—µå¯å¤«æ–¯åŸºè·ç¦» Minkowski Distance</strong></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>d</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><msup><mo>=</mo><mi>q</mi></msup><msqrt><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mrow><mi>i</mi><mn>1</mn></mrow></msub><mo>âˆ’</mo><msub><mi>x</mi><msub><mi>j</mi><mn>1</mn></msub></msub><msup><mo stretchy="false">)</mo><mi>q</mi></msup><mo>+</mo><mo>â‹¯</mo><mo>+</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mrow><mi>i</mi><mi>n</mi></mrow></msub><mo>âˆ’</mo><msub><mi>x</mi><mrow><mi>j</mi><mi>n</mi></mrow></msub><msup><mo stretchy="false">)</mo><mi>q</mi></msup></mrow></msqrt></mrow><annotation encoding="application/x-tex">d(i,j)=^q\sqrt{(x_{i1}-x_{j_1})^q+\dots+(x_{in}-x_{jn})^q}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel"><span class="mrel">=</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.84em;vertical-align:-0.5742em;"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2658em;"><span class="svg-align" style="top:-3.8em;"><span class="pstrut" style="height:3.8em;"></span><span class="mord" style="padding-left:1em;"><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3173em;"><span style="top:-2.357em;margin-left:-0.0572em;margin-right:0.0714em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5904em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="minner">â‹¯</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">in</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">jn</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.5904em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">q</span></span></span></span></span></span></span></span></span></span><span style="top:-3.2258em;"><span class="pstrut" style="height:3.8em;"></span><span class="hide-tail" style="min-width:1.02em;height:1.88em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.88em" viewbox="0 0 400000 1944" preserveaspectratio="xMinYMin slice"><path d="M983 90l0 -0c4,-6.7,10,-10,18,-10 H400000v40H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5c53.7,-170.3,84.5,-266.8,92.5,-289.5zM1001 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.5742em;"><span></span></span></span></span></span></span></span></span></span></p><p>å¯ä»¥è¯´ï¼Œæ›¼å“ˆé¡¿è·ç¦»å’Œæ¬§æ°è·ç¦»éƒ½æ˜¯é—µæ°è·ç¦»çš„æ¨å¹¿</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">minkowski</span>(<span class="params">x,y,p</span>):</span><br><span class="line"><span class="keyword">return</span> np.<span class="built_in">sum</span>(np.<span class="built_in">abs</span>(x-y)**p)**(<span class="number">1</span>/p)</span><br></pre></td></tr></table></figure><p><strong>5ï¸âƒ£ æ±‰æ˜è·ç¦» Hamming Distance</strong></p><p>ä¸¤ä¸ªç­‰é•¿å­—ç¬¦ä¸²ä¹‹é—´å˜æ¢éœ€è¦çš„æœ€å°æ¬¡æ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">Hamming</span>(<span class="params">a,b</span>):</span><br><span class="line">x=a^b</span><br><span class="line">    ans=<span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> x:</span><br><span class="line">        x&amp;=(x-<span class="number">1</span>)</span><br><span class="line">        ans+=<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">Hamming</span>(<span class="params">a,b</span>):</span><br><span class="line"><span class="keyword">return</span> np.<span class="built_in">sum</span>(a!=b)/<span class="built_in">len</span>(a)</span><br></pre></td></tr></table></figure><p><strong>6ï¸âƒ£ ä½™å¼¦ç›¸ä¼¼æ€§</strong></p><p>ä¸€èˆ¬ç”¨äºæ–‡æ¡£æ•°æ®çš„ç›¸ä¼¼æ€§åº¦é‡ã€‚</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>s</mi><mi>i</mi><mi>m</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><mi>x</mi><mo>â‹…</mo><mi>y</mi></mrow><mrow><mi mathvariant="normal">âˆ£</mi><mi mathvariant="normal">âˆ£</mi><mi>x</mi><mi mathvariant="normal">âˆ£</mi><mi mathvariant="normal">âˆ£</mi><mo>â‹…</mo><mi mathvariant="normal">âˆ£</mi><mi mathvariant="normal">âˆ£</mi><mi>y</mi><mi mathvariant="normal">âˆ£</mi><mi mathvariant="normal">âˆ£</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">sim(x,y)=\frac{x\cdot y}{||x||\cdot||y||}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">s</span><span class="mord mathnormal">im</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0574em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">âˆ£âˆ£</span><span class="mord mathnormal">x</span><span class="mord">âˆ£âˆ£</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">âˆ£âˆ£</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord">âˆ£âˆ£</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">cos_similarity</span>(<span class="params">x,y</span>):</span><br><span class="line"><span class="keyword">return</span> np.dot(x,y)/(np.linalg.norm(x)*np.linalg.norm(y))</span><br></pre></td></tr></table></figure><p>è¿™ä¸ª<code>np.linalg.norm</code>è¡¨ç¤ºèŒƒæ•°</p><hr><p><strong>4.3  æ··åˆç±»å‹å±æ€§çš„ç›¸ä¼¼æ€§</strong></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>d</mi><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mrow><munderover><mo>âˆ‘</mo><mrow><mi>f</mi><mo>=</mo><mn>1</mn></mrow><mi>p</mi></munderover><msubsup><mi>Ïƒ</mi><mrow><mi>i</mi><mi>j</mi></mrow><mrow><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">)</mo></mrow></msubsup><msubsup><mi>d</mi><mrow><mi>i</mi><mi>j</mi></mrow><mrow><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">)</mo></mrow></msubsup></mrow><mrow><munderover><mo>âˆ‘</mo><mrow><mi>f</mi><mo>=</mo><mn>1</mn></mrow><mi>p</mi></munderover><msubsup><mi>Ïƒ</mi><mrow><mi>i</mi><mi>j</mi></mrow><mrow><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">)</mo></mrow></msubsup></mrow></mfrac></mrow><annotation encoding="application/x-tex">d(i,j)=\frac{\sum_{f=1}^p\sigma^{(f)}_{ij}d_{ij}^{(f)}}{\sum_{f=1}^p\sigma^{(f)}_{ij}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:3.2412em;vertical-align:-1.3706em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8706em;"><span style="top:-2.11em;"><span class="pstrut" style="height:3.0448em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4358em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4231em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.2748em;"><span class="pstrut" style="height:3.0448em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.8706em;"><span class="pstrut" style="height:3.0448em;"></span><span class="mord"><span class="mop"><span class="mop op-symbol small-op" style="position:relative;top:0em;">âˆ‘</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8043em;"><span style="top:-2.4003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.2029em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.4358em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4231em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">d</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4231em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.3706em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>emmmï¼Œè¿™ä¸ªæ„æ€å°±æ˜¯ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>Ïƒ</mi><mrow><mi>i</mi><mi>j</mi></mrow><mrow><mo stretchy="false">(</mo><mi>f</mi><mo stretchy="false">)</mo></mrow></msubsup></mrow><annotation encoding="application/x-tex">\sigma^{(f)}_{ij}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.4578em;vertical-align:-0.413em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0448em;"><span style="top:-2.4231em;margin-left:-0.0359em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">ij</span></span></span></span><span style="top:-3.2198em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.10764em;">f</span><span class="mclose mtight">)</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.413em;"><span></span></span></span></span></span></span></span></span></span>è¡¨ç¤ºå¯¹è±¡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi><mo separator="true">,</mo><mi>j</mi></mrow><annotation encoding="application/x-tex">i,j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span></span></span></span>ä¹‹é—´æ˜¯å¦å…·æœ‰å…±åŒçš„å±æ€§<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span>ï¼Œæˆ‘ä»¬åªç»Ÿè®¡å…·æœ‰å…±åŒå±æ€§çš„ï¼Œæ²¡æœ‰çš„è¯<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Ïƒ</mi></mrow><annotation encoding="application/x-tex">\sigma</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span></span></span></span>å°±å°†è¢«è®¾ç½®ä¸º0</p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">None</summary>
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="æ•°æ®åˆ†æ" scheme="http://example.com/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>è®¡ç®—è«å…°æŒ‡æ•°å’ŒGeary&#39;s C ç©ºé—´è‡ªç›¸å…³ç¨‹åº¦</title>
    <link href="http://example.com/2022/10/06/%E3%80%90%E7%A9%BA%E9%97%B4%E5%88%86%E6%9E%90%E3%80%91%E7%A9%BA%E9%97%B4%E8%87%AA%E7%9B%B8%E5%85%B3/"/>
    <id>http://example.com/2022/10/06/%E3%80%90%E7%A9%BA%E9%97%B4%E5%88%86%E6%9E%90%E3%80%91%E7%A9%BA%E9%97%B4%E8%87%AA%E7%9B%B8%E5%85%B3/</id>
    <published>2022-10-06T04:32:32.000Z</published>
    <updated>2022-10-17T08:27:03.574Z</updated>
    
    <content type="html"><![CDATA[<h1>è®¡ç®—è«å…°æŒ‡æ•°å’ŒGearyâ€™s C ç©ºé—´è‡ªç›¸å…³ç¨‹åº¦</h1><hr><p><strong>å·ç§¯æ ¸ç±»å‹</strong></p><img src="/2022/10/06/%E3%80%90%E7%A9%BA%E9%97%B4%E5%88%86%E6%9E%90%E3%80%91%E7%A9%BA%E9%97%B4%E8%87%AA%E7%9B%B8%E5%85%B3/image-20221006165257287.png" alt="image-20221006165257287" style="zoom:50%;"><p>å¸¸è§çš„å·ç§¯æ ¸ä¸ºRook,Bishop,Queenï¼Œå¦‚ä¸Šå›¾æ‰€ç¤ºã€‚</p><p><strong>Molanâ€™s I</strong></p><img src="/2022/10/06/%E3%80%90%E7%A9%BA%E9%97%B4%E5%88%86%E6%9E%90%E3%80%91%E7%A9%BA%E9%97%B4%E8%87%AA%E7%9B%B8%E5%85%B3/image-20221006165428724.png" alt="image-20221006165428724" style="zoom:50%;"><p><strong>Gearyâ€™s C</strong></p><img src="/2022/10/06/%E3%80%90%E7%A9%BA%E9%97%B4%E5%88%86%E6%9E%90%E3%80%91%E7%A9%BA%E9%97%B4%E8%87%AA%E7%9B%B8%E5%85%B3/image-20221006165334932.png" alt="image-20221006165334932" style="zoom:50%;"><p><strong>ä»£ç å®ç°ä¸º</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ©ç”¨ç©ºé—´ç»Ÿè®¡é‡Moranå’ŒGearyè®¡ç®—é¥æ„Ÿæ•°æ®çš„è‡ªç›¸å…³ç¨‹åº¦</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getMoranV</span>(<span class="params">path,t=<span class="number">0</span>,method=<span class="string">&quot;Moran&quot;</span></span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    :param path: å›¾åƒè·¯å¾„</span></span><br><span class="line"><span class="string">    :param t: å·ç§¯æ ¸ç±»å‹</span></span><br><span class="line"><span class="string">    :param method: ç©ºé—´è‡ªç›¸å…³æ–¹æ³•</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="comment"># è¯»å–æ•°æ®</span></span><br><span class="line">    wb1 = pd.read_excel(path, index_col=<span class="number">0</span>)</span><br><span class="line">    data = wb1.values</span><br><span class="line">    n, m = wb1.shape</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å®šä¹‰å·ç§¯æ ¸</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># queen å·ç§¯</span></span><br><span class="line">    dir2 = [[<span class="number">1</span>, <span class="number">0</span>], [-<span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, -<span class="number">1</span>], [<span class="number">1</span>, <span class="number">1</span>], [<span class="number">1</span>, -<span class="number">1</span>], [-<span class="number">1</span>, <span class="number">1</span>], [-<span class="number">1</span>, -<span class="number">1</span>]]</span><br><span class="line">    <span class="comment"># Rook å·ç§¯</span></span><br><span class="line">    dir1 = [[<span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>], [-<span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, -<span class="number">1</span>]]</span><br><span class="line">    <span class="comment"># Bishop å·ç§¯</span></span><br><span class="line">    dir3=[[<span class="number">1</span>,<span class="number">1</span>],[<span class="number">1</span>,-<span class="number">1</span>],[-<span class="number">1</span>,<span class="number">1</span>],[-<span class="number">1</span>,-<span class="number">1</span>]]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> t==<span class="number">0</span>:</span><br><span class="line">        <span class="built_in">dir</span>=dir1</span><br><span class="line">    <span class="keyword">elif</span> t==<span class="number">1</span>:</span><br><span class="line">        <span class="built_in">dir</span>=dir2</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">dir</span>=dir3</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¼€è¾ŸO(n^4)æƒé‡çŸ©é˜µ</span></span><br><span class="line">    <span class="comment"># è¿™ç©æ„å¾ˆè€—å†…å­˜ï¼Œæ‰€ä»¥å¯ä»¥è€ƒè™‘ç”¨å±€éƒ¨è®¡ç®—ä»£æ›¿å…¨å±€è®¡ç®—</span></span><br><span class="line">    a = [[<span class="number">0</span>]*(n*m) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>((n*m))]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">            <span class="comment"># äºŒç»´çš„ç‚¹è½¬åˆ°ä¸€ç»´</span></span><br><span class="line">            loc = i * m + j  <span class="comment"># ä¸€ç»´ä¸Šçš„åæ ‡</span></span><br><span class="line">            <span class="comment"># æ‰¾åˆ°ä»–åœ¨äºŒç»´ä¸Šçš„ä¸´ç•Œç‚¹</span></span><br><span class="line">            <span class="keyword">for</span> detX, detY <span class="keyword">in</span> <span class="built_in">dir</span>:</span><br><span class="line">                x = i + detX</span><br><span class="line">                y = j + detY</span><br><span class="line">                <span class="comment"># è½¬åŒ–ä¸ºä¸€ç»´</span></span><br><span class="line">                <span class="comment"># è¾¹ç•Œå¤„ç†</span></span><br><span class="line">                <span class="keyword">if</span> <span class="number">0</span> &lt;= x &lt; m <span class="keyword">and</span> <span class="number">0</span> &lt;= y &lt; m:</span><br><span class="line">                    a[loc][x * m + y] = <span class="number">1</span>  <span class="comment"># è¡¨ç¤ºä¸´æ¥</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">moranIndex</span>(<span class="params">data,weight</span>):</span><br><span class="line">        <span class="comment"># è«å…°æŒ‡æ•°è®¡ç®—</span></span><br><span class="line">        s_0=np.<span class="built_in">sum</span>(np.<span class="built_in">sum</span>(weight))</span><br><span class="line">        n,m=<span class="built_in">len</span>(data),<span class="built_in">len</span>(data[<span class="number">0</span>])</span><br><span class="line">        x_hat=np.mean(data)</span><br><span class="line">        up_sum=<span class="number">0</span></span><br><span class="line">        down_sum=<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">                <span class="comment"># ä¸‹ä¸€è½®</span></span><br><span class="line">                <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">                    <span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">                        <span class="keyword">if</span> <span class="keyword">not</span> (val:=weight[i*m+j][x*m+y]):</span><br><span class="line">                            <span class="keyword">continue</span></span><br><span class="line">                        up_sum+=val*(data[i][j]-x_hat)*(data[x][y]-x_hat)</span><br><span class="line">                down_sum+=(data[i][j]-x_hat)**<span class="number">2</span></span><br><span class="line">        <span class="keyword">return</span> (n*m/s_0)*(up_sum/down_sum)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">Geary_C</span>(<span class="params">data,weight</span>):</span><br><span class="line">        <span class="comment"># Geary&#x27;s Cè®¡ç®—</span></span><br><span class="line">        s_0=np.<span class="built_in">sum</span>(np.<span class="built_in">sum</span>(weight))*<span class="number">2</span></span><br><span class="line">        n, m = <span class="built_in">len</span>(data), <span class="built_in">len</span>(data[<span class="number">0</span>])</span><br><span class="line">        x_hat = np.mean(data)</span><br><span class="line">        up_sum = <span class="number">0</span></span><br><span class="line">        down_sum = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">                <span class="comment"># ä¸‹ä¸€è½®</span></span><br><span class="line">                <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">                    <span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">                        <span class="keyword">if</span> <span class="keyword">not</span> (val := weight[i * m + j][x * m + y]):</span><br><span class="line">                            <span class="keyword">continue</span></span><br><span class="line">                        up_sum += val * (data[i][j] - data[x][y])**<span class="number">2</span></span><br><span class="line">                down_sum += (data[i][j] - x_hat) ** <span class="number">2</span></span><br><span class="line">        <span class="keyword">return</span> ((n*m-<span class="number">1</span>)/(s_0))*(up_sum/down_sum)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (M:=method.upper())==<span class="string">&quot;MORAN&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> moranIndex(data,a)</span><br><span class="line">    <span class="keyword">elif</span> M==<span class="string">&quot;GEARY&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> Geary_C(data,a)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getHelp</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Method: &#123;&#x27;Moran&#x27;,&#x27;Geary&#x27;&#125;&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;t: &#123;0:Rook,1:Queen,2:bishop&#125;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    getHelp()</span><br><span class="line">    path = <span class="string">r&quot;data.xlsx&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;å¢¨å…°æŒ‡æ•°ä¸º: %s&quot;</span>%getMoranV(path,<span class="number">0</span>))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Geary&#x27;s Cä¸º: %s&quot;</span>%getMoranV(path,<span class="number">0</span>,<span class="string">&quot;Geary&quot;</span>))</span><br></pre></td></tr></table></figure><p><strong>è¾“å‡ºç»“æœä¸º</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Method: &#123;<span class="string">&#x27;Moran&#x27;</span>,<span class="string">&#x27;Geary&#x27;</span>&#125;</span><br><span class="line">t: &#123;<span class="number">0</span>:Rook,<span class="number">1</span>:Queen,<span class="number">2</span>:bishop&#125;</span><br><span class="line">å¢¨å…°æŒ‡æ•°ä¸º: <span class="number">0.5579039646993681</span></span><br><span class="line">Geary<span class="string">&#x27;s Cä¸º: 0.4355131948652942</span></span><br></pre></td></tr></table></figure><p><strong>ä¼˜åŒ–</strong></p><p>æˆ‘ä»¬å‘ç°ï¼Œè¿™æ ·å­éœ€è¦å¼€è¾Ÿ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>n</mi><mn>4</mn></msup></mrow><annotation encoding="application/x-tex">n^4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span></span></span></span>å¤§å°çš„æƒé‡çŸ©é˜µï¼Œä¸”éœ€è¦<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>4</mn><msup><mi>n</mi><mn>2</mn></msup><mo>+</mo><msup><mi>n</mi><mn>4</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(4n^2+n^4)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">4</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ä¹Ÿå°±æ˜¯<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>4</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^4)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>çš„æ—¶é—´å¤æ‚åº¦ï¼Œé‚£èƒ½ä¸èƒ½å¯¹å…¶åšä¸€äº›å‰ªæï¼Œé™ä½å¤æ‚åº¦å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å¯ä»¥åŠ¨æ€å¼€è¾Ÿç©ºé—´æƒé‡çŸ©é˜µï¼Œä»è€Œå°†ç©ºé—´å¤æ‚åº¦é™ä½åˆ°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>M</mi><mo>âˆ—</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(M*n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ï¼Œå…¶ä¸­ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span></span></span></span>è¡¨ç¤ºå·ç§¯æ ¸çš„æœ‰æ•ˆå¤§å°ã€‚(éç©ºæ´å¤§å°)</p><p>è¿™æ ·å­ä¹Ÿèƒ½å°†æ—¶é—´å¤æ‚åº¦é™ä½ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>M</mi><mo>âˆ—</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(M*n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em;">M</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> ï¼Œä¹Ÿå°±æ˜¯<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>çº§åˆ«ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ©ç”¨ç©ºé—´ç»Ÿè®¡é‡Moranå’ŒGearyè®¡ç®—é¥æ„Ÿæ•°æ®çš„è‡ªç›¸å…³ç¨‹åº¦</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getMoranV</span>(<span class="params">path,val=<span class="number">1</span>,t=<span class="number">0</span>,method=<span class="string">&quot;Moran&quot;</span></span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    :param path: å›¾åƒè·¯å¾„</span></span><br><span class="line"><span class="string">    :param t: å·ç§¯æ ¸ç±»å‹</span></span><br><span class="line"><span class="string">    :param method: ç©ºé—´è‡ªç›¸å…³æ–¹æ³•</span></span><br><span class="line"><span class="string">    :param val: ç©ºé—´æƒé‡</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="comment"># è¯»å–æ•°æ®</span></span><br><span class="line">    wb1 = pd.read_excel(path, index_col=<span class="number">0</span>)</span><br><span class="line">    data = wb1.values</span><br><span class="line">    n, m = wb1.shape</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å®šä¹‰å·ç§¯æ ¸</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># queen å·ç§¯</span></span><br><span class="line">    dir2 = [[<span class="number">1</span>, <span class="number">0</span>], [-<span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, -<span class="number">1</span>], [<span class="number">1</span>, <span class="number">1</span>], [<span class="number">1</span>, -<span class="number">1</span>], [-<span class="number">1</span>, <span class="number">1</span>], [-<span class="number">1</span>, -<span class="number">1</span>]]</span><br><span class="line">    <span class="comment"># Rook å·ç§¯</span></span><br><span class="line">    dir1 = [[<span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>], [-<span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, -<span class="number">1</span>]]</span><br><span class="line">    <span class="comment"># Bishop å·ç§¯</span></span><br><span class="line">    dir3=[[<span class="number">1</span>,<span class="number">1</span>],[<span class="number">1</span>,-<span class="number">1</span>],[-<span class="number">1</span>,<span class="number">1</span>],[-<span class="number">1</span>,-<span class="number">1</span>]]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> t==<span class="number">0</span>:</span><br><span class="line">        <span class="built_in">dir</span>=dir1</span><br><span class="line">    <span class="keyword">elif</span> t==<span class="number">1</span>:</span><br><span class="line">        <span class="built_in">dir</span>=dir2</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">dir</span>=dir3</span><br><span class="line"></span><br><span class="line">    <span class="comment"># å¼€è¾ŸO(n^4)æƒé‡çŸ©é˜µ</span></span><br><span class="line">    <span class="comment"># è¿™ç©æ„å¾ˆè€—å†…å­˜ï¼Œæ‰€ä»¥å¯ä»¥è€ƒè™‘ç”¨å±€éƒ¨è®¡ç®—ä»£æ›¿å…¨å±€è®¡ç®—</span></span><br><span class="line">    a = [[] <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n*m)]</span><br><span class="line">    a_weight=<span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">            <span class="comment"># æ‰¾åˆ°ä»–åœ¨äºŒç»´ä¸Šçš„ä¸´ç•Œç‚¹</span></span><br><span class="line">            loc=i*m+j</span><br><span class="line">            <span class="keyword">for</span> detX, detY <span class="keyword">in</span> <span class="built_in">dir</span>:</span><br><span class="line">                x = i + detX</span><br><span class="line">                y = j + detY</span><br><span class="line">                <span class="comment"># è½¬åŒ–ä¸ºä¸€ç»´</span></span><br><span class="line">                <span class="comment"># è¾¹ç•Œå¤„ç†</span></span><br><span class="line">                <span class="keyword">if</span> <span class="number">0</span> &lt;= x &lt; n <span class="keyword">and</span> <span class="number">0</span> &lt;= y &lt; m:</span><br><span class="line">                    a[loc].append([x,y,val])</span><br><span class="line">                    a_weight+=val</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">moranIndex</span>(<span class="params">data,weight</span>):</span><br><span class="line">        <span class="comment"># è«å…°æŒ‡æ•°è®¡ç®—</span></span><br><span class="line">        <span class="comment"># s_0=np.sum(np.sum(weight))</span></span><br><span class="line">        s_0=a_weight</span><br><span class="line">        n,m=<span class="built_in">len</span>(data),<span class="built_in">len</span>(data[<span class="number">0</span>])</span><br><span class="line">        x_hat=np.mean(data)</span><br><span class="line">        up_sum=<span class="number">0</span></span><br><span class="line">        down_sum=<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">                <span class="comment"># ä¸‹ä¸€è½®</span></span><br><span class="line">                loc=i*m+j</span><br><span class="line">                <span class="keyword">for</span> v <span class="keyword">in</span> weight[loc]:</span><br><span class="line">                    up_sum+=v[<span class="number">2</span>]*(data[i][j]-x_hat)*(data[v[<span class="number">0</span>]][v[<span class="number">1</span>]]-x_hat)</span><br><span class="line">                down_sum+=(data[i][j]-x_hat)**<span class="number">2</span></span><br><span class="line">        <span class="keyword">return</span> (n*m/s_0)*(up_sum/down_sum)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">Geary_C</span>(<span class="params">data,weight</span>):</span><br><span class="line">        <span class="comment"># Geary&#x27;s Cè®¡ç®—</span></span><br><span class="line">        s_0=a_weight*<span class="number">2</span></span><br><span class="line">        n, m = <span class="built_in">len</span>(data), <span class="built_in">len</span>(data[<span class="number">0</span>])</span><br><span class="line">        x_hat = np.mean(data)</span><br><span class="line">        up_sum = <span class="number">0</span></span><br><span class="line">        down_sum = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">                <span class="comment"># ä¸‹ä¸€è½®</span></span><br><span class="line">                loc = i * m + j</span><br><span class="line">                <span class="keyword">for</span> v <span class="keyword">in</span> weight[loc]:</span><br><span class="line"></span><br><span class="line">                    up_sum += v[<span class="number">2</span>] * (data[i][j] - data[v[<span class="number">0</span>]][v[<span class="number">1</span>]])**<span class="number">2</span></span><br><span class="line">                down_sum += (data[i][j] - x_hat) ** <span class="number">2</span></span><br><span class="line">        <span class="keyword">return</span> ((n*m-<span class="number">1</span>)/(s_0))*(up_sum/down_sum)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (M:=method.upper())==<span class="string">&quot;MORAN&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> moranIndex(data,a)</span><br><span class="line">    <span class="keyword">elif</span> M==<span class="string">&quot;GEARY&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> Geary_C(data,a)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getHelp</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Method: &#123;&#x27;Moran&#x27;,&#x27;Geary&#x27;&#125;&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;t: &#123;0:Rook,1:Queen,2:bishop&#125;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    getHelp()</span><br><span class="line">    path = <span class="string">r&quot;\data.xlsx&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;å¢¨å…°æŒ‡æ•°ä¸º: %s&quot;</span>%getMoranV(path,val=<span class="number">1</span>,t=<span class="number">0</span>))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Geary&#x27;s Cä¸º: %s&quot;</span>%getMoranV(path,val=<span class="number">1</span>,t=<span class="number">0</span>,method=<span class="string">&quot;Geary&quot;</span>))</span><br><span class="line"></span><br></pre></td></tr></table></figure><hr><h3 id="æ —å­-æµ·æ´‹è¡¨é¢æ¸©åº¦-SST-é€æœˆè®¡ç®—ç©ºé—´è‡ªç›¸å…³å˜åŒ–æƒ…å†µ">æ —å­----æµ·æ´‹è¡¨é¢æ¸©åº¦(SST)é€æœˆè®¡ç®—ç©ºé—´è‡ªç›¸å…³å˜åŒ–æƒ…å†µ</h3><p><strong>æ•°æ®</strong></p><img src="/2022/10/06/%E3%80%90%E7%A9%BA%E9%97%B4%E5%88%86%E6%9E%90%E3%80%91%E7%A9%BA%E9%97%B4%E8%87%AA%E7%9B%B8%E5%85%B3/image-20221017153246439.png" alt="image-20221017153246439" style="zoom:50%;"><p><code>dim0</code>è¡¨ç¤ºæ—¶é—´ç»´åº¦ï¼Œ<code>dim1</code>è¡¨ç¤ºç»´åº¦ï¼Œ<code>dim2</code>è¡¨ç¤ºç»åº¦</p><p>æˆ‘ä»¬éœ€è¦å¯¹æ•°æ®è¿›è¡Œå¤„ç†ï¼Œæ­¤æ—¶å¹¶ä¸æ˜¯excelæ•°æ®ï¼Œç›´æ¥è½¬ä¸ºDataFrame,å¹¶åœ¨APIä¸­ä¿®æ”¹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wb1 = path.read_excel(path)</span><br></pre></td></tr></table></figure><p>ä¸º</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wb1=path</span><br></pre></td></tr></table></figure><p><strong>å¤„ç†</strong></p><p>é€æœˆéå†æ•°æ®å³å¯</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">List</span>=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(data.shape[<span class="number">0</span>]): </span><br><span class="line">    <span class="type">List</span>.append(getMoranV(pd.DataFrame(data[i]),val=<span class="number">1</span>,t=<span class="number">1</span>))</span><br></pre></td></tr></table></figure><p><strong>ç»“æœå¯è§†åŒ–</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">plt.figure(figsize=(<span class="number">20</span>,<span class="number">6</span>))</span><br><span class="line">plt.plot(<span class="built_in">range</span>((v:=data.shape[<span class="number">0</span>])),<span class="type">List</span>,<span class="string">&#x27;r-&#x27;</span>)</span><br><span class="line">Mean=<span class="built_in">sum</span>(<span class="type">List</span>)/(<span class="built_in">len</span>(<span class="type">List</span>))</span><br><span class="line">plt.plot(<span class="built_in">range</span>(v),[Mean]*v,<span class="string">&#x27;b&#x27;</span>,linestyle=<span class="string">&#x27;--&#x27;</span>,alpha=<span class="number">0.2</span>)</span><br><span class="line">plt.title(<span class="string">&quot;åŸºäºQueené‚»æ¥çš„SSTç©ºé—´è‡ªç›¸å…³æœˆå˜åŒ–&quot;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;æ—¶é—´&quot;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&quot;æ—¥æœŸ&quot;</span>)</span><br><span class="line">T=[]</span><br><span class="line">M,Y=<span class="number">1</span>,<span class="number">1990</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">360</span>):</span><br><span class="line">    T.append(<span class="string">&quot;%så¹´%sæœˆ&quot;</span>%(Y,M))</span><br><span class="line">    <span class="keyword">if</span> M%<span class="number">12</span>==<span class="number">0</span>:</span><br><span class="line">        M=<span class="number">1</span></span><br><span class="line">        Y+=<span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        M+=<span class="number">1</span></span><br><span class="line">plt.xticks(<span class="built_in">range</span>(<span class="number">360</span>)[::<span class="number">20</span>],T[::<span class="number">20</span>])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><p><img src="/2022/10/06/%E3%80%90%E7%A9%BA%E9%97%B4%E5%88%86%E6%9E%90%E3%80%91%E7%A9%BA%E9%97%B4%E8%87%AA%E7%9B%B8%E5%85%B3/%E4%B8%8B%E8%BD%BD.png" alt="ä¸‹è½½"></p><hr><p><strong>ç»˜åˆ¶é€æœˆåŠ¨å›¾</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">List</span>=[[]]</span><br><span class="line">t=<span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> t&lt;data.shape[<span class="number">0</span>]:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(<span class="type">List</span>[-<span class="number">1</span>])==<span class="number">12</span>:</span><br><span class="line">        <span class="type">List</span>.append([])</span><br><span class="line">    <span class="type">List</span>[-<span class="number">1</span>].append(getMoranV(pd.DataFrame(data[t]),val=<span class="number">1</span>,t=<span class="number">1</span>))</span><br><span class="line">    t+=<span class="number">1</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬é€šè¿‡äºŒç»´åˆ—è¡¨çš„æ–¹å¼å¯¹å¹´ä»½åŠ ä»¥åŒºåˆ†ï¼Œè¿™ä¹Ÿæ˜¯å¸¸è§çš„æ‰‹æ®µã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é€å¹´ç»˜åˆ¶</span></span><br><span class="line">path=<span class="string">r&quot;\yourpath&quot;</span></span><br><span class="line">timeList=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(<span class="type">List</span>)):</span><br><span class="line">    lis=<span class="type">List</span>[i]</span><br><span class="line">    plt.figure(figsize=(<span class="number">20</span>,<span class="number">6</span>))</span><br><span class="line">    plt.plot(<span class="built_in">range</span>(<span class="number">12</span>),lis,<span class="string">&#x27;r-&#x27;</span>)</span><br><span class="line">    Mean=<span class="built_in">sum</span>(lis)/<span class="number">12</span></span><br><span class="line">    plt.plot(<span class="built_in">range</span>(<span class="number">12</span>),[Mean]*<span class="number">12</span>,<span class="string">&#x27;b&#x27;</span>,linestyle=<span class="string">&#x27;--&#x27;</span>,alpha=<span class="number">0.2</span>)</span><br><span class="line">    plt.title(<span class="string">&quot;%så¹´&quot;</span>%(i+<span class="number">1990</span>))</span><br><span class="line">    plt.xticks(<span class="built_in">range</span>(<span class="number">12</span>),[<span class="string">&quot;%sæœˆ&quot;</span>%(m+<span class="number">1</span>) <span class="keyword">for</span> m <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">12</span>)])</span><br><span class="line">    plt.savefig((val:=path+<span class="string">&quot;\\&quot;</span>+<span class="string">&quot;%s.png&quot;</span>%i),dpi=<span class="number">200</span>)</span><br><span class="line">    timeList.append(val)</span><br></pre></td></tr></table></figure><p>æ¥ç€å°±æ˜¯æ­£å¸¸çš„ç»˜åˆ¶ï¼Œæˆ‘ä»¬éœ€è¦å°†å›¾åƒå­˜å‚¨ä¸‹æ¥ï¼Œå¹¶è®°å½•å­˜å‚¨ä½ç½®ã€‚</p><p>é€šè¿‡<code>imageio</code>æ¨¡å—åˆ¶ä½œåŠ¨å›¾ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">IMG=[]</span><br><span class="line"><span class="keyword">import</span> imageio</span><br><span class="line">path=<span class="string">r&quot;C:\Users\lenovo\Desktop\Ocean\Spatial&quot;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> timeList:</span><br><span class="line">    IMG.append(imageio.imread(i))</span><br><span class="line">imageio.mimsave(path+<span class="string">&quot;\\&quot;</span>+<span class="string">&quot;GIF1.gif&quot;</span>,IMG,<span class="string">&quot;GIF&quot;</span>,duration=<span class="number">1</span>)</span><br></pre></td></tr></table></figure><p><img src="/2022/10/06/%E3%80%90%E7%A9%BA%E9%97%B4%E5%88%86%E6%9E%90%E3%80%91%E7%A9%BA%E9%97%B4%E8%87%AA%E7%9B%B8%E5%85%B3/GIF1-1665995063358-1.gif" alt="GIF1"></p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;è®¡ç®—è«å…°æŒ‡æ•°å’ŒGearyâ€™s C ç©ºé—´è‡ªç›¸å…³ç¨‹åº¦&lt;/h1&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;å·ç§¯æ ¸ç±»å‹&lt;/strong&gt;&lt;/p&gt;
&lt;img src=&quot;/2022/10/06/%E3%80%90%E7%A9%BA%E9%97%B4%E5%88%86%E6%9E%90%E3%</summary>
      
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="ç©ºé—´åˆ†æ" scheme="http://example.com/tags/%E7%A9%BA%E9%97%B4%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>ã€ç®—æ³•ä¸æ•°æ®ç»“æ„ã€‘å¹¶æŸ¥é›†</title>
    <link href="http://example.com/2022/09/26/%E3%80%90%E7%AE%97%E6%B3%95%E3%80%91%E5%B9%B6%E6%9F%A5%E9%9B%86/"/>
    <id>http://example.com/2022/09/26/%E3%80%90%E7%AE%97%E6%B3%95%E3%80%91%E5%B9%B6%E6%9F%A5%E9%9B%86/</id>
    <published>2022-09-26T14:17:21.350Z</published>
    <updated>2022-10-05T17:25:49.817Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€-v4">å‰è¨€</h2><p>è¿™ä¸ªæ€»ç»“æ‹–äº†å¥½ä¹…hhhï¼Œä¸€ä¸ªæœˆå‰å°±æƒ³æäº†ï¼Œä¸€ç›´æ‹–åˆ°ç°åœ¨ã€‚è¿™ä¸ªæ€»ç»“å¹¶ä¸æ˜¯ä»ã€å¹¶æŸ¥é›†ã€‘çš„<code>Introduction</code>å’Œ<code>background</code>å¼€å§‹çš„ï¼Œä¾§é‡ç‚¹åœ¨äºè¿ç”¨æ–¹é¢ã€‚</p><p>å…ˆæ”¾ä¸ª<code>Python</code>çš„æ¿å­</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UnionSet</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,n</span>):</span><br><span class="line">        <span class="comment"># å¤šå°‘ä¸ªå¸®æ´¾</span></span><br><span class="line">        self.parents=[i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line">        <span class="comment"># æ¯ä¸ªå¸®æ´¾æœ‰å¤šå°‘å®åŠ›</span></span><br><span class="line">        self.rank[<span class="number">0</span>]*n</span><br><span class="line">        <span class="comment"># åå¹¶ä¹‹åçš„å¸®æ´¾æ•°é‡</span></span><br><span class="line">        self.count=<span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">find</span>(<span class="params">self,x</span>):</span><br><span class="line">        <span class="comment"># æ‘‡äººè§„åˆ™</span></span><br><span class="line">        <span class="keyword">if</span> self.parents[x]!=x:</span><br><span class="line">            <span class="comment"># ä¸€ç›´æ‰¾åˆ°å¤§è€æ¿ä¸ºæ­¢</span></span><br><span class="line">            <span class="comment"># æŠŠæ²¿é€”é‡åˆ°çš„å°è€æ¿çš„è”ç³»æ–¹å¼æ›¿æ¢æˆå¤§è€æ¿</span></span><br><span class="line">            self.parents[x]=self.find(self.parents[x])</span><br><span class="line">        <span class="keyword">return</span> self.parents[x]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">union</span>(<span class="params">self,a,b</span>):</span><br><span class="line">        <span class="comment"># åå¹¶è§„åˆ™</span></span><br><span class="line">        roota,rootb=self.find(a),self.find(b)</span><br><span class="line">        <span class="comment"># ä¸æ˜¯ä¸€æ´¾</span></span><br><span class="line">        <span class="keyword">if</span> roota!=rootb:</span><br><span class="line">            <span class="comment"># å°å¸®æ´¾å¹¶å…¥å¤§å¸®æ´¾</span></span><br><span class="line">            <span class="keyword">if</span> self.rank[roota]&lt;self.rank[rootb]:</span><br><span class="line">                roota,rootb=rootb,roota</span><br><span class="line">            self.parents[rootb]=roota</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> self.rank[roota]==self.rank[rootb]:</span><br><span class="line">                <span class="comment"># åŒçº§åˆ«çš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿç™¾å°ºç«¿å¤´æ›´è¿›ä¸€æ­¥</span></span><br><span class="line">                self.rank[roota]+=<span class="number">1</span></span><br><span class="line">            self.count-=<span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getCount</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.count</span><br></pre></td></tr></table></figure><p>å½“ç„¶è¿™ä¸ªæ¿å­ç•¥æ˜¾å¤æ‚ï¼Œæˆ‘ä»¬ä¹Ÿä¸éœ€è¦é¢å¤–å¼€ä¸€ä¸ªç±»å»å®šä¹‰å¹¶æŸ¥é›†ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">function</span>(<span class="params">self,data</span>):</span><br><span class="line">        n=<span class="built_in">len</span>(data)</span><br><span class="line">        pa=[i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">find</span>(<span class="params">x</span>):</span><br><span class="line">            <span class="keyword">if</span> pa[x]!=x:</span><br><span class="line">                pa[x]=find(pa[x])</span><br><span class="line">            <span class="keyword">return</span> pa[x]</span><br><span class="line">       </span><br><span class="line">        <span class="comment"># çœ‹æƒ…å†µä¿®æ”¹</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> data:</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> data:</span><br><span class="line">                <span class="keyword">if</span> i&lt;j: <span class="comment"># æ˜¯å¦è¿é€š</span></span><br><span class="line">                    ri,rj=find(i),find(j) <span class="comment"># åˆå¹¶è§„åˆ™</span></span><br><span class="line">                    <span class="keyword">if</span> ri!=rj:</span><br><span class="line">                        pa[rj]=ri <span class="comment"># åˆå¹¶</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sum</span>([<span class="number">1</span> <span class="keyword">for</span> i,j <span class="keyword">in</span> <span class="built_in">enumerate</span>(pa) <span class="keyword">if</span> pa[i]==j]) <span class="comment"># çœ‹æƒ…å†µä¿®æ”¹ è¿™é‡Œæ˜¯ç»Ÿè®¡è¿é€šå—æ•°é‡</span></span><br></pre></td></tr></table></figure><p>å†è´´ä¸€ä¸ªPython3çš„ç²¾ç®€ç‰ˆæœ¬ï¼Œ<code>:=</code>èµ‹å€¼ç¬¦å·åªèƒ½åœ¨<code>py3.8</code>åŠä»¥ä¸Šçš„ç‰ˆæœ¬ç”¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UnionFind</span>:</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,n</span>):</span><br><span class="line">self.pa=[i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">find</span>(<span class="params">self,x</span>):</span><br><span class="line"><span class="keyword">if</span> self.pa[x]!=x:</span><br><span class="line">            self.pa[x]=self.find(self.pa[x])</span><br><span class="line">         <span class="keyword">return</span> pa[x]</span><br><span class="line">   <span class="keyword">def</span> <span class="title function_">union</span>(<span class="params">self,a,b</span>):</span><br><span class="line">        <span class="keyword">if</span> (roota:=self.find(a))!=(rootb:=self.find(b)):</span><br><span class="line">            self.pa[rootb]=roota</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">isConnect</span>(<span class="params">self,a,b</span>):</span><br><span class="line">        <span class="keyword">return</span> self.find(a)==self.find(b)</span><br></pre></td></tr></table></figure><hr><h2 id="å¹¶æŸ¥é›†">å¹¶æŸ¥é›†</h2><h3 id="ä¸€ã€æ¦‚å¿µä»‹ç»">ä¸€ã€æ¦‚å¿µä»‹ç»</h3><blockquote><p>æ‰€è°“å¹¶æŸ¥é›†(Union-find Data Structure),æ˜¯ä¸€ç§ç”¨äºå¿«é€Ÿå¤„ç†ä¸äº¤é›†åˆå¹¶åŠæŸ¥è¯¢é—®é¢˜çš„æ ‘å½¢ç»“æ„</p></blockquote><hr><p><strong>ä¸ºä»€ä¹ˆéœ€è¦æå‡ºå¹¶æŸ¥é›†å‘¢ï¼Ÿ</strong>â“</p><p>åœ¨å›¾ç»“æ„ä¸­ï¼Œé™¤å´èŠ‚ç‚¹ã€è¾¹æœ¬èº«çš„æ€§è´¨ï¼Œæˆ‘ä»¬æ³¨æ„åˆ°è¿˜æœ‰ä¸å°‘æ€§è´¨å°¤ä¸ºé‡è¦ï¼Œå…¶ä¸­å°±åŒ…æ‹¬äº†æ‹“æ‰‘ç»“æ„ã€‚è€Œæœ€ç®€å•çš„ä¸€ç§æ‹“æ‰‘ç»“æ„ï¼Œå°±æ˜¯<code>è¿é€šå…³ç³»</code>ã€‚</p><p>å¦‚ä½•å¤„ç†è¿™ç§è¿é€šå…³ç³»å‘¢ï¼Ÿå¦‚æœé€šè¿‡æ–°å¼€ä¸€ä¸ªæ•°ç»„çš„æ–¹å¼å­˜å‚¨ï¼Œé‚£ä¹ˆæ¯æ¬¡æŸ¥è¯¢éƒ½éœ€è¦éå†æ¯ä¸ªå…ƒç´ ï¼Œæ—¶é—´å¤æ‚åº¦ä¼šæ¯”è¾ƒé«˜ï¼Œä¸”ç©ºé—´å¼€é”€ä¹Ÿæ¯”è¾ƒå¤§ã€‚</p><p>æˆ‘ä»¬æ³¨æ„åˆ°ï¼Œè®¸å¤šè¿é€šçš„å…ƒç´ å¯ä»¥å•ç‹¬æ„æˆä¸€ä¸ªæ•´ä½“ï¼Œèƒ½ä¸èƒ½é€‰æ‹©å…¶ä¸­æœ‰<code>ä»£è¡¨æ€§çš„ä¸€ä¸ª</code>ï¼Œä½œä¸ºä»£è¨€äººå‘¢ï¼Ÿè¿™æ ·ï¼Œæˆ‘ä»¬æ£€æŸ¥è¿é€šæ€§çš„æ—¶å€™ï¼Œåªéœ€è¦æ‰¾åˆ°è¿™ä¸ªä»£è¨€äººï¼Œçœ‹çœ‹<code>ä¸¤ä¸ªè¿é€šå—ä¹‹é—´çš„ä»£è¨€äººæ˜¯å¦ç›¸åŒ</code>ï¼Œå°±èƒ½å¤„ç†è¿é€šå…³ç³»å•¦ã€‚</p><p><strong>ä¸¾ä¸ªæ —å­</strong></p><p>ç°åœ¨æœ‰äº”ä¸ªåŸå¸‚<code>A,B,C,D,E</code>ï¼Œä»–ä»¬ä¹‹é—´æœ‰çš„å¼€é€šäº†é«˜é“ï¼Œæœ‰çš„å¹¶æ²¡æœ‰ã€‚æ¯”å¦‚<code>A,B,C</code>ä¹‹é—´å¼€é€šäº†é«˜é“ï¼Œé‚£ä¹ˆå‡å¦‚<code>D</code>è¦è·Ÿå…¶ä¸­ä¹‹ä¸€ä¹Ÿå¼€é€šé«˜é“ï¼Œæ­¤æ—¶ï¼Œ<code>D</code>å’Œå…¶ä»–ä¸‰ä¸ªéƒ½èƒ½è¿é€šï¼Œå½¢æˆäº†è¿é€šå—ã€‚æˆ‘ä»¬å°±ä¸éœ€è¦ä¸€ä¸€å»å­˜å‚¨ä¸‰ä¸ªåŸå¸‚å•¦ï¼Œåªéœ€è¦å°†<code>D</code>ä¿å­˜åˆ°<code>A,B,C</code>è¿é€šå—ä¸­ï¼Œå°†è¿é€šå—å˜æˆ<code>A,B,C,D</code>å°±é˜”ä»¥å•¦ã€‚</p><hr><p><strong>å¹¶æŸ¥é›†çš„ç»“æ„æ˜¯æ€ä¹ˆæ ·çš„å‘¢ï¼ŸğŸ›ï¸</strong></p><p>é€šè¿‡å‰æ–‡çš„è®ºè¿°ï¼Œæˆ‘ä»¬å‘ç°ï¼Œå¹¶æŸ¥é›†æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªå­˜å‚¨è¿é€šå…³ç³»çš„ç»“æ„ï¼è¿™ä¸ªç»“æ„ä¸ºæ¯ä¸ªå…ƒç´ ç»´æŠ¤äº†ä¸€ä¸ª<code>ä»£è¡¨æ•°æ®</code>ï¼Œè¿™ä¸ª<code>ä»£è¡¨æ•°æ®</code>ä¹Ÿå°±æ˜¯æ¯ä¸ªè¿é€šå—çš„åŒºåˆ†æ•°æ®ã€‚åœ¨å®é™…ä¸­ï¼Œè¿™ä¸ªä»£è¡¨æ•°æ®å¯ä»¥æ˜¯èŠ‚ç‚¹ï¼Œå¯ä»¥æ˜¯æœ€å¤§å€¼ï¼Œå¯ä»¥æ˜¯ç»Ÿè®¡é‡ç­‰ã€‚ä¸ºäº†æ‰¾åˆ°è¿™ä¸ª<code>ä»£è¡¨æ•°æ®</code>,æˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ª<code>å¯»å€æ–¹æ³•</code>ã€‚è¿›ä¸€æ­¥çš„ï¼Œå¯ä»¥é€šè¿‡<code>è·¯å¾„å‹ç¼©</code>å¯¹<code>å¯»å€æ–¹æ³•è¿›è¡Œä¼˜åŒ–</code>ã€‚</p><p>é™¤å´ä¸Šè¿°ä¸¤ä¸ªæœ€é‡è¦çš„å…ƒç´ ï¼Œå¹¶æŸ¥é›†è¿˜å¯ä»¥ç»´æŠ¤ä¸€ä¸ª<code>rank</code>æ•°ç»„ï¼Œç”¨æ¥è¯„ä¼°å—çš„ä¿¡æ¯é‡ã€‚</p><table><thead><tr><th style="text-align:center">å…ƒç´ </th><th style="text-align:center">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:center">parents</td><td style="text-align:center">è¿é€šå—çš„ä»£è¡¨å…ƒç´ ï¼Œæˆ–è€…è¯´ï¼ŒèŠ‚ç‚¹çš„<code>boss</code></td></tr><tr><td style="text-align:center">rank</td><td style="text-align:center">è¿é€šå—çš„ä¿¡æ¯é‡</td></tr><tr><td style="text-align:center">find(x)</td><td style="text-align:center">å¯»å€æ–¹æ³•</td></tr><tr><td style="text-align:center">merge(a,b)</td><td style="text-align:center">åˆå¹¶æ–¹æ³•</td></tr></tbody></table><hr><p><strong>ç‰¹æ®Šå˜åŒ–â€“å¸¦æƒå¹¶æŸ¥é›†</strong></p><p>æˆ‘ä»¬è¯´å¯¹äºæ— æƒå›¾çš„è¿é€šæ€§ï¼Œå¹¶æŸ¥é›†èƒ½å¤Ÿå¾ˆå¥½çš„è¿›è¡Œé€‚é…ä¸å¤„ç†ï¼Œé‚£ä¹ˆå¯¹äºæœ‰æƒå›¾å‘¢ï¼Ÿæ˜¯å¦ä¹Ÿå¯ä»¥é€šè¿‡å¹¶æŸ¥é›†è¿›è¡Œå¤„ç†ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œå¹¶æŸ¥é›†å¯ä»¥èµ·åˆ°ç»Ÿä¸€åº¦é‡è¡¡çš„ä½œç”¨ï¼Œä½†æ˜¯å¿…é¡»åœ¨ç»“æ„ä¸Šåšä¸€å®šçš„ä¿®æ”¹ã€‚</p><p>æˆ‘ä»¬å‡è®¾å¸¦æƒè¾¹çš„æƒé‡æ•°ç»„ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span>ï¼Œå…¶ä¸­<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">w[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span>è¡¨ç¤ºç¬¬<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span>æ¡è¾¹ç›¸å¯¹äº<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>o</mi><mi>o</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">root</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">roo</span><span class="mord mathnormal">t</span></span></span></span>èŠ‚ç‚¹çš„æƒé‡ã€‚</p><p>åœ¨å¯»å€(find)è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>w</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>=</mo><mfrac><mi>i</mi><mrow><mi>r</mi><mi>o</mi><mi>o</mi><mi>t</mi></mrow></mfrac><mo>=</mo><mfrac><mi>i</mi><mrow><mi>p</mi><mi>a</mi><mi>r</mi><mi>e</mi><mi>n</mi><msub><mi>t</mi><mi>i</mi></msub></mrow></mfrac><mo>Ã—</mo><mfrac><mrow><mi>p</mi><mi>a</mi><mi>r</mi><mi>e</mi><mi>n</mi><msub><mi>t</mi><mi>i</mi></msub></mrow><mrow><mi>r</mi><mi>o</mi><mi>o</mi><mi>t</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">w[i]=\frac{i}{root}=\frac{i}{parent_i}\times\frac{parent_i}{root}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0225em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3365em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">roo</span><span class="mord mathnormal">t</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.217em;vertical-align:-0.8804em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3365em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="mord mathnormal">a</span><span class="mord mathnormal">re</span><span class="mord mathnormal">n</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.9781em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2921em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">roo</span><span class="mord mathnormal">t</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="mord mathnormal">a</span><span class="mord mathnormal">re</span><span class="mord mathnormal">n</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>è¿™æ˜¯ä¸€æ¡æƒé‡é“¾ï¼Œç¡®ä¿å¹¶æŸ¥é›†ä¸­æ¯ä¸ªå­é›†éƒ½èƒ½ä»¥æ ¹èŠ‚ç‚¹ä¸ºåŸºå‡†è¿›è¡Œå®šæ ‡ã€‚</p><p>åœ¨åŠ å…¥(union)çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å¯¹å…¶è¿›è¡Œå¦‚ä¸‹æ›´æ–°ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>å‡è®¾Â </mtext><mi>y</mi><mtext>Â åŠ å…¥Â </mtext><mi>x</mi><mtext>Â </mtext><mspace linebreak="newline"></mspace><mi>w</mi><mo stretchy="false">[</mo><mi>r</mi><mi>o</mi><mi>o</mi><msub><mi>t</mi><mi>y</mi></msub><mo stretchy="false">]</mo><mo>=</mo><mfrac><mrow><mi>r</mi><mi>o</mi><mi>o</mi><msub><mi>t</mi><mi>y</mi></msub></mrow><mrow><mi>r</mi><mi>o</mi><mi>o</mi><msub><mi>t</mi><mi>x</mi></msub></mrow></mfrac><mo>=</mo><mfrac><mrow><mi>y</mi><mtext>Â </mtext><mo>â‹…</mo><mtext>Â </mtext><mi>w</mi><mo stretchy="false">[</mo><mi>x</mi><mo stretchy="false">]</mo></mrow><mrow><mi>w</mi><mo stretchy="false">[</mo><mi>y</mi><mo stretchy="false">]</mo><mtext>Â </mtext><mo>â‹…</mo><mtext>Â </mtext><mi>x</mi></mrow></mfrac><mspace linebreak="newline"></mspace><mo>=</mo><mfrac><mi>y</mi><mi>x</mi></mfrac><mtext>Â </mtext><mo>â‹…</mo><mtext>Â </mtext><mfrac><mrow><mi>w</mi><mo stretchy="false">[</mo><mi>x</mi><mo stretchy="false">]</mo></mrow><mrow><mi>w</mi><mo stretchy="false">[</mo><mi>y</mi><mo stretchy="false">]</mo></mrow></mfrac><mspace linebreak="newline"></mspace><mtext>ä»¤</mtext><mi>k</mi><mo>=</mo><mfrac><mi>y</mi><mi>x</mi></mfrac><mtext>ï¼Œå³</mtext><mo>:</mo><mi>w</mi><mo stretchy="false">[</mo><mi>r</mi><mi>o</mi><mi>o</mi><msub><mi>t</mi><mi>y</mi></msub><mo stretchy="false">]</mo><mo>=</mo><mi>k</mi><mtext>Â </mtext><mo>â‹…</mo><mtext>Â </mtext><mfrac><mrow><mi>w</mi><mo stretchy="false">[</mo><mi>x</mi><mo stretchy="false">]</mo></mrow><mrow><mi>w</mi><mo stretchy="false">[</mo><mi>y</mi><mo stretchy="false">]</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">å‡è®¾ \ y\ åŠ å…¥\ x\ \\w[root_y]=\frac{root_y}{root_x}=\frac{y\ \cdot\ w[x]}{w[y]\ \cdot\ x}\\=\frac{y}{x}\ \cdot\ \frac{w[x]}{w[y]}\\ä»¤k=\frac{y}{x}ï¼Œå³:w[root_y]=k\ \cdot\ \frac{w[x]}{w[y]}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord cjk_fallback">å‡è®¾</span><span class="mspace">Â </span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace">Â </span><span class="mord cjk_fallback">åŠ å…¥</span><span class="mspace">Â </span><span class="mord mathnormal">x</span><span class="mspace">Â </span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">roo</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1281em;vertical-align:-0.836em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2921em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">roo</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">roo</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">]</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">x</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose">]</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.7936em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">]</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose">]</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord cjk_fallback">ä»¤</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.7936em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord cjk_fallback">ï¼Œå³</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">roo</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">]</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose">]</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>å¦‚æ­¤ï¼Œä¾¿åœ¨æŸ¥è¯¢å’Œåˆå¹¶çš„è¿‡ç¨‹ä¸­å®ç°äº†æƒå€¼çš„é“¾å¼æ›´æ–°ã€‚æ‰€æœ‰æ ‘ç»“æ„ä¸Šçš„å€¼éƒ½æ˜¯ä»¥æ ¹èŠ‚ç‚¹ä½œä¸ºåŸºå‡†è¿›è¡Œå˜æ¢å¾—åˆ°çš„ï¼Œå› æ­¤ï¼ŒåŒåˆ†æ”¯ä¸Š(åŒä¸ªè¿é€šå—)å®ç°äº†å¯æ¯”æ€§ã€‚</p><hr><p><strong>æ¿å­æ€ä¹ˆå†™ï¼Ÿ</strong></p><p>è¿™è¾¹ä¸å›¾å¿«ï¼Œæ­£äºŒå…«ç»çš„è´´ä¸€ä¸ªå¹¶æŸ¥é›†æ¿å­ã€‚</p><p><code>python</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">UnionSet</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,n</span>):</span><br><span class="line">        <span class="comment"># å¤šå°‘ä¸ªå¸®æ´¾</span></span><br><span class="line">        self.parents=[i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line">        <span class="comment"># æ¯ä¸ªå¸®æ´¾æœ‰å¤šå°‘å®åŠ›</span></span><br><span class="line">        self.rank[<span class="number">0</span>]*n</span><br><span class="line">        <span class="comment"># åå¹¶ä¹‹åçš„å¸®æ´¾æ•°é‡</span></span><br><span class="line">        self.count=<span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">find</span>(<span class="params">self,x</span>):</span><br><span class="line">        <span class="comment"># æ‘‡äººè§„åˆ™</span></span><br><span class="line">        <span class="keyword">if</span> self.parents[x]!=x:</span><br><span class="line">            <span class="comment"># ä¸€ç›´æ‰¾åˆ°å¤§è€æ¿ä¸ºæ­¢</span></span><br><span class="line">            <span class="comment"># æŠŠæ²¿é€”é‡åˆ°çš„å°è€æ¿çš„è”ç³»æ–¹å¼æ›¿æ¢æˆå¤§è€æ¿</span></span><br><span class="line">            self.parents[x]=self.find(self.parents[x])</span><br><span class="line">        <span class="keyword">return</span> self.parents[x]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">union</span>(<span class="params">self,a,b</span>):</span><br><span class="line">        <span class="comment"># åå¹¶è§„åˆ™</span></span><br><span class="line">        roota,rootb=self.find(a),self.find(b)</span><br><span class="line">        <span class="comment"># ä¸æ˜¯ä¸€æ´¾</span></span><br><span class="line">        <span class="keyword">if</span> roota!=rootb:</span><br><span class="line">            <span class="comment"># å°å¸®æ´¾å¹¶å…¥å¤§å¸®æ´¾</span></span><br><span class="line">            <span class="keyword">if</span> self.rank[roota]&lt;self.rank[rootb]:</span><br><span class="line">                roota,rootb=rootb,roota</span><br><span class="line">            self.parents[rootb]=roota</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> self.rank[roota]==self.rank[rootb]:</span><br><span class="line">                <span class="comment"># åŒçº§åˆ«çš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿç™¾å°ºç«¿å¤´æ›´è¿›ä¸€æ­¥</span></span><br><span class="line">                self.rank[roota]+=<span class="number">1</span></span><br><span class="line">            self.count-=<span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getCount</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.count</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">isConnect</span>(<span class="params">self,a,b</span>):</span><br><span class="line">        <span class="keyword">return</span> find(a)==find(b)</span><br></pre></td></tr></table></figure><p><code>Java</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">UnionFind</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] parent;</span><br><span class="line">        <span class="type">int</span>[] rank;</span><br><span class="line">        <span class="type">int</span> count;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">UnionFind</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">            parent=<span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">            rank=<span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">            count=n;</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">                parent[i]=i;</span><br><span class="line">                rank[i]=<span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (parent[i] != i) parent[i] = find(parent[i]);</span><br><span class="line">            <span class="keyword">return</span> parent[i];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">union</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">rootx</span> <span class="operator">=</span> find(x);</span><br><span class="line">            <span class="type">int</span> <span class="variable">rooty</span> <span class="operator">=</span> find(y);</span><br><span class="line">            <span class="keyword">if</span> (rootx != rooty) &#123;</span><br><span class="line">                <span class="keyword">if</span> (rank[rootx] &gt; rank[rooty]) &#123;</span><br><span class="line">                    parent[rooty] = rootx;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (rank[rootx] &lt; rank[rooty]) &#123;</span><br><span class="line">                    parent[rootx] = rooty;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    parent[rooty] = rootx;</span><br><span class="line">                    rank[rootx] += <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                count--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h3 id="äºŒã€é¢˜ç›®ç±»å‹">äºŒã€é¢˜ç›®ç±»å‹</h3><p>æ¯ç§ç±»å‹çš„é¢˜å¤§æ¦‚ä¼šæŒ‘æ¯”è¾ƒç»å…¸çš„ä¸¤ä¸‰é¢˜è®²ä¸€è®²ï¼Œå¹¶æç‚¼æ€è·¯ä¸å¥—è·¯ã€‚</p><h3 id="å¸¸è§ç±»å‹ï¼šè¿é€šå—å¤§å°"><strong>å¸¸è§ç±»å‹ï¼šè¿é€šå—å¤§å°</strong></h3><blockquote><p>æ­¤ç±»é—®é¢˜æ˜¯æœ€å¸¸è§çš„é—®é¢˜ï¼Œä¾‹å¦‚ç»å…¸çš„å²›å±¿é—®é¢˜</p></blockquote><hr><h4 id="1ï¸âƒ£-LC200-å²›å±¿æ•°é‡">1ï¸âƒ£ LC200 å²›å±¿æ•°é‡</h4><p>æ¥è‡ªï¼š<a href="https://leetcode.cn/problems/number-of-islands">https://leetcode.cn/problems/number-of-islands</a></p><p>ç»™ä½ ä¸€ä¸ªç”± â€˜1â€™ï¼ˆé™†åœ°ï¼‰å’Œ â€˜0â€™ï¼ˆæ°´ï¼‰ç»„æˆçš„çš„äºŒç»´ç½‘æ ¼ï¼Œè¯·ä½ è®¡ç®—ç½‘æ ¼ä¸­å²›å±¿çš„æ•°é‡ã€‚</p><p>å²›å±¿æ€»æ˜¯è¢«æ°´åŒ…å›´ï¼Œå¹¶ä¸”æ¯åº§å²›å±¿åªèƒ½ç”±æ°´å¹³æ–¹å‘å’Œ/æˆ–ç«–ç›´æ–¹å‘ä¸Šç›¸é‚»çš„é™†åœ°è¿æ¥å½¢æˆã€‚</p><p>æ­¤å¤–ï¼Œä½ å¯ä»¥å‡è®¾è¯¥ç½‘æ ¼çš„å››æ¡è¾¹å‡è¢«æ°´åŒ…å›´ã€‚</p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šgrid = [</span><br><span class="line">  [<span class="string">&quot;1&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;0&quot;</span>],</span><br><span class="line">  [<span class="string">&quot;1&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;0&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;0&quot;</span>],</span><br><span class="line">  [<span class="string">&quot;1&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;0&quot;</span>,<span class="string">&quot;0&quot;</span>,<span class="string">&quot;0&quot;</span>],</span><br><span class="line">  [<span class="string">&quot;0&quot;</span>,<span class="string">&quot;0&quot;</span>,<span class="string">&quot;0&quot;</span>,<span class="string">&quot;0&quot;</span>,<span class="string">&quot;0&quot;</span>]</span><br><span class="line">]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">1</span></span><br><span class="line">    </span><br><span class="line">è¾“å…¥ï¼šgrid = [</span><br><span class="line">  [<span class="string">&quot;1&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;0&quot;</span>,<span class="string">&quot;0&quot;</span>,<span class="string">&quot;0&quot;</span>],</span><br><span class="line">  [<span class="string">&quot;1&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;0&quot;</span>,<span class="string">&quot;0&quot;</span>,<span class="string">&quot;0&quot;</span>],</span><br><span class="line">  [<span class="string">&quot;0&quot;</span>,<span class="string">&quot;0&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;0&quot;</span>,<span class="string">&quot;0&quot;</span>],</span><br><span class="line">  [<span class="string">&quot;0&quot;</span>,<span class="string">&quot;0&quot;</span>,<span class="string">&quot;0&quot;</span>,<span class="string">&quot;1&quot;</span>,<span class="string">&quot;1&quot;</span>]</span><br><span class="line">]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">3</span></span><br></pre></td></tr></table></figure><p><strong>æ€è·¯</strong></p><p>å› ä¸ºæ˜¯UFçš„å½’çº³ï¼Œæ‰€ä»¥è¿™è¾¹æˆ‘ä»¬ä¸ç”¨å…¶ä»–æ–¹æ³•åšäº†ã€‚</p><p>æˆ‘ä»¬åªéœ€è¦å°†ä¸Šä¸‹å·¦å³éƒ½æ˜¯&quot;1&quot;çš„å…ƒç´ åŠ å…¥å¹¶æŸ¥é›†å³å¯ã€‚</p><p><strong>æ³¨æ„ç‚¹</strong></p><ul><li>æœ€å¼€å§‹åˆå§‹åŒ–å¹¶æŸ¥é›†çš„æ—¶å€™ï¼Œéœ€è¦ç”¨ä¸€ä¸ªå­—æ®µ<code>c</code>è®°å½•å…ƒç´ çš„æ•°é‡</li><li>å½“ä»»æ„ä¸¤ä¸ªé›†åˆåˆå¹¶ä¸ºä¸€ä¸ªé›†åˆæ—¶ï¼Œä»¤å­—æ®µ<code>c</code>å‡ä¸€</li><li>ä»å³ä¸Šå¾€å·¦ä¸‹éå†ï¼Œæˆ‘ä»¬ä¸éœ€è¦æ‰¾å››ä¸ªæ–¹å‘ï¼Œåªéœ€è¦æ‰¾å·¦ä¸‹ä¸¤ä¸ªæ–¹å‘å³å¯(åšä¸ªå°å‰ªæ)</li><li>å³ï¼š<code>for x,y in [(i+1,j),(i,j+1)] </code>å¯ä»¥æ€è€ƒä¸ºä»€ä¹ˆèƒ½åšå‰ªæã€</li></ul><p><strong>å®è´¨</strong></p><p>è¿é€šå—çš„å¤§å°</p><p><strong>å®ç°</strong></p><p>ç”±äºè¿™æ˜¯ç¬¬ä¸€é¢˜ï¼Œæˆ‘ä»¬è´´ä¸€ä¸ªä½è€¦åˆçš„å†™æ³•ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">numIslands</span>(<span class="params">self, grid: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">str</span>]]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        m=<span class="built_in">len</span>(grid)</span><br><span class="line">        <span class="keyword">if</span> m==<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        n=<span class="built_in">len</span>(grid[<span class="number">0</span>])</span><br><span class="line">        u=UnionSet(grid)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> grid[i][j]==<span class="string">&quot;1&quot;</span>:</span><br><span class="line">                <span class="comment"># é¿å…é‡å¤è®¡æ•°</span></span><br><span class="line">                    <span class="comment"># å¾€å·¦ä¸‹æ‰¾</span></span><br><span class="line">                    <span class="keyword">for</span> a,b <span class="keyword">in</span> [(i+<span class="number">1</span>,j),(i,j+<span class="number">1</span>)]:</span><br><span class="line">                        <span class="keyword">if</span> a&lt;m <span class="keyword">and</span> b&lt;n <span class="keyword">and</span> grid[a][b]==<span class="string">&quot;1&quot;</span>:</span><br><span class="line">                            <span class="comment"># æ‰¾åˆ°å°å¼Ÿäº†ï¼Œå¸æ”¶è¿›å¸®æ´¾</span></span><br><span class="line">                            u.union(i*n+j,a*n+b)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> u.getCount()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UnionSet</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,grid</span>):</span><br><span class="line">        <span class="comment"># å¤šå°‘ä¸ªå¸®æ´¾</span></span><br><span class="line">        self.m,self.n=<span class="built_in">len</span>(grid),<span class="built_in">len</span>(grid[<span class="number">0</span>])</span><br><span class="line">        self.parents=[-<span class="number">1</span>]*(self.m*self.n)</span><br><span class="line">        <span class="comment"># æ¯ä¸ªå¸®æ´¾æœ‰å¤šå°‘å®åŠ›</span></span><br><span class="line">        self.rank=[<span class="number">0</span>]*(self.m*self.n)</span><br><span class="line">        <span class="comment"># åå¹¶ä¹‹åçš„å¸®æ´¾æ•°é‡</span></span><br><span class="line">        self.count=<span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># ç”Ÿæˆæ±Ÿæ¹–ä¸­</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(self.m):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(self.n):</span><br><span class="line">                <span class="comment"># æœ‰èƒ½åŠ›è‡ªæˆä¸€æ´¾</span></span><br><span class="line">                <span class="keyword">if</span> grid[i][j]==<span class="string">&quot;1&quot;</span>:</span><br><span class="line">                    self.parents[i*self.n+j]=i*self.n+j</span><br><span class="line">                    self.count+=<span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">find</span>(<span class="params">self,x</span>):</span><br><span class="line">        <span class="comment"># æ‘‡äººè§„åˆ™</span></span><br><span class="line">        <span class="keyword">if</span> self.parents[x]!=x:</span><br><span class="line">            self.parents[x]=self.find(self.parents[x])</span><br><span class="line">        <span class="keyword">return</span> self.parents[x]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">union</span>(<span class="params">self,a,b</span>):</span><br><span class="line">        <span class="comment"># åå¹¶è§„åˆ™</span></span><br><span class="line">        roota,rootb=self.find(a),self.find(b)</span><br><span class="line">        <span class="comment"># ä¸æ˜¯ä¸€æ´¾</span></span><br><span class="line">        <span class="keyword">if</span> roota!=rootb:</span><br><span class="line">            <span class="comment"># å°å¸®æ´¾å¹¶å…¥å¤§å¸®æ´¾</span></span><br><span class="line">            <span class="keyword">if</span> self.rank[roota]&lt;self.rank[rootb]:</span><br><span class="line">                roota,rootb=rootb,roota</span><br><span class="line">            self.parents[rootb]=roota</span><br><span class="line">            <span class="keyword">if</span> self.rank[roota]==self.rank[rootb]:</span><br><span class="line">                <span class="comment"># åŒçº§åˆ«çš„æƒ…å†µä¸‹ï¼Œèƒ½å¤Ÿç™¾å°ºç«¿å¤´æ›´è¿›ä¸€æ­¥</span></span><br><span class="line">                self.rank[roota]+=<span class="number">1</span></span><br><span class="line">            self.count-=<span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getCount</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.count</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°ç‰ˆæœ¬ä¸­æˆ‘ä»¬å•ç‹¬ç»´æŠ¤äº†<code>UF</code>çš„ç»“æ„ï¼Œæ–¹ä¾¿ç»´æŠ¤å’Œé‡å¤ä½¿ç”¨ã€‚è€Œä¸ºäº†å¿«ï¼Œä¹Ÿå¯ä»¥å°†<code>UF</code>ç›´æ¥å†™åˆ°ä»£ç å—ä¸­ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">numIslands</span>(<span class="params">self, grid: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">str</span>]]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        m=<span class="built_in">len</span>(grid)</span><br><span class="line">        <span class="keyword">if</span> m&lt;=<span class="number">0</span>:<span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        n=<span class="built_in">len</span>(grid[<span class="number">0</span>])</span><br><span class="line">        </span><br><span class="line">        cnt=m*n<span class="comment"># è®¡æ•°</span></span><br><span class="line">        pa=[i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m*n)] <span class="comment"># äºŒç»´å±•å¹³æˆä¸€ç»´çš„çˆ¶èŠ‚ç‚¹</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">find</span>(<span class="params">x</span>):<span class="comment"># å¯»å€+è·¯å¾„å‹ç¼©</span></span><br><span class="line">            <span class="keyword">if</span> pa[x]!=x:</span><br><span class="line">                pa[x]=find(pa[x])</span><br><span class="line">            <span class="keyword">return</span> pa[x]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">                <span class="keyword">if</span> grid[i][j]==<span class="string">&quot;1&quot;</span>:<span class="comment"># &quot;1&quot;çš„æ—¶å€™åˆå¹¶</span></span><br><span class="line">                    <span class="keyword">for</span> x,y <span class="keyword">in</span> [(i+<span class="number">1</span>,j),(i,j+<span class="number">1</span>)]:</span><br><span class="line">                        <span class="keyword">if</span> x&lt;m <span class="keyword">and</span> y&lt;n <span class="keyword">and</span> grid[x][y]==<span class="string">&quot;1&quot;</span>:<span class="comment"># åˆå¹¶     </span></span><br><span class="line">                            roota,rootb=find(i*n+j),find(x*n+y)</span><br><span class="line">                            <span class="keyword">if</span> roota!=rootb:</span><br><span class="line">                                pa[rootb]=roota</span><br><span class="line">                                cnt-=<span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    cnt-=<span class="number">1</span> <span class="comment"># &quot;0&quot;çš„æ—¶å€™è®¡æ•°å‡ä¸€</span></span><br><span class="line">        <span class="keyword">return</span> cnt</span><br></pre></td></tr></table></figure><hr><h4 id="2ï¸âƒ£-LC547çœä»½æ•°é‡">2ï¸âƒ£ LC547çœä»½æ•°é‡</h4><p>æ¥æº:<a href="https://leetcode.cn/problems/number-of-provinces/">https://leetcode.cn/problems/number-of-provinces/</a></p><p>æœ‰ n ä¸ªåŸå¸‚ï¼Œå…¶ä¸­ä¸€äº›å½¼æ­¤ç›¸è¿ï¼Œå¦ä¸€äº›æ²¡æœ‰ç›¸è¿ã€‚å¦‚æœåŸå¸‚ a ä¸åŸå¸‚ b ç›´æ¥ç›¸è¿ï¼Œä¸”åŸå¸‚ b ä¸åŸå¸‚ c ç›´æ¥ç›¸è¿ï¼Œé‚£ä¹ˆåŸå¸‚ a ä¸åŸå¸‚ c é—´æ¥ç›¸è¿ã€‚</p><p>çœä»½ æ˜¯ä¸€ç»„ç›´æ¥æˆ–é—´æ¥ç›¸è¿çš„åŸå¸‚ï¼Œç»„å†…ä¸å«å…¶ä»–æ²¡æœ‰ç›¸è¿çš„åŸå¸‚ã€‚</p><p>ç»™ä½ ä¸€ä¸ª n x n çš„çŸ©é˜µ isConnected ï¼Œå…¶ä¸­ isConnected[i][j] = 1 è¡¨ç¤ºç¬¬ i ä¸ªåŸå¸‚å’Œç¬¬ j ä¸ªåŸå¸‚ç›´æ¥ç›¸è¿ï¼Œè€Œ isConnected[i][j] = 0 è¡¨ç¤ºäºŒè€…ä¸ç›´æ¥ç›¸è¿ã€‚</p><p>è¿”å›çŸ©é˜µä¸­ çœä»½ çš„æ•°é‡ã€‚</p><p><strong>ç¤ºä¾‹</strong></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šisConnected = [[<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],[<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">2</span></span><br></pre></td></tr></table></figure><p><strong>æ€è·¯</strong></p><p>è¿™é¢˜è·Ÿ200æ˜¯æ¢æ±¤ä¸æ¢è¯å•Šï¼Œåªä¸è¿‡å˜æˆæ•°ç»„äº†ã€‚</p><p>ç»™çš„æ˜¯é‚»æ¥è¡¨ï¼Œè¿™ä¹Ÿæ˜¯å›¾ç»“æ„ä¸­æ¯”è¾ƒé‡è¦çš„ä¸€ç¯ã€‚é€šè¿‡é‚»æ¥è¡¨ï¼Œèƒ½å¤Ÿå¿«é€Ÿå®ç°è¿é€šå…³ç³»çš„æ„å»ºã€‚</p><p><strong>å®è´¨</strong></p><p>è¿é€šå—çš„æ•°é‡</p><p><strong>å®ç°</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">findCircleNum</span>(<span class="params">self, isConnected: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        n=<span class="built_in">len</span>(isConnected)</span><br><span class="line">        pa=[i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line">        cnt=n</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">find</span>(<span class="params">x</span>):</span><br><span class="line">            <span class="keyword">if</span> pa[x]!=x:</span><br><span class="line">                pa[x]=find(pa[x])</span><br><span class="line">            <span class="keyword">return</span> pa[x]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i+<span class="number">1</span>,n): <span class="comment"># æˆ‘ä»¬åªè¦ä¸Šä¸‰è§’çŸ©é˜µå°±å¥½äº†</span></span><br><span class="line">                <span class="keyword">if</span> isConnected[i][j]:</span><br><span class="line">                    ri,rj=find(i),find(j)</span><br><span class="line">                    <span class="keyword">if</span> ri!=rj:</span><br><span class="line">                        pa[ri]=rj</span><br><span class="line">                        cnt-=<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> cnt</span><br></pre></td></tr></table></figure><hr><h4 id="3ï¸âƒ£-LC695-å²›å±¿çš„æœ€å¤§é¢ç§¯">3ï¸âƒ£ LC695 å²›å±¿çš„æœ€å¤§é¢ç§¯</h4><p><strong>æ¥æº</strong>ï¼š<a href="https://leetcode.cn/problems/max-area-of-island/">https://leetcode.cn/problems/max-area-of-island/</a></p><p>ç»™ä½ ä¸€ä¸ªå¤§å°ä¸º m x n çš„äºŒè¿›åˆ¶çŸ©é˜µ grid ã€‚</p><p>å²›å±¿ æ˜¯ç”±ä¸€äº›ç›¸é‚»çš„ 1 (ä»£è¡¨åœŸåœ°) æ„æˆçš„ç»„åˆï¼Œè¿™é‡Œçš„ã€Œç›¸é‚»ã€è¦æ±‚ä¸¤ä¸ª 1 å¿…é¡»åœ¨ æ°´å¹³æˆ–è€…ç«–ç›´çš„å››ä¸ªæ–¹å‘ä¸Š ç›¸é‚»ã€‚ä½ å¯ä»¥å‡è®¾ grid çš„å››ä¸ªè¾¹ç¼˜éƒ½è¢« 0ï¼ˆä»£è¡¨æ°´ï¼‰åŒ…å›´ç€ã€‚</p><p>å²›å±¿çš„é¢ç§¯æ˜¯å²›ä¸Šå€¼ä¸º 1 çš„å•å…ƒæ ¼çš„æ•°ç›®ã€‚</p><p>è®¡ç®—å¹¶è¿”å› grid ä¸­æœ€å¤§çš„å²›å±¿é¢ç§¯ã€‚å¦‚æœæ²¡æœ‰å²›å±¿ï¼Œåˆ™è¿”å›é¢ç§¯ä¸º 0 ã€‚</p><p><strong>ç¤ºä¾‹</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šgrid = [[<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line">           [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line">           [<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line">           [<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line">           [<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line">           [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line">           [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span><br><span class="line">           [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">6</span></span><br></pre></td></tr></table></figure><p><strong>æ€æƒ³</strong></p><p>éå†æ•´ä¸ªåŒºåŸŸï¼Œæ„å»ºè¿é€šå—ï¼Œç»´æŠ¤ä¸€ä¸ªæœ€å¤§è¿é€šå—é¢ç§¯</p><p><strong>å®è´¨</strong></p><p>è¿é€šå—çš„å¤§å°</p><p><strong>å®ç°</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">maxAreaOfIsland</span>(<span class="params">self, grid: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        m,n=<span class="built_in">len</span>(grid),<span class="built_in">len</span>(grid[<span class="number">0</span>])</span><br><span class="line">        pa=[i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m*n)]</span><br><span class="line">        rank=[<span class="number">1</span>]*(m*n)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">find</span>(<span class="params">x</span>):</span><br><span class="line">            <span class="keyword">if</span> pa[x]!=x:</span><br><span class="line">                pa[x]=find(pa[x])</span><br><span class="line">            <span class="keyword">return</span> pa[x]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> grid[i][j]==<span class="number">1</span>:</span><br><span class="line">                    <span class="keyword">for</span> x,y <span class="keyword">in</span> [(i+<span class="number">1</span>,j),(i,j+<span class="number">1</span>)]:</span><br><span class="line">                        <span class="keyword">if</span> x&lt;m <span class="keyword">and</span> y&lt;n <span class="keyword">and</span> grid[x][y]==<span class="number">1</span>:</span><br><span class="line">                            rx,ry=find(i*n+j),find(x*n+y)</span><br><span class="line">                            <span class="keyword">if</span> rx!=ry:</span><br><span class="line">                                <span class="keyword">if</span> rank[rx]&lt;rank[ry]:</span><br><span class="line">                                    rx,ry=ry,rx</span><br><span class="line">                                pa[ry]=rx</span><br><span class="line">                                rank[rx]+=rank[ry]</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    rank[i*n+j]=<span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(rank)</span><br></pre></td></tr></table></figure><p><strong>æŠ€å·§</strong></p><ul><li>æˆ‘ä»¬å°†æ¯ä¸€ä¸ªåƒç´ ç‚¹è§†ä¸ºä¸€ä¸ªç‹¬ç«‹ä¸ªä½“ï¼Œå› è€Œæ•´ä¸ªæ ‘çš„å¶å­ç»“ç‚¹æœ‰<code>m*n</code>ä¸ªï¼Œ<code>pa</code>åº”è¯¥å¼€åˆ°è¿™æ ·çš„ç©ºé—´</li><li>ä¸¤ä¸ªè¿é€šå—åˆå¹¶çš„æ—¶å€™ï¼Œå¯ä»¥å¾—åˆ°ä¸€ä¸ªæ–°çš„è¿é€šå—ï¼Œè¿™ä¸ªè¿é€šå—çš„å¤§å°ç­‰äºä¸¤ä¸ªè¿é€šå—ä¹‹å’Œ</li><li>ä»å·¦ä¸Šå¾€å³ä¸‹éå†ï¼Œæ¯æ¬¡åªéœ€è¦æ‰¾åˆ°å³ä¸‹æ–¹å‘å°±å¯ä»¥äº†</li></ul><hr><h4 id="4ï¸âƒ£-LC952-æŒ‰å…¬å› æ•°è®¡ç®—æœ€å¤§ç»„ä»¶å¤§å°">4ï¸âƒ£ LC952 æŒ‰å…¬å› æ•°è®¡ç®—æœ€å¤§ç»„ä»¶å¤§å°</h4><p>é“¾æ¥ï¼š<a href="https://leetcode.cn/problems/largest-component-size-by-common-factor">https://leetcode.cn/problems/largest-component-size-by-common-factor</a></p><p>ç»™å®šä¸€ä¸ªç”±ä¸åŒæ­£æ•´æ•°çš„ç»„æˆçš„éç©ºæ•°ç»„ nums ï¼Œè€ƒè™‘ä¸‹é¢çš„å›¾ï¼š</p><p>æœ‰ nums.length ä¸ªèŠ‚ç‚¹ï¼ŒæŒ‰ä» nums[0] åˆ° nums[nums.length - 1] æ ‡è®°ï¼›<br>åªæœ‰å½“ nums[i] å’Œ nums[j] å…±ç”¨ä¸€ä¸ªå¤§äº 1 çš„å…¬å› æ•°æ—¶ï¼Œnums[i] å’Œ nums[j]ä¹‹é—´æ‰æœ‰ä¸€æ¡è¾¹ã€‚<br>è¿”å› å›¾ä¸­æœ€å¤§è¿é€šç»„ä»¶çš„å¤§å° ã€‚</p><p><strong>ç¤ºä¾‹</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">4</span>,<span class="number">6</span>,<span class="number">15</span>,<span class="number">35</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br></pre></td></tr></table></figure><p><strong>æ€æƒ³</strong></p><p>åˆ¤æ–­å…¬å› æ•°ï¼Œå­˜åœ¨å…¬å› æ•°æ—¶ï¼Œç›¸å½“äºå­˜åœ¨è¾¹ã€‚å› è€Œå…¬å› æ•°ä½œä¸ºæ¡¥æ¢ï¼Œå¯ä»¥æ„å»ºæŸä¸ªç‚¹åˆ°å¦ä¸€ä¸ªç‚¹çš„è¿é€šå—ã€‚</p><p><strong>å®è´¨</strong></p><p>å¯»æ‰¾è´¨å› æ•°+å¹¶æŸ¥é›†</p><p><strong>å®ç°</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ¬§æ‹‰ç­›</span></span><br><span class="line">n=<span class="built_in">int</span>(<span class="number">10e5</span>+<span class="number">1</span>)</span><br><span class="line">isPrime=[<span class="number">1</span>]*n</span><br><span class="line">prime=[]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>,n):</span><br><span class="line">    <span class="keyword">if</span> isPrime[i]:</span><br><span class="line">        prime.append(i)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> prime:</span><br><span class="line">        <span class="keyword">if</span> j*i&gt;=n:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        isPrime[j*i]=<span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> i%j==<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">largestComponentSize</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        <span class="comment"># è¿™é¢˜è€ƒå¯Ÿç‚¹æœ‰ä¸¤ä¸ªï¼š</span></span><br><span class="line">        <span class="comment"># + è´¨å› æ•°åˆ†è§£</span></span><br><span class="line">        <span class="comment"># + è¿é€šæ€§</span></span><br><span class="line">        <span class="comment"># è´¨å› æ•°åˆ†è§£é€šè¿‡æ¬§æ‹‰ç­›å°±å¯ä»¥è§£å†³</span></span><br><span class="line"></span><br><span class="line">        n=<span class="built_in">max</span>(nums)</span><br><span class="line">        pa=[i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n+<span class="number">1</span>)]</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">find</span>(<span class="params">x</span>):</span><br><span class="line">            <span class="keyword">if</span> pa[x]!=x:</span><br><span class="line">                pa[x]=find(pa[x])</span><br><span class="line">            <span class="keyword">return</span> pa[x]</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">union</span>(<span class="params">a,b</span>):</span><br><span class="line">            <span class="keyword">if</span> (ra:=find(a))!=(rb:=find(b)):</span><br><span class="line">                pa[rb]=ra</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> idx,i <span class="keyword">in</span> <span class="built_in">enumerate</span>(nums):</span><br><span class="line">            tem=nums[idx]</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> prime:</span><br><span class="line">                <span class="keyword">if</span> j**<span class="number">2</span>&gt;tem:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="comment"># å…¬å› å­è¿æ¥</span></span><br><span class="line">                <span class="keyword">if</span> tem%j==<span class="number">0</span>:</span><br><span class="line">                    union(i,j)</span><br><span class="line">                <span class="comment"># å»é™¤å…¬å› å­</span></span><br><span class="line">                <span class="keyword">while</span> tem%j==<span class="number">0</span>:</span><br><span class="line">                    tem//=j</span><br><span class="line">            <span class="keyword">if</span> tem!=<span class="number">1</span>:</span><br><span class="line">                union(tem,i)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(Counter(find(num) <span class="keyword">for</span> num <span class="keyword">in</span> nums).values())</span><br></pre></td></tr></table></figure><hr><h3 id="å¸¸è§é—®é¢˜ï¼š-åŠ å…¥è¿é€šå—">å¸¸è§é—®é¢˜ï¼š åŠ å…¥è¿é€šå—</h3><blockquote><p>æ­¤ç±»é—®é¢˜åœ¨æ„å»ºå½“å‰è¿é€šå—åï¼Œå¾€å¾€é€šè¿‡åŠ å…¥æ–°çš„è¿é€šå—å¢åŠ éš¾åº¦</p></blockquote><h4 id="1ï¸âƒ£-LC778-æ°´ä½ä¸Šå‡æ¸¸æ³³æ± ">1ï¸âƒ£ LC778 æ°´ä½ä¸Šå‡æ¸¸æ³³æ± </h4><p><strong>æ¥æº:</strong> <a href="https://leetcode.cn/problems/swim-in-rising-water/">https://leetcode.cn/problems/swim-in-rising-water/</a></p><p>åœ¨ä¸€ä¸ª n x n çš„æ•´æ•°çŸ©é˜µ grid ä¸­ï¼Œæ¯ä¸€ä¸ªæ–¹æ ¼çš„å€¼ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>g</mi><mi>r</mi><mi>i</mi><mi>d</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo stretchy="false">[</mo><mi>j</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">grid[i][j]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mord mathnormal">i</span><span class="mord mathnormal">d</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span></span></span></span>è¡¨ç¤ºä½ç½® (i, j) çš„å¹³å°é«˜åº¦ã€‚</p><p>å½“å¼€å§‹ä¸‹é›¨æ—¶ï¼Œåœ¨æ—¶é—´ä¸º t æ—¶ï¼Œæ°´æ± ä¸­çš„æ°´ä½ä¸º t ã€‚ä½ å¯ä»¥ä»ä¸€ä¸ªå¹³å°æ¸¸å‘å››å‘¨ç›¸é‚»çš„ä»»æ„ä¸€ä¸ªå¹³å°ï¼Œä½†æ˜¯å‰ææ˜¯æ­¤æ—¶æ°´ä½å¿…é¡»åŒæ—¶æ·¹æ²¡è¿™ä¸¤ä¸ªå¹³å°ã€‚å‡å®šä½ å¯ä»¥ç¬é—´ç§»åŠ¨æ— é™è·ç¦»ï¼Œä¹Ÿå°±æ˜¯é»˜è®¤åœ¨æ–¹æ ¼å†…éƒ¨æ¸¸åŠ¨æ˜¯ä¸è€—æ—¶çš„ã€‚å½“ç„¶ï¼Œåœ¨ä½ æ¸¸æ³³çš„æ—¶å€™ä½ å¿…é¡»å¾…åœ¨åæ ‡æ–¹æ ¼é‡Œé¢ã€‚</p><p>ä½ ä»åæ ‡æ–¹æ ¼çš„å·¦ä¸Šå¹³å° (0ï¼Œ0) å‡ºå‘ã€‚è¿”å› ä½ åˆ°è¾¾åæ ‡æ–¹æ ¼çš„å³ä¸‹å¹³å° (n-1, n-1) æ‰€éœ€çš„æœ€å°‘æ—¶é—´ ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: grid = [[<span class="number">0</span>,<span class="number">2</span>],[<span class="number">1</span>,<span class="number">3</span>]]</span><br><span class="line">è¾“å‡º: <span class="number">3</span></span><br><span class="line">è§£é‡Š:</span><br><span class="line">æ—¶é—´ä¸º<span class="number">0</span>æ—¶ï¼Œä½ ä½äºåæ ‡æ–¹æ ¼çš„ä½ç½®ä¸º (<span class="number">0</span>, <span class="number">0</span>)ã€‚</span><br><span class="line">æ­¤æ—¶ä½ ä¸èƒ½æ¸¸å‘ä»»æ„æ–¹å‘ï¼Œå› ä¸ºå››ä¸ªç›¸é‚»æ–¹å‘å¹³å°çš„é«˜åº¦éƒ½å¤§äºå½“å‰æ—¶é—´ä¸º <span class="number">0</span> æ—¶çš„æ°´ä½ã€‚</span><br><span class="line">ç­‰æ—¶é—´åˆ°è¾¾ <span class="number">3</span> æ—¶ï¼Œä½ æ‰å¯ä»¥æ¸¸å‘å¹³å° (<span class="number">1</span>, <span class="number">1</span>). å› ä¸ºæ­¤æ—¶çš„æ°´ä½æ˜¯ <span class="number">3</span>ï¼Œåæ ‡æ–¹æ ¼ä¸­çš„å¹³å°æ²¡æœ‰æ¯”æ°´ä½ <span class="number">3</span> æ›´é«˜çš„ï¼Œæ‰€ä»¥ä½ å¯ä»¥æ¸¸å‘åæ ‡æ–¹æ ¼ä¸­çš„ä»»æ„ä½ç½®</span><br></pre></td></tr></table></figure><p><strong>æ€è·¯</strong></p><p>å› ä¸ºæ—¶é—´åŒºé—´ç»™å®šäº†ï¼Œåœ¨<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>=</mo><mi>n</mi><mo>âˆ—</mo><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">t=n*n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4653em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>çš„æ—¶åˆ»ä¸€å®šèƒ½å¤Ÿéå†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡äºŒåˆ†æ³•çš„æ–¹å¼æ‰¾åˆ°æœ€å°å¯ä»¥æ»¡è¶³æ¡ä»¶çš„æ—¶é—´ã€‚æˆ–è€…å‘¢ï¼Œæˆ‘ä»¬é€šè¿‡å¹¶æŸ¥é›†çš„æ–¹å¼ï¼Œåœ¨æ¯ä¸€æ—¶åˆ»è”é€šæ–°çš„èŠ‚ç‚¹ï¼Œåˆ¤æ–­èµ·ç‚¹å’Œç»ˆç‚¹çš„è¿é€šæ€§å°±å¯ä»¥ã€‚å½“ç„¶ï¼Œä¸ºäº†æ–¹ä¾¿åŠ å…¥è”é€šèŠ‚ç‚¹ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å…ˆç”¨<code>hash</code>è¡¨è®°å½•ä½ç½®ã€‚</p><p><strong>æ ¸å¿ƒ</strong></p><p>åŠ å…¥è¿é€šå—ååˆ¤æ–­è¿é€šæ€§</p><p><strong>å®ç°</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">swimInWater</span>(<span class="params">self, grid</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        :type grid: List[List[int]]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        n=<span class="built_in">len</span>(grid)</span><br><span class="line">        u=UnionFind(n**<span class="number">2</span>)</span><br><span class="line">        <span class="built_in">dir</span>=[[<span class="number">1</span>,<span class="number">0</span>],[-<span class="number">1</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">1</span>],[<span class="number">0</span>,-<span class="number">1</span>]]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># ä¸ºäº†æ–¹ä¾¿éå†</span></span><br><span class="line">        <span class="comment"># æˆ‘ä»¬å¯ä»¥ç”¨è´ªå¿ƒæ€æƒ³ï¼šæ¯æ¬¡ä»æœ€å°æ»¡è¶³é˜ˆå€¼tçš„ç‚¹å‡ºå‘ï¼Œè”é€šå‘¨å›´çš„ç‚¹</span></span><br><span class="line">        <span class="comment"># ç”±äºtæ˜¯å”¯ä¸€çš„ æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦æ³¨é‡å½“ä¸‹å³å¯</span></span><br><span class="line">        <span class="comment"># å› ä¸ºåˆ°tæ—¶åˆ»ï¼Œæ‰€æœ‰èƒ½å¤Ÿè¿é€šçš„éƒ½å·²ç»è”é€šäº†</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># æˆ‘ä»¬å¯ä»¥ç”¨hashè¡¨è®°å½•ä½ç½®</span></span><br><span class="line">        hashmap=collections.defaultdict(<span class="built_in">list</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">                hashmap[grid[i][j]]=[i,j]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># tæ¬¡å¾ªç¯</span></span><br><span class="line">        <span class="keyword">for</span> t <span class="keyword">in</span> <span class="built_in">range</span>(n**<span class="number">2</span>):</span><br><span class="line">            idx=hashmap[t]</span><br><span class="line">            <span class="keyword">for</span> dx,dy <span class="keyword">in</span> <span class="built_in">dir</span>:</span><br><span class="line">                x=idx[<span class="number">0</span>]+dx</span><br><span class="line">                y=idx[<span class="number">1</span>]+dy</span><br><span class="line">                <span class="keyword">if</span> x&gt;=<span class="number">0</span> <span class="keyword">and</span> x&lt;n <span class="keyword">and</span> y&gt;=<span class="number">0</span> <span class="keyword">and</span> y&lt;n <span class="keyword">and</span> grid[x][y]&lt;=t:</span><br><span class="line">                    u.union(idx[<span class="number">0</span>]*n+idx[<span class="number">1</span>],x*n+y)</span><br><span class="line">            <span class="comment"># åˆ¤æ–­æ­¤æ—¶çš„è¿é€šæ€§</span></span><br><span class="line">            <span class="keyword">if</span> u.isConnect(<span class="number">0</span>,n*n-<span class="number">1</span>):</span><br><span class="line">                <span class="keyword">return</span> t</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UnionFind</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,n</span>):</span><br><span class="line">        self.pa=[i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">find</span>(<span class="params">self,x</span>):</span><br><span class="line">        <span class="keyword">if</span> self.pa[x]!=x:</span><br><span class="line">            self.pa[x]=self.find(self.pa[x])</span><br><span class="line">        <span class="keyword">return</span> self.pa[x]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">union</span>(<span class="params">self,a,b</span>):</span><br><span class="line">        roota,rootb=self.find(a),self.find(b)</span><br><span class="line">        <span class="keyword">if</span> roota!=rootb:</span><br><span class="line">            self.pa[rootb]=roota</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">isConnect</span>(<span class="params">self,a,b</span>):</span><br><span class="line">        <span class="keyword">return</span> self.find(a)==self.find(b)</span><br></pre></td></tr></table></figure><hr><h4 id="2ï¸âƒ£-LC827-æœ€å¤§äººå·¥å²›">2ï¸âƒ£ LC827 æœ€å¤§äººå·¥å²›</h4><p><strong>æ¥æº</strong>: <a href="https://leetcode.cn/problems/making-a-large-island/">https://leetcode.cn/problems/making-a-large-island/</a></p><p>ç»™ä½ ä¸€ä¸ªå¤§å°ä¸º n x n äºŒè¿›åˆ¶çŸ©é˜µ grid ã€‚æœ€å¤š åªèƒ½å°†ä¸€æ ¼ 0 å˜æˆ 1 ã€‚</p><p>è¿”å›æ‰§è¡Œæ­¤æ“ä½œåï¼Œgrid ä¸­æœ€å¤§çš„å²›å±¿é¢ç§¯æ˜¯å¤šå°‘ï¼Ÿ</p><p>å²›å±¿ ç”±ä¸€ç»„ä¸Šã€ä¸‹ã€å·¦ã€å³å››ä¸ªæ–¹å‘ç›¸è¿çš„ 1 å½¢æˆã€‚</p><p><strong>ç¤ºä¾‹</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: grid = [[<span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">1</span>]]</span><br><span class="line">è¾“å‡º: <span class="number">3</span></span><br><span class="line">è§£é‡Š: å°†ä¸€æ ¼<span class="number">0</span>å˜æˆ<span class="number">1</span>ï¼Œæœ€ç»ˆè¿é€šä¸¤ä¸ªå°å²›å¾—åˆ°é¢ç§¯ä¸º <span class="number">3</span> çš„å²›å±¿ã€‚</span><br></pre></td></tr></table></figure><p><strong>æ€è·¯</strong></p><p>827ç›¸å½“äº695çš„è¿›é˜¶ï¼Œåœ¨695çš„æ¿å­ä¸Šï¼ŒåŠ ä¸Šäº†å¯ä»¥diyä½ç½®çš„è¿é€šå—ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡<code>å›æº¯+å¹¶æŸ¥é›†</code>çš„æ–¹å¼å®ç°(ç©·ä¸¾çš„æœ¬è´¨ç½¢äº†)</p><p><strong>æ ¸å¿ƒ</strong></p><p>è¿é€šå—å¤§å°+å¯å˜è¿é€šå—</p><p><strong>å®ç°</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">largestIsland</span>(<span class="params">self, grid</span>):</span><br><span class="line">        <span class="comment"># å¹¶æŸ¥é›†+å›æº¯</span></span><br><span class="line">        n=<span class="built_in">len</span>(grid)</span><br><span class="line">        pa=[i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n*n)]</span><br><span class="line">        rank=[<span class="number">1</span>]*(n*n)</span><br><span class="line">        maxVal=<span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">find</span>(<span class="params">x</span>):</span><br><span class="line">            <span class="keyword">if</span> pa[x]!=x:</span><br><span class="line">                pa[x]=find(pa[x])</span><br><span class="line">            <span class="keyword">return</span> pa[x]</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># åˆå§‹åŒ–å¹¶æŸ¥é›†</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">                <span class="keyword">if</span> grid[i][j]==<span class="number">1</span>:</span><br><span class="line">                    </span><br><span class="line">                    <span class="keyword">for</span> x,y <span class="keyword">in</span> [(i+<span class="number">1</span>,j),(i,j+<span class="number">1</span>)]:</span><br><span class="line">                        <span class="keyword">if</span> x&lt;n <span class="keyword">and</span> y&lt;n <span class="keyword">and</span> grid[x][y]==<span class="number">1</span>:</span><br><span class="line">                            ra,rb=find(i*n+j),find(x*n+y)</span><br><span class="line">                            <span class="keyword">if</span> ra!=rb:</span><br><span class="line">                                pa[rb]=ra</span><br><span class="line">                                rank[ra]+=rank[rb]</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    rank[i*n+j]=<span class="number">0</span></span><br><span class="line">        maxVal=<span class="built_in">max</span>(rank) <span class="comment"># è®°å½•å•¥ä¹Ÿä¸åŠ çš„æœ€å¤§å€¼</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">#--------------------------------------------------------------------#</span></span><br><span class="line">        <span class="comment">#                           åˆ°è¿™é‡Œä½ç½®å®Œå…¨æ˜¯695                       #</span></span><br><span class="line">        <span class="comment">#--------------------------------------------------------------------#</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># å›æº¯</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">                <span class="keyword">if</span> grid[i][j]==<span class="number">0</span>:</span><br><span class="line">                    <span class="comment"># åˆå¹¶ä¸Šä¸‹å·¦å³ä¸åŒæ ¹èŠ‚ç‚¹çš„è¿é€šå—</span></span><br><span class="line">                    tem_rank=<span class="number">0</span></span><br><span class="line">                    used=<span class="built_in">set</span>()</span><br><span class="line">                    <span class="keyword">for</span> x,y <span class="keyword">in</span> [(i-<span class="number">1</span>,j),(i+<span class="number">1</span>,j),(i,j-<span class="number">1</span>),(i,j+<span class="number">1</span>)]:</span><br><span class="line">                        <span class="keyword">if</span> x&gt;=<span class="number">0</span> <span class="keyword">and</span> x&lt;n <span class="keyword">and</span> y&gt;=<span class="number">0</span> <span class="keyword">and</span> y&lt;n <span class="keyword">and</span> grid[x][y]==<span class="number">1</span> <span class="keyword">and</span> (val:=find(x*n+y)) <span class="keyword">not</span> <span class="keyword">in</span> used:</span><br><span class="line">                            tem_rank+=rank[val]</span><br><span class="line">                            used.add(val)</span><br><span class="line">                    maxVal=<span class="built_in">max</span>(maxVal,tem_rank+<span class="number">1</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(maxv,maxVal)</span><br><span class="line">     </span><br></pre></td></tr></table></figure><hr><h4 id="3ï¸âƒ£-LC128-æœ€é•¿è¿ç»­åºåˆ—">3ï¸âƒ£ LC128 æœ€é•¿è¿ç»­åºåˆ—</h4><p><strong>é“¾æ¥</strong>ï¼š<a href="https://leetcode.cn/problems/longest-consecutive-sequence">https://leetcode.cn/problems/longest-consecutive-sequence</a></p><p>ç»™å®šä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ nums ï¼Œæ‰¾å‡ºæ•°å­—è¿ç»­çš„æœ€é•¿åºåˆ—ï¼ˆä¸è¦æ±‚åºåˆ—å…ƒç´ åœ¨åŸæ•°ç»„ä¸­è¿ç»­ï¼‰çš„é•¿åº¦ã€‚</p><p>è¯·ä½ è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º O(n) çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚</p><p><strong>ç¤ºä¾‹</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šnums = [<span class="number">100</span>,<span class="number">4</span>,<span class="number">200</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br><span class="line">è§£é‡Šï¼šæœ€é•¿æ•°å­—è¿ç»­åºåˆ—æ˜¯ [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]ã€‚å®ƒçš„é•¿åº¦ä¸º <span class="number">4</span>ã€‚</span><br></pre></td></tr></table></figure><p><strong>æ€è·¯</strong></p><p>é€šè¿‡<code>hash</code>è¡¨ç»´æŠ¤å…ƒç´ ä¹‹é—´çš„ä½ç½®ï¼Œåˆ©ç”¨å¹¶æŸ¥é›†ä¿è¯å¤šä¸ªè¿é€šå—ä¹‹é—´çš„æ¯”è¾ƒã€‚åœ¨åŠ å…¥ä¸Šï¼Œä¸éœ€è¦å†å»è€ƒè™‘ä½ç½®é—®é¢˜ï¼Œåªéœ€è¦ç€çœ¼äºå½“ä¸‹ã€‚</p><p><strong>å®ç°</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">longestConsecutive</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line"></span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">        è¿™é¢˜æ˜¯ä¸ªå¥½é¢˜å•Š</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        hashè¡¨ã€å¹¶æŸ¥é›†ã€DPç­‰ç­‰éƒ½èƒ½åš(UFä¼šä¸ä¼šTLEï¼ŸçœŸçš„æ˜¯O(n)å—)</span></span><br><span class="line"><span class="string">        &#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># å¹¶æŸ¥é›†</span></span><br><span class="line">        n=<span class="built_in">len</span>(nums)</span><br><span class="line">        <span class="keyword">if</span> n==<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        hashset=&#123;&#125;</span><br><span class="line">        u=UnionSet(n)</span><br><span class="line">        <span class="comment"># è®²é“ç†ï¼Œæœ€åè¿˜æ˜¯è¦ç”¨hashè¡¨è¾…åŠ©å•Š</span></span><br><span class="line">        <span class="comment"># è¦ä¸ç„¶ä¹‹å‰çš„ç»“æ„ä¸å¤ªå¥½æ‰¾</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i,j <span class="keyword">in</span> <span class="built_in">enumerate</span>(nums):</span><br><span class="line">            <span class="keyword">if</span> j <span class="keyword">in</span> hashset.keys():</span><br><span class="line">                <span class="keyword">continue</span> <span class="comment"># æ‰¾è¿‡äº†</span></span><br><span class="line">            <span class="keyword">if</span> j-<span class="number">1</span> <span class="keyword">in</span> hashset.keys():</span><br><span class="line">                u.union(i,hashset[j-<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">if</span> j+<span class="number">1</span> <span class="keyword">in</span> hashset.keys():</span><br><span class="line">                u.union(i,hashset[j+<span class="number">1</span>])</span><br><span class="line">            hashset[j]=i</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> u.getV()</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UnionSet</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,x</span>):</span><br><span class="line">        self.pa=[i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(x)]</span><br><span class="line">        self.rank=[<span class="number">1</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(x)]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">find</span>(<span class="params">self,x</span>):</span><br><span class="line">        <span class="keyword">if</span> self.pa[x]!=x:</span><br><span class="line">            self.pa[x]=self.find(self.pa[x])</span><br><span class="line">        <span class="keyword">return</span> self.pa[x]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">union</span>(<span class="params">self,a,b</span>):</span><br><span class="line">        roota,rootb=self.find(a),self.find(b)</span><br><span class="line">        <span class="keyword">if</span> roota!=rootb:</span><br><span class="line">            self.pa[rootb]=roota</span><br><span class="line">            self.rank[roota]+=self.rank[rootb]</span><br><span class="line">            <span class="comment"># self.rank[rootb]=0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getV</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(self.rank)</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬æ¥çœ‹çœ‹<code>hash</code>è¡¨çš„åšæ³•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">longestConsecutive</span>(<span class="params">self, nums: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        hashset=<span class="built_in">set</span>(nums)</span><br><span class="line">        ans=<span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> nums:</span><br><span class="line">            val=i</span><br><span class="line">            <span class="keyword">if</span> val-<span class="number">1</span> <span class="keyword">not</span> <span class="keyword">in</span> hashset:</span><br><span class="line">                start=<span class="number">1</span></span><br><span class="line">                <span class="keyword">while</span> val+<span class="number">1</span> <span class="keyword">in</span> hashset:</span><br><span class="line">                    start+=<span class="number">1</span></span><br><span class="line">                    val+=<span class="number">1</span></span><br><span class="line">                ans=<span class="built_in">max</span>(ans,start)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure><hr><h3 id="å¸¸è§é—®é¢˜ï¼š-åˆ¤æ–­é‡å¤è¿æ¥">å¸¸è§é—®é¢˜ï¼š åˆ¤æ–­é‡å¤è¿æ¥</h3><blockquote><p>æ­¤ç±»é—®é¢˜ä¸€èˆ¬è·Ÿç¯ç»“æ„æœ‰å…³ï¼Œåˆ¤æ–­æ˜¯å¦äº§ç”Ÿäº†é‡å¤çš„è¿æ¥</p></blockquote><h4 id="1ï¸âƒ£-LC684-å†—ä½™è¿æ¥">1ï¸âƒ£ LC684 å†—ä½™è¿æ¥</h4><p>**é“¾æ¥ï¼š**<a href="https://leetcode.cn/problems/redundant-connection">https://leetcode.cn/problems/redundant-connection</a></p><p>æ ‘å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªè¿é€šä¸” æ— ç¯ çš„ æ— å‘ å›¾ã€‚</p><p>ç»™å®šå¾€ä¸€æ£µ n ä¸ªèŠ‚ç‚¹ (èŠ‚ç‚¹å€¼ 1ï½n) çš„æ ‘ä¸­æ·»åŠ ä¸€æ¡è¾¹åçš„å›¾ã€‚æ·»åŠ çš„è¾¹çš„ä¸¤ä¸ªé¡¶ç‚¹åŒ…å«åœ¨ 1 åˆ° n ä¸­é—´ï¼Œä¸”è¿™æ¡é™„åŠ çš„è¾¹ä¸å±äºæ ‘ä¸­å·²å­˜åœ¨çš„è¾¹ã€‚å›¾çš„ä¿¡æ¯è®°å½•äºé•¿åº¦ä¸º n çš„äºŒç»´æ•°ç»„ edges ï¼Œedges[i] = [ai, bi] è¡¨ç¤ºå›¾ä¸­åœ¨ ai å’Œ bi ä¹‹é—´å­˜åœ¨ä¸€æ¡è¾¹ã€‚</p><p>è¯·æ‰¾å‡ºä¸€æ¡å¯ä»¥åˆ å»çš„è¾¹ï¼Œåˆ é™¤åå¯ä½¿å¾—å‰©ä½™éƒ¨åˆ†æ˜¯ä¸€ä¸ªæœ‰ç€ n ä¸ªèŠ‚ç‚¹çš„æ ‘ã€‚å¦‚æœæœ‰å¤šä¸ªç­”æ¡ˆï¼Œåˆ™è¿”å›æ•°ç»„ edges ä¸­æœ€åå‡ºç°çš„è¾¹ã€‚</p><p><strong>ç¤ºä¾‹</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: edges = [[<span class="number">1</span>,<span class="number">2</span>], [<span class="number">1</span>,<span class="number">3</span>], [<span class="number">2</span>,<span class="number">3</span>]]</span><br><span class="line">è¾“å‡º: [<span class="number">2</span>,<span class="number">3</span>]</span><br></pre></td></tr></table></figure><p><strong>æ€è·¯</strong></p><p>è¿™é¢˜çš„æœ¬è´¨åœ¨äºæ ‘ä¸å¯ä»¥å‡ºç°ç¯ï¼Œä¸”ä¸å­˜åœ¨èŠ‚ç‚¹é—´çš„å…ˆååºï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥é‡‡ç”¨å¹¶æŸ¥é›†æ„å»ºè”é€šèŠ‚ç‚¹ã€‚å½“æŸä¸ªèŠ‚ç‚¹åŠ å…¥æ—¶ï¼Œè‹¥å­˜åœ¨ç¯ï¼Œåˆ™åˆå¹¶çš„ä¸¤ä¸ªèŠ‚ç‚¹å°†å…·æœ‰ç›¸åŒçš„çˆ¶èŠ‚ç‚¹ã€‚</p><p><strong>æ ¸å¿ƒ</strong></p><p>åˆ¤æ–­èŠ‚ç‚¹è¿é€šæ€§</p><p><strong>å®ç°</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">findRedundantConnection</span>(<span class="params">self, edges: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="type">List</span>[<span class="built_in">int</span>]:</span><br><span class="line">        <span class="comment"># è¿™é¢˜æˆ‘å·®ç‚¹æƒ³ç”¨åˆå¹¶ä»£æ›¿åˆ é™¤äº†</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># å®é™…ä¸Šä¸éœ€è¦</span></span><br><span class="line">        <span class="comment"># è¿™ä¸ªåªéœ€è¦åˆ¤æ–­æ˜¯å¦å‡ºç°ç¯å°±è¡Œäº†</span></span><br><span class="line">        <span class="comment"># ç›´æ¥å»ºå›¾çš„è¯æœ‰ç‚¹æµªè´¹æ—¶é—´</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># ç”¨å¹¶æŸ¥é›†åˆ¤æ–­è¿é€šæ€§å°±å¯ä»¥äº†</span></span><br><span class="line"></span><br><span class="line">        pa=&#123;&#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">find</span>(<span class="params">x</span>):</span><br><span class="line">            <span class="keyword">if</span> pa[x]!=x:</span><br><span class="line">                pa[x]=find(pa[x])</span><br><span class="line">            <span class="keyword">return</span> pa[x]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">union</span>(<span class="params">a,b</span>):</span><br><span class="line">            pa[find(b)]=find(a)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i,j <span class="keyword">in</span> edges:</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> i <span class="keyword">not</span> <span class="keyword">in</span> pa:</span><br><span class="line">                pa[i]=i</span><br><span class="line">            <span class="keyword">if</span> j <span class="keyword">not</span> <span class="keyword">in</span> pa:</span><br><span class="line">                pa[j]=j</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> find(i)!=find(j):</span><br><span class="line">                union(i,j)</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> [i,j]</span><br><span class="line">        <span class="keyword">return</span> []</span><br></pre></td></tr></table></figure><p><strong>æŠ€å·§</strong></p><ul><li>åŠ¨æ€å¼€å¹¶æŸ¥é›†èŠ‚ç‚¹</li></ul><hr><h3 id="å¸¸è§é—®é¢˜ï¼š-å µå¡"><strong>å¸¸è§é—®é¢˜ï¼š å µå¡</strong></h3><blockquote><p>è¿™ç±»é—®é¢˜å¾€å¾€åœ¨æ ‘çš„æ„å»ºä¸Šï¼Œé€šè¿‡å¢åŠ é™åˆ¶æ¡ä»¶ï¼Œé™åˆ¶è·¯å¾„</p></blockquote><h4 id="1ï¸âƒ£-LC2368-å—é™åˆ¶æ¡ä»¶ä¸‹å¯è¾¾åˆ°çš„èŠ‚ç‚¹æ•°ç›®">1ï¸âƒ£ LC2368 å—é™åˆ¶æ¡ä»¶ä¸‹å¯è¾¾åˆ°çš„èŠ‚ç‚¹æ•°ç›®</h4><p><strong>é“¾æ¥</strong>ï¼š<a href="https://leetcode.cn/problems/reachable-nodes-with-restrictions">https://leetcode.cn/problems/reachable-nodes-with-restrictions</a></p><p>ç°æœ‰ä¸€æ£µç”± n ä¸ªèŠ‚ç‚¹ç»„æˆçš„æ— å‘æ ‘ï¼ŒèŠ‚ç‚¹ç¼–å·ä» 0 åˆ° n - 1 ï¼Œå…±æœ‰ n - 1 æ¡è¾¹ã€‚</p><p>ç»™ä½ ä¸€ä¸ªäºŒç»´æ•´æ•°æ•°ç»„ edges ï¼Œé•¿åº¦ä¸º n - 1 ï¼Œå…¶ä¸­ edges[i] = [ai, bi] è¡¨ç¤ºæ ‘ä¸­èŠ‚ç‚¹ ai å’Œ bi ä¹‹é—´å­˜åœ¨ä¸€æ¡è¾¹ã€‚å¦ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ restricted è¡¨ç¤º å—é™ èŠ‚ç‚¹ã€‚</p><p>åœ¨ä¸è®¿é—®å—é™èŠ‚ç‚¹çš„å‰æä¸‹ï¼Œè¿”å›ä½ å¯ä»¥ä»èŠ‚ç‚¹ 0 åˆ°è¾¾çš„ æœ€å¤š èŠ‚ç‚¹æ•°ç›®ã€‚</p><p>æ³¨æ„ï¼ŒèŠ‚ç‚¹ 0 ä¸ ä¼šæ ‡è®°ä¸ºå—é™èŠ‚ç‚¹ã€‚</p><p><strong>ç¤ºä¾‹</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šn = <span class="number">7</span>, edges = [[<span class="number">0</span>,<span class="number">1</span>],[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">1</span>],[<span class="number">4</span>,<span class="number">0</span>],[<span class="number">0</span>,<span class="number">5</span>],[<span class="number">5</span>,<span class="number">6</span>]], restricted = [<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">4</span></span><br><span class="line">è§£é‡Šï¼šä¸Šå›¾æ‰€ç¤ºæ­£æ˜¯è¿™æ£µæ ‘ã€‚</span><br><span class="line">åœ¨ä¸è®¿é—®å—é™èŠ‚ç‚¹çš„å‰æä¸‹ï¼Œåªæœ‰èŠ‚ç‚¹ [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>] å¯ä»¥ä»èŠ‚ç‚¹ <span class="number">0</span> åˆ°è¾¾ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>æ€è·¯</strong></p><p>å­˜åœ¨é˜»ç¢èŠ‚ç‚¹è§†ä¸ºä¸å¯é€šè¡Œï¼Œç”±äºéœ€è¦æˆ‘ä»¬æ„å»ºæ ‘ï¼Œæ‰€ä»¥å¹¶ä¸èƒ½ç›´æ¥é€šè¿‡éå†çš„æ–¹å¼æ‰¾åˆ°ã€‚äºæ˜¯ï¼Œå½“æˆ‘ä»¬åœ¨æ„å»ºæ ‘çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡è®¡ç®—é›¶èŠ‚ç‚¹çš„è¿é€šå—å®ç°æ±‚èŠ‚ç‚¹çš„ç›®çš„ã€‚</p><p>åœ¨é‡åˆ°å—é™èŠ‚ç‚¹çš„æ—¶å€™ï¼Œä¸è¿›è¡Œè”é€šï¼Œé‚£ä¹ˆå¦‚æœæ²¡æœ‰å…¶ä»–æ”¯è·¯ï¼Œè¯¥è·¯å¾„åç»­çš„èŠ‚ç‚¹éƒ½ä¸ä¼šè¢«åŠ å…¥é›¶èŠ‚ç‚¹çš„è¿é€šå—ï¼Œè€Œæ˜¯ç‹¬ç«‹å½¢æˆè¿é€šå—ã€‚(ä¸€å…±æœ‰ä¸‰ç§ç±»å‹ï¼š é›¶èŠ‚ç‚¹è¿é€šå—ï¼Œç‹¬ç«‹è¿é€šå—ï¼Œå—é™åˆ¶èŠ‚ç‚¹)</p><p><strong>å®è´¨</strong></p><p>å—é™åˆ¶æ¡ä»¶ä¸‹çš„è¿é€š</p><p><strong>å®ç°</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">reachableNodes</span>(<span class="params">self, n: <span class="built_in">int</span>, edges: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]], restricted: <span class="type">List</span>[<span class="built_in">int</span>]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line"></span><br><span class="line">        <span class="comment"># çœ‹åˆ°æ— å‘å›¾ å°±è¯¥è€ƒè™‘å¹¶æŸ¥é›†äº†</span></span><br><span class="line">        pa=[i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line">        <span class="comment"># setåœ¨æŸ¥è¯¢çš„é€Ÿåº¦è¿œè¶…äºlist </span></span><br><span class="line">        <span class="comment"># è€Œä¸”ä¼šæœ‰é‡å¤çš„</span></span><br><span class="line">        </span><br><span class="line">        restricted=<span class="built_in">set</span>(restricted)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">find</span>(<span class="params">x</span>):</span><br><span class="line">            <span class="keyword">if</span> pa[x]!=x:</span><br><span class="line">                pa[x]=find(pa[x])</span><br><span class="line">            <span class="keyword">return</span> pa[x]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">union</span>(<span class="params">a,b</span>):</span><br><span class="line">            <span class="keyword">if</span> (va:=find(a))!=(vb:=find(b)):</span><br><span class="line">                pa[vb]=va</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i,j <span class="keyword">in</span> edges:</span><br><span class="line">            <span class="keyword">if</span> i <span class="keyword">not</span> <span class="keyword">in</span> restricted <span class="keyword">and</span> j <span class="keyword">not</span> <span class="keyword">in</span> restricted:</span><br><span class="line">                union(i,j)</span><br><span class="line">        <span class="comment"># print(pa)</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sum</span>([<span class="number">1</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n) <span class="keyword">if</span> find(i)==find(<span class="number">0</span>)])</span><br></pre></td></tr></table></figure><hr><h3 id="å¸¸è§é—®é¢˜ï¼šå¸¦æƒå¹¶æŸ¥é›†">å¸¸è§é—®é¢˜ï¼šå¸¦æƒå¹¶æŸ¥é›†</h3><h4 id="1ï¸âƒ£-LC399-é™¤æ³•æ±‚å€¼">1ï¸âƒ£ LC399 é™¤æ³•æ±‚å€¼</h4><p>é“¾æ¥ï¼š<a href="https://leetcode.cn/problems/evaluate-division">https://leetcode.cn/problems/evaluate-division</a></p><p>ç»™ä½ ä¸€ä¸ªå˜é‡å¯¹æ•°ç»„ equations å’Œä¸€ä¸ªå®æ•°å€¼æ•°ç»„ values ä½œä¸ºå·²çŸ¥æ¡ä»¶ï¼Œå…¶ä¸­ equations[i] = [Ai, Bi] å’Œ values[i] å…±åŒè¡¨ç¤ºç­‰å¼ Ai / Bi = values[i] ã€‚æ¯ä¸ª Ai æˆ– Bi æ˜¯ä¸€ä¸ªè¡¨ç¤ºå•ä¸ªå˜é‡çš„å­—ç¬¦ä¸²ã€‚</p><p>å¦æœ‰ä¸€äº›ä»¥æ•°ç»„ queries è¡¨ç¤ºçš„é—®é¢˜ï¼Œå…¶ä¸­ queries[j] = [Cj, Dj] è¡¨ç¤ºç¬¬ j ä¸ªé—®é¢˜ï¼Œè¯·ä½ æ ¹æ®å·²çŸ¥æ¡ä»¶æ‰¾å‡º Cj / Dj = ? çš„ç»“æœä½œä¸ºç­”æ¡ˆã€‚</p><p>è¿”å› æ‰€æœ‰é—®é¢˜çš„ç­”æ¡ˆ ã€‚å¦‚æœå­˜åœ¨æŸä¸ªæ— æ³•ç¡®å®šçš„ç­”æ¡ˆï¼Œåˆ™ç”¨ -1.0 æ›¿ä»£è¿™ä¸ªç­”æ¡ˆã€‚å¦‚æœé—®é¢˜ä¸­å‡ºç°äº†ç»™å®šçš„å·²çŸ¥æ¡ä»¶ä¸­æ²¡æœ‰å‡ºç°çš„å­—ç¬¦ä¸²ï¼Œä¹Ÿéœ€è¦ç”¨ -1.0 æ›¿ä»£è¿™ä¸ªç­”æ¡ˆã€‚</p><p>æ³¨æ„ï¼šè¾“å…¥æ€»æ˜¯æœ‰æ•ˆçš„ã€‚ä½ å¯ä»¥å‡è®¾é™¤æ³•è¿ç®—ä¸­ä¸ä¼šå‡ºç°é™¤æ•°ä¸º 0 çš„æƒ…å†µï¼Œä¸”ä¸å­˜åœ¨ä»»ä½•çŸ›ç›¾çš„ç»“æœã€‚</p><p><strong>ç¤ºä¾‹</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šequations = [[<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>],[<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>]], values = [<span class="number">2.0</span>,<span class="number">3.0</span>], queries = [[<span class="string">&quot;a&quot;</span>,<span class="string">&quot;c&quot;</span>],[<span class="string">&quot;b&quot;</span>,<span class="string">&quot;a&quot;</span>],[<span class="string">&quot;a&quot;</span>,<span class="string">&quot;e&quot;</span>],[<span class="string">&quot;a&quot;</span>,<span class="string">&quot;a&quot;</span>],[<span class="string">&quot;x&quot;</span>,<span class="string">&quot;x&quot;</span>]]</span><br><span class="line">è¾“å‡ºï¼š[<span class="number">6.00000</span>,<span class="number">0.50000</span>,-<span class="number">1.00000</span>,<span class="number">1.00000</span>,-<span class="number">1.00000</span>]</span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">æ¡ä»¶ï¼ša / b = <span class="number">2.0</span>, b / c = <span class="number">3.0</span></span><br><span class="line">é—®é¢˜ï¼ša / c = ?, b / a = ?, a / e = ?, a / a = ?, x / x = ?</span><br><span class="line">ç»“æœï¼š[<span class="number">6.0</span>, <span class="number">0.5</span>, -<span class="number">1.0</span>, <span class="number">1.0</span>, -<span class="number">1.0</span> ]</span><br></pre></td></tr></table></figure><p><strong>æ€è·¯</strong></p><p>é¦–å…ˆæ˜ç¡®ï¼Œä¸åŒç±»å‹(å¯ä»¥çœ‹åšä¸åŒé‡çº²)ä¹‹é—´æ˜¯æ— æ³•è¿›è¡Œé™¤æ³•çš„ï¼Œè¿™ä¸€å—è·Ÿè¿é€šæ€§å¾ˆç±»ä¼¼ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥æƒ³åˆ°å¹¶æŸ¥é›†ã€‚</p><p>åœ¨é¢å¯¹æƒå€¼çš„æ—¶å€™ï¼Œéœ€è¦è€ƒè™‘ç”¨å¸¦æƒå¹¶æŸ¥é›†ã€‚</p><p>æˆ‘ä»¬å‡è®¾å¸¦æƒè¾¹çš„æƒé‡æ•°ç»„ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span>ï¼Œå…¶ä¸­<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">w[i]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span></span></span></span>è¡¨ç¤ºç¬¬<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em;"></span><span class="mord mathnormal">i</span></span></span></span>æ¡è¾¹ç›¸å¯¹äº<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>o</mi><mi>o</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">root</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">roo</span><span class="mord mathnormal">t</span></span></span></span>èŠ‚ç‚¹çš„æƒé‡ã€‚</p><p>åœ¨å¯»å€(find)è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>w</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>=</mo><mfrac><mi>i</mi><mrow><mi>r</mi><mi>o</mi><mi>o</mi><mi>t</mi></mrow></mfrac><mo>=</mo><mfrac><mi>i</mi><mrow><mi>p</mi><mi>a</mi><mi>r</mi><mi>e</mi><mi>n</mi><msub><mi>t</mi><mi>i</mi></msub></mrow></mfrac><mo>Ã—</mo><mfrac><mrow><mi>p</mi><mi>a</mi><mi>r</mi><mi>e</mi><mi>n</mi><msub><mi>t</mi><mi>i</mi></msub></mrow><mrow><mi>r</mi><mi>o</mi><mi>o</mi><mi>t</mi></mrow></mfrac></mrow><annotation encoding="application/x-tex">w[i]=\frac{i}{root}=\frac{i}{parent_i}\times\frac{parent_i}{root}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.0225em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3365em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">roo</span><span class="mord mathnormal">t</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.217em;vertical-align:-0.8804em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3365em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="mord mathnormal">a</span><span class="mord mathnormal">re</span><span class="mord mathnormal">n</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">Ã—</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.9781em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2921em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">roo</span><span class="mord mathnormal">t</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">p</span><span class="mord mathnormal">a</span><span class="mord mathnormal">re</span><span class="mord mathnormal">n</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>è¿™æ˜¯ä¸€æ¡æƒé‡é“¾ï¼Œç¡®ä¿å¹¶æŸ¥é›†ä¸­æ¯ä¸ªå­é›†éƒ½èƒ½ä»¥æ ¹èŠ‚ç‚¹ä¸ºåŸºå‡†è¿›è¡Œå®šæ ‡ã€‚</p><p>åœ¨åŠ å…¥(union)çš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å¯¹å…¶è¿›è¡Œå¦‚ä¸‹æ›´æ–°ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>å‡è®¾Â </mtext><mi>y</mi><mtext>Â åŠ å…¥Â </mtext><mi>x</mi><mtext>Â </mtext><mspace linebreak="newline"></mspace><mi>w</mi><mo stretchy="false">[</mo><mi>r</mi><mi>o</mi><mi>o</mi><msub><mi>t</mi><mi>y</mi></msub><mo stretchy="false">]</mo><mo>=</mo><mfrac><mrow><mi>r</mi><mi>o</mi><mi>o</mi><msub><mi>t</mi><mi>y</mi></msub></mrow><mrow><mi>r</mi><mi>o</mi><mi>o</mi><msub><mi>t</mi><mi>x</mi></msub></mrow></mfrac><mo>=</mo><mfrac><mrow><mi>y</mi><mtext>Â </mtext><mo>â‹…</mo><mtext>Â </mtext><mi>w</mi><mo stretchy="false">[</mo><mi>x</mi><mo stretchy="false">]</mo></mrow><mrow><mi>w</mi><mo stretchy="false">[</mo><mi>y</mi><mo stretchy="false">]</mo><mtext>Â </mtext><mo>â‹…</mo><mtext>Â </mtext><mi>x</mi></mrow></mfrac><mspace linebreak="newline"></mspace><mo>=</mo><mfrac><mi>y</mi><mi>x</mi></mfrac><mtext>Â </mtext><mo>â‹…</mo><mtext>Â </mtext><mfrac><mrow><mi>w</mi><mo stretchy="false">[</mo><mi>x</mi><mo stretchy="false">]</mo></mrow><mrow><mi>w</mi><mo stretchy="false">[</mo><mi>y</mi><mo stretchy="false">]</mo></mrow></mfrac><mspace linebreak="newline"></mspace><mtext>ä»¤</mtext><mi>k</mi><mo>=</mo><mfrac><mi>y</mi><mi>x</mi></mfrac><mtext>ï¼Œå³</mtext><mo>:</mo><mi>w</mi><mo stretchy="false">[</mo><mi>r</mi><mi>o</mi><mi>o</mi><msub><mi>t</mi><mi>y</mi></msub><mo stretchy="false">]</mo><mo>=</mo><mi>k</mi><mtext>Â </mtext><mo>â‹…</mo><mtext>Â </mtext><mfrac><mrow><mi>w</mi><mo stretchy="false">[</mo><mi>x</mi><mo stretchy="false">]</mo></mrow><mrow><mi>w</mi><mo stretchy="false">[</mo><mi>y</mi><mo stretchy="false">]</mo></mrow></mfrac></mrow><annotation encoding="application/x-tex">å‡è®¾ \ y\ åŠ å…¥\ x\ \\w[root_y]=\frac{root_y}{root_x}=\frac{y\ \cdot\ w[x]}{w[y]\ \cdot\ x}\\=\frac{y}{x}\ \cdot\ \frac{w[x]}{w[y]}\\ä»¤k=\frac{y}{x}ï¼Œå³:w[root_y]=k\ \cdot\ \frac{w[x]}{w[y]}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord cjk_fallback">å‡è®¾</span><span class="mspace">Â </span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace">Â </span><span class="mord cjk_fallback">åŠ å…¥</span><span class="mspace">Â </span><span class="mord mathnormal">x</span><span class="mspace">Â </span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">roo</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.1281em;vertical-align:-0.836em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2921em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">roo</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">roo</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">]</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">x</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose">]</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.3669em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.7936em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">]</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose">]</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord cjk_fallback">ä»¤</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.7936em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1076em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">x</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord cjk_fallback">ï¼Œå³</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">roo</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em;">y</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mclose">]</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">â‹…</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.363em;vertical-align:-0.936em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">]</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose">]</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.936em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></p><p>å¦‚æ­¤ï¼Œä¾¿åœ¨æŸ¥è¯¢å’Œåˆå¹¶çš„è¿‡ç¨‹ä¸­å®ç°äº†æƒå€¼çš„é“¾å¼æ›´æ–°ã€‚æ‰€æœ‰æ ‘ç»“æ„ä¸Šçš„å€¼éƒ½æ˜¯ä»¥æ ¹èŠ‚ç‚¹ä½œä¸ºåŸºå‡†è¿›è¡Œå˜æ¢å¾—åˆ°çš„ï¼Œå› æ­¤ï¼ŒåŒåˆ†æ”¯ä¸Š(åŒä¸ªè¿é€šå—)å®ç°äº†å¯æ¯”æ€§ã€‚</p><p><strong>å®è´¨</strong></p><p>å¸¦æƒè¾¹ä¸Šçš„å˜æ¢</p><p><strong>å®ç°</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">calcEquation</span>(<span class="params">self, equations: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">str</span>]], values: <span class="type">List</span>[<span class="built_in">float</span>], queries: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">str</span>]]</span>) -&gt; <span class="type">List</span>[<span class="built_in">float</span>]:</span><br><span class="line">        u=UnionFind()</span><br><span class="line">        <span class="keyword">for</span> i,v <span class="keyword">in</span> <span class="built_in">enumerate</span>(equations):</span><br><span class="line">            u.merge(v[<span class="number">0</span>],v[<span class="number">1</span>],values[i])</span><br><span class="line">        </span><br><span class="line">        ans=[]</span><br><span class="line">        <span class="keyword">for</span> i,j <span class="keyword">in</span> queries:</span><br><span class="line">            ans.append(u.divide(i,j))</span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UnionFind</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        self.pa=&#123;&#125;</span><br><span class="line">        self.val=&#123;&#125;</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">find</span>(<span class="params">self,x</span>):</span><br><span class="line">        <span class="keyword">if</span> x <span class="keyword">not</span> <span class="keyword">in</span> self.pa:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> self.pa[x]!=x:</span><br><span class="line">            fa=self.find(self.pa[x])</span><br><span class="line">            self.val[x]=self.val[x]*self.val[self.pa[x]]  <span class="comment"># æ›´æ–°æƒé‡</span></span><br><span class="line">            self.pa[x]=fa</span><br><span class="line">        <span class="keyword">return</span> self.pa[x]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">merge</span>(<span class="params">self,a,b,val</span>):</span><br><span class="line">        <span class="keyword">if</span> a <span class="keyword">not</span> <span class="keyword">in</span> self.pa:</span><br><span class="line">            self.pa[a]=a</span><br><span class="line">            self.val[a]=<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> b <span class="keyword">not</span> <span class="keyword">in</span> self.pa:</span><br><span class="line">            self.pa[b]=b</span><br><span class="line">            self.val[b]=<span class="number">1</span></span><br><span class="line"></span><br><span class="line">        roota,rootb=self.find(a),self.find(b)</span><br><span class="line">        <span class="keyword">if</span> roota==rootb <span class="keyword">or</span> (roota==<span class="literal">None</span> <span class="keyword">or</span> rootb==<span class="literal">None</span>):</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        </span><br><span class="line">        self.pa[roota]=rootb</span><br><span class="line">        <span class="comment"># w[b]=b/roob</span></span><br><span class="line">        <span class="comment"># roob/rooa = b/w[b] / a/w[a]</span></span><br><span class="line">        <span class="comment"># = b/a * w[a]/w[b]</span></span><br><span class="line">        self.val[roota]=val*(self.val[b]/self.val[a])</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">divide</span>(<span class="params">self,a,b</span>):</span><br><span class="line">        <span class="keyword">if</span> (roota:=self.find(a))!=(rootb:=self.find(b)) <span class="keyword">or</span> (roota==<span class="literal">None</span> <span class="keyword">or</span> rootb==<span class="literal">None</span>):</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> self.val[a]/self.val[b]</span><br></pre></td></tr></table></figure><hr><h3 id="å¸¸è§é—®é¢˜ï¼šå…³ç³»å‹è¿æ¥">å¸¸è§é—®é¢˜ï¼šå…³ç³»å‹è¿æ¥</h3><blockquote><p>è¿™ç±»é¢˜ä¸€èˆ¬æ˜¯æŸä¸ªå°ç±»ä¸‹æœ‰ç€å„ç§åˆ†é‡ï¼Œé€šè¿‡åˆ†é‡é—´çš„å…³ç³»è¿›è¡Œå¤„ç†</p></blockquote><h4 id="1ï¸âƒ£-LC1202-äº¤æ¢å­—ç¬¦ä¸²ä¸­çš„å…ƒç´ ">1ï¸âƒ£ LC1202 äº¤æ¢å­—ç¬¦ä¸²ä¸­çš„å…ƒç´ </h4><p><strong>é“¾æ¥</strong>ï¼š<a href="https://leetcode.cn/problems/smallest-string-with-swaps">https://leetcode.cn/problems/smallest-string-with-swaps</a></p><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œä»¥åŠè¯¥å­—ç¬¦ä¸²ä¸­çš„ä¸€äº›ã€Œç´¢å¼•å¯¹ã€æ•°ç»„ pairsï¼Œå…¶ä¸­ pairs[i] = [a, b] è¡¨ç¤ºå­—ç¬¦ä¸²ä¸­çš„ä¸¤ä¸ªç´¢å¼•ï¼ˆç¼–å·ä» 0 å¼€å§‹ï¼‰ã€‚</p><p>ä½ å¯ä»¥ ä»»æ„å¤šæ¬¡äº¤æ¢ åœ¨ pairs ä¸­ä»»æ„ä¸€å¯¹ç´¢å¼•å¤„çš„å­—ç¬¦ã€‚</p><p>è¿”å›åœ¨ç»è¿‡è‹¥å¹²æ¬¡äº¤æ¢åï¼Œs å¯ä»¥å˜æˆçš„æŒ‰å­—å…¸åºæœ€å°çš„å­—ç¬¦ä¸²ã€‚</p><p><strong>ç¤ºä¾‹</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼šs = <span class="string">&quot;dcab&quot;</span>, pairs = [[<span class="number">0</span>,<span class="number">3</span>],[<span class="number">1</span>,<span class="number">2</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="string">&quot;bacd&quot;</span></span><br><span class="line">è§£é‡Šï¼š </span><br><span class="line">äº¤æ¢ s[<span class="number">0</span>] å’Œ s[<span class="number">3</span>], s = <span class="string">&quot;bcad&quot;</span></span><br><span class="line">äº¤æ¢ s[<span class="number">1</span>] å’Œ s[<span class="number">2</span>], s = <span class="string">&quot;bacd&quot;</span></span><br></pre></td></tr></table></figure><p><strong>æ€è·¯</strong></p><p>æˆ‘ä»¬ä¸éš¾å‘ç°ï¼Œç´¢å¼•å¯¹è‡ªèº«å­˜åœ¨è”é€šå…³ç³»ï¼Œä¸”ä¸€æ—¦å…¶ä¸­çš„åˆ†é‡ä½œä¸ºå…¶ä»–ç´¢å¼•å¯¹çš„åˆ†é‡ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªåˆ†é‡å°±æ˜¯è”é€šçš„ã€‚</p><p>äºæ˜¯ï¼Œæœ¬é¢˜å¯è½¬åŒ–ä¸ºï¼š</p><p>æ±‚è§£å„ä¸ªè¿é€šå—æ‰€èƒ½å®ç°çš„æœ€å°å­—å…¸åºã€‚å®ç°è·¯å¾„ä¸ºï¼š</p><ul><li>æ„å»ºè”é€šå—ï¼Œå¹¶è·å–è¿é€šå—ä¸­çš„å…ƒç´ </li><li>å¯¹æ¯ä¸ªè¿é€šå—å…ƒç´ è¿›è¡Œæ’åº</li><li>æ ¹æ®åŸå§‹å…ƒç´ çš„ä½ç½®ï¼Œåˆ¤æ–­æ‰€å±çš„è¿é€šå—</li></ul><p><strong>å®è´¨</strong></p><p>æŠ½è±¡æ€æƒ³</p><p><strong>å®ç°</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">smallestStringWithSwaps</span>(<span class="params">self, s: <span class="built_in">str</span>, pairs: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line"></span><br><span class="line">        <span class="comment"># è¿™é¢˜æ‰¾è§„å¾‹</span></span><br><span class="line">        <span class="comment"># æˆ‘ä»¬å‘ç° ä»»æ„ç´¢å¼•å¯¹å†…éƒ¨å¯ä»¥è¿›è¡Œäº¤æ¢</span></span><br><span class="line">        <span class="comment"># è€Œä¸”ï¼Œä»»æ„ä¸¤å¯¹ç´¢å¼•ä¸­ï¼Œå¦‚æœå‡ºç°äº†ç›¸åŒçš„å€¼ï¼Œé‚£ä¹ˆè¿™ä¸¤å¯¹ç´¢å¼•å¯¹åº”çš„å…ƒç´ å¯ä»¥ä¸¤ä¸¤äº’æ¢</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># è¿™ä¹Ÿæ„å‘³ç€ æˆ‘ä»¬éœ€è¦å¤„ç†çš„ä¹Ÿå°±æ˜¯æ‰€æœ‰è¿é€šå— æ¯ä¸ªè¿é€šå—éƒ½æ˜¯æœ€å°ï¼Œé‚£ä¹ˆç”±å±€éƒ¨æ¨å¾—å…¨å±€æœ€ä¼˜è§£</span></span><br><span class="line">        <span class="comment"># è€ƒè™‘è¿é€šé‡ è‡ªç„¶è€Œç„¶æƒ³åˆ°å¹¶æŸ¥é›†</span></span><br><span class="line"></span><br><span class="line">        u=uf(<span class="built_in">len</span>(s))</span><br><span class="line">        <span class="keyword">for</span> i,j <span class="keyword">in</span> pairs:</span><br><span class="line">            u.union(i,j)</span><br><span class="line">        <span class="comment"># å¯¹äºæ¯ä¸€ä¸ªè¿é€šå—ï¼Œæˆ‘ä»¬åªéœ€è¦å¯¹å…¶è¿›è¡Œæ’åºå°±å¯ä»¥äº†</span></span><br><span class="line">        <span class="comment"># å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿè¦è·å–åˆ°è¿é€šå—å†…çš„å…ƒç´ </span></span><br><span class="line">        mp=collections.defaultdict(<span class="built_in">list</span>)</span><br><span class="line">        <span class="keyword">for</span> i,v <span class="keyword">in</span> <span class="built_in">enumerate</span>(s):</span><br><span class="line">            mp[u.find(i)].append(v) <span class="comment"># æ„å»ºè¿é€šå—</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> vec <span class="keyword">in</span> mp.values():</span><br><span class="line">            vec.sort(reverse=<span class="literal">True</span>)</span><br><span class="line">        ans=[]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(s)):</span><br><span class="line">            <span class="comment"># æ¯ä¸€ä¸ªå ä½éƒ½ç”¨è¿é€šå—å†…æœ€å°çš„è¿›è¡Œå ä½</span></span><br><span class="line">            x=u.find(i)</span><br><span class="line">            ans.append(mp[x][-<span class="number">1</span>])</span><br><span class="line">            mp[x].pop()</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>.join(ans)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">uf</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,n</span>):</span><br><span class="line">        self.pa=[i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">find</span>(<span class="params">self,x</span>):</span><br><span class="line">        <span class="keyword">if</span> self.pa[x]!=x:</span><br><span class="line">            self.pa[x]=self.find(self.pa[x])</span><br><span class="line">        <span class="keyword">return</span> self.pa[x]</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">union</span>(<span class="params">self,a,b</span>):</span><br><span class="line">        <span class="keyword">if</span> (ra:=self.find(a))!=(rb:=self.find(b)):</span><br><span class="line">            self.pa[rb]=ra</span><br></pre></td></tr></table></figure><hr><h4 id="2ï¸âƒ£-LC765-æƒ…ä¾£ç‰µæ‰‹">2ï¸âƒ£ LC765 æƒ…ä¾£ç‰µæ‰‹</h4><p>é“¾æ¥ï¼š<a href="https://leetcode.cn/problems/couples-holding-hands">https://leetcode.cn/problems/couples-holding-hands</a></p><p>n å¯¹æƒ…ä¾£ååœ¨è¿ç»­æ’åˆ—çš„ 2n ä¸ªåº§ä½ä¸Šï¼Œæƒ³è¦ç‰µåˆ°å¯¹æ–¹çš„æ‰‹ã€‚</p><p>äººå’Œåº§ä½ç”±ä¸€ä¸ªæ•´æ•°æ•°ç»„ row è¡¨ç¤ºï¼Œå…¶ä¸­ row[i] æ˜¯ååœ¨ç¬¬ i ä¸ªåº§ä½ä¸Šçš„äººçš„ IDã€‚æƒ…ä¾£ä»¬æŒ‰é¡ºåºç¼–å·ï¼Œç¬¬ä¸€å¯¹æ˜¯ (0, 1)ï¼Œç¬¬äºŒå¯¹æ˜¯ (2, 3)ï¼Œä»¥æ­¤ç±»æ¨ï¼Œæœ€åä¸€å¯¹æ˜¯ (2n-2, 2n-1)ã€‚</p><p>è¿”å› æœ€å°‘äº¤æ¢åº§ä½çš„æ¬¡æ•°ï¼Œä»¥ä¾¿æ¯å¯¹æƒ…ä¾£å¯ä»¥å¹¶è‚©ååœ¨ä¸€èµ·ã€‚ æ¯æ¬¡äº¤æ¢å¯é€‰æ‹©ä»»æ„ä¸¤äººï¼Œè®©ä»–ä»¬ç«™èµ·æ¥äº¤æ¢åº§ä½ã€‚</p><p><strong>ç¤ºä¾‹</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥: row = [<span class="number">0</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>]</span><br><span class="line">è¾“å‡º: <span class="number">1</span></span><br><span class="line">è§£é‡Š: åªéœ€è¦äº¤æ¢row[<span class="number">1</span>]å’Œrow[<span class="number">2</span>]çš„ä½ç½®å³å¯ã€‚</span><br><span class="line"></span><br><span class="line">è¾“å…¥: row = [<span class="number">3</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">1</span>]</span><br><span class="line">è¾“å‡º: <span class="number">0</span></span><br><span class="line">è§£é‡Š: æ— éœ€äº¤æ¢åº§ä½ï¼Œæ‰€æœ‰çš„æƒ…ä¾£éƒ½å·²ç»å¯ä»¥æ‰‹ç‰µæ‰‹äº†ã€‚</span><br></pre></td></tr></table></figure><p><strong>æ€è·¯</strong></p><p>æƒ…ä¾£èƒ½å¤Ÿç‰µæ‰‹çš„å……è¦æ¡ä»¶æ˜¯ï¼š</p><p>ä½ç½® <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo><mi>i</mi><mo>âˆˆ</mo><mtext>å¥‡æ•°</mtext></mrow><annotation encoding="application/x-tex">(i,i+1)i\inå¥‡æ•°</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord cjk_fallback">å¥‡æ•°</span></span></span></span> ä¸Šçš„æƒ…ä¾£åŒå±äºä¸€ä¸ªç±»ï¼Œæˆ–è€…è¯´ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>o</mi><mi>w</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mi mathvariant="normal">/</mi><mi mathvariant="normal">/</mi><mn>2</mn><mo>=</mo><mi>r</mi><mi>o</mi><mi>w</mi><mo stretchy="false">[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mi mathvariant="normal">/</mi><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">row[i]//2=row[i+1]//2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ro</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mord">//2</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ro</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mord">//2</span></span></span></span></p><p>è€Œå¯¹äºä¸èƒ½ç‰µæ‰‹çš„æƒ…ä¾£è€Œè¨€ï¼Œä»–ä»¬ä¹‹é—´æ„æˆäº†ä¸€ä¸ª<code>ç¯</code>ï¼Œå³é€šè¿‡ä¸€å¯¹æƒ…ä¾£ä¸­çš„ä¸¤ä¸ªèŠ‚ç‚¹å…³ç³»ï¼Œèƒ½å¤Ÿå®ç°å¤šå¯¹æƒ…ä¾£çš„é—­ç¯ã€‚</p><p>ä¸éš¾å‘ç°ï¼Œæˆ‘ä»¬åº”è¯¥å¼€<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi><mi mathvariant="normal">/</mi><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">n//2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">n</span><span class="mord">//2</span></span></span></span>ä¸ªç©ºé—´ï¼Œä»£è¡¨æœ‰è¿™ä¹ˆå¤šå¯¹æƒ…ä¾£ã€‚æ¥ç€ï¼Œå¯¹äºä¸€ä¸ªå¤§å°ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>(åŒ…å«äº†<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>å¯¹æƒ…ä¾£)çš„é—­ç¯ï¼Œæˆ‘ä»¬æœ€å°‘åªéœ€è¦ç§»åŠ¨<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">x-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span>æ¬¡å°±è¡Œäº†ã€‚</p><p>è‡³æ­¤ï¼Œé—®é¢˜è½¬å˜ä¸ºï¼š</p><p>æ±‚è§£<code>row</code>ä¸­é—­ç¯çš„æ•°é‡ã€‚</p><p>æœ‰å¦‚ä¸‹å…¬å¼ï¼Œè®¾é—­ç¯æ•°é‡ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>ï¼Œåˆ™æœ‰ï¼š</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>t</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mi>i</mi></msub><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mn>2</mn></msub><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo><mo>+</mo><mo>â‹¯</mo><mo>+</mo><mo stretchy="false">(</mo><msub><mi>x</mi><mi>n</mi></msub><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">t=(x_i-1)+(x_2-1)+\dots+(x_n-1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="minner">â‹¯</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span></p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span></span></span></span>ä¸ºäº¤æ¢æ¬¡æ•°ã€‚</p><p>åˆï¼šæˆ‘ä»¬å¯ä»¥å‡è®¾ç‰µä¸Šæ‰‹çš„æƒ…ä¾£ä¹Ÿæ˜¯ä¸€ä¸ªç¯ï¼Œå…¶äº¤æ¢æ¬¡æ•°ä¸ºï¼š</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">t=(1-1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></p><p>äºæ˜¯ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi><mo>=</mo><mi>n</mi><mo>âˆ’</mo><mi>x</mi></mrow><annotation encoding="application/x-tex">t=n-x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em;"></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">n</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span></p><p><strong>å®è´¨</strong></p><p>è€ƒå¯ŸæŠ½è±¡æ€æƒ³ï¼Œæ‹“æ‰‘å…³ç³»è”é€š</p><p><strong>å®ç°</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">minSwapsCouples</span>(<span class="params">self, row</span>):</span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        :type row: List[int]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="comment"># æœ¬é¢˜è€ƒå¯Ÿçš„æ˜¯æŠ½è±¡èƒ½åŠ›</span></span><br><span class="line">        <span class="comment"># ä»€ä¹ˆæƒ…å†µæƒ…ä¾£ä¸èƒ½ç‰µæ‰‹ï¼Ÿ</span></span><br><span class="line">        <span class="comment"># ä¸€å¯¹æƒ…ä¾£ Aa ä¸€å®šèƒ½ç‰µæ‰‹</span></span><br><span class="line">        <span class="comment"># ä¸¤é˜Ÿæƒ…ä¾£ BA BA ä¸èƒ½ç‰µæ‰‹ è€Œ AB BA æˆ–è€… BA ABæ˜¯æœ‰ä¸€å¯¹å¯ä»¥ç‰µæ‰‹çš„</span></span><br><span class="line">        <span class="comment"># ä¸‰å¯¹æƒ…ä¾£åªæœ‰åœ¨æƒ…å†µ AB CB AC æˆ–è€… AC BC AB ä¹‹ç±»çš„æƒ…å†µä¸‹æ‰ç®—ä¸é¥¿èƒ½ç‰µæ‰‹</span></span><br><span class="line">        <span class="comment"># è€Œæ­¤æ—¶æˆ‘ä»¬è®¤ä¸ºï¼Œæƒ…ä¾£é—´çš„é¡ºåºå…³ç³»å¹¶ä¸é‡è¦ AB CB AC ç­‰ä»·äº AC BC AB ç­‰ä»·äºå…¶ä»–</span></span><br><span class="line">        <span class="comment"># ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™ä¸‰å¯¹æƒ…ä¾£æ»¡è¶³ä¸€ä¸ªç¯å…³ç³» Ab cB aC</span></span><br><span class="line">        <span class="comment"># å› ä¸ºAè¦è”é€ša æˆ‘ä»¬ä»¤Abè”é€šï¼Œèƒ½é¡ºç€bè”é€šcBï¼Œé¡ºç€cè”é€šaC</span></span><br><span class="line">        <span class="comment"># ä»–ä»¬ä¸‰ä½ä¹‹é—´å½¢æˆäº†ç¯(é€šè¿‡æƒ…ä¾£å…³ç³»)</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># é‚£ä¹ˆå¯¹äºä¸€ä¸ªå¤§å°ä¸ºnçš„é”™è¯¯ç¯ï¼Œåªéœ€è¦æ¢ä½n-1æ¬¡å³å¯</span></span><br><span class="line">        <span class="comment"># è€ƒè™‘è¿é€šå…³ç³»ï¼Œå¯ä»¥é€‰ç”¨å¹¶æŸ¥é›†</span></span><br><span class="line">        n=<span class="built_in">len</span>(row)</span><br><span class="line">        u=UnionFind(n//<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">        i=<span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> i&lt;=n-<span class="number">2</span>:</span><br><span class="line">            u.union(row[i]//<span class="number">2</span>,row[i+<span class="number">1</span>]//<span class="number">2</span>)</span><br><span class="line">            i+=<span class="number">2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> n//<span class="number">2</span>-u.getCount()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UnionFind</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,n</span>):</span><br><span class="line">        self.pa=[i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line">        self.count=n</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">find</span>(<span class="params">self,x</span>):</span><br><span class="line">        <span class="keyword">if</span> self.pa[x]!=x:</span><br><span class="line">            self.pa[x]=self.find(self.pa[x])</span><br><span class="line">        <span class="keyword">return</span> self.pa[x]</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">union</span>(<span class="params">self,a,b</span>):</span><br><span class="line">        ra=self.find(a)</span><br><span class="line">        rb=self.find(b)</span><br><span class="line">        <span class="keyword">if</span> ra!=rb:</span><br><span class="line">        <span class="comment"># if (ra:=self.find(a))!=(rb:=self.find(b)):</span></span><br><span class="line">            self.pa[rb]=ra</span><br><span class="line">            self.count-=<span class="number">1</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">getCount</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.count</span><br></pre></td></tr></table></figure><hr><h3 id="è¿›é˜¶ï¼šå€’åºå¹¶æŸ¥é›†ğŸ·ï¸">è¿›é˜¶ï¼šå€’åºå¹¶æŸ¥é›†ğŸ·ï¸</h3><blockquote><p>æ­¤ç±»é—®é¢˜é€šå¸¸ç”¨äºä¼˜åŒ–åˆ é™¤é—®é¢˜ï¼Œæ—¢ç„¶ä¸­é—´å˜é‡å¯ä»¥ä»åˆ é™¤æ“ä½œä¸­å¾—åˆ°ï¼Œé‚£ä¹Ÿèƒ½ä»æ„å»ºæ“ä½œä¸­å¾—åˆ°ã€‚ç»„ä»¶çš„æ„æˆè·Ÿå¹¶æŸ¥é›†çš„è¿é€šæœ¬è´¨ä¸Šæ˜¯ä¸€è‡´çš„ã€‚</p></blockquote><h4 id="1ï¸âƒ£-LC2421-å¥½è·¯å¾„çš„æ•°é‡">1ï¸âƒ£ LC2421 å¥½è·¯å¾„çš„æ•°é‡</h4><p><strong>é“¾æ¥</strong>ï¼š<a href="https://leetcode.cn/problems/number-of-good-paths">https://leetcode.cn/problems/number-of-good-paths</a></p><p>ç»™ä½ ä¸€æ£µ n ä¸ªèŠ‚ç‚¹çš„æ ‘ï¼ˆè¿é€šæ— å‘æ— ç¯çš„å›¾ï¼‰ï¼ŒèŠ‚ç‚¹ç¼–å·ä» 0 åˆ° n - 1 ä¸”æ°å¥½æœ‰ n - 1 æ¡è¾¹ã€‚</p><p>ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º n ä¸‹æ ‡ä» 0 å¼€å§‹çš„æ•´æ•°æ•°ç»„ vals ï¼Œåˆ†åˆ«è¡¨ç¤ºæ¯ä¸ªèŠ‚ç‚¹çš„å€¼ã€‚åŒæ—¶ç»™ä½ ä¸€ä¸ªäºŒç»´æ•´æ•°æ•°ç»„ edges ï¼Œå…¶ä¸­ edges[i] = [ai, bi] è¡¨ç¤ºèŠ‚ç‚¹ ai å’Œ bi ä¹‹é—´æœ‰ä¸€æ¡ æ— å‘ è¾¹ã€‚</p><p>ä¸€æ¡ å¥½è·¯å¾„ éœ€è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š</p><p>å¼€å§‹èŠ‚ç‚¹å’Œç»“æŸèŠ‚ç‚¹çš„å€¼ ç›¸åŒ ã€‚<br>å¼€å§‹èŠ‚ç‚¹å’Œç»“æŸèŠ‚ç‚¹ä¸­é—´çš„æ‰€æœ‰èŠ‚ç‚¹å€¼éƒ½ å°äºç­‰äº å¼€å§‹èŠ‚ç‚¹çš„å€¼ï¼ˆä¹Ÿå°±æ˜¯è¯´å¼€å§‹èŠ‚ç‚¹çš„å€¼åº”è¯¥æ˜¯è·¯å¾„ä¸Šæ‰€æœ‰èŠ‚ç‚¹çš„æœ€å¤§å€¼ï¼‰ã€‚<br>è¯·ä½ è¿”å›ä¸åŒå¥½è·¯å¾„çš„æ•°ç›®ã€‚</p><p>æ³¨æ„ï¼Œä¸€æ¡è·¯å¾„å’Œå®ƒåå‘çš„è·¯å¾„ç®—ä½œ åŒä¸€ è·¯å¾„ã€‚æ¯”æ–¹è¯´ï¼Œ 0 -&gt; 1 ä¸ 1 -&gt; 0 è§†ä¸ºåŒä¸€æ¡è·¯å¾„ã€‚å•ä¸ªèŠ‚ç‚¹ä¹Ÿè§†ä¸ºä¸€æ¡åˆæ³•è·¯å¾„ã€‚</p><p><strong>ç¤ºä¾‹</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼švals = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>], edges = [[<span class="number">0</span>,<span class="number">1</span>],[<span class="number">0</span>,<span class="number">2</span>],[<span class="number">2</span>,<span class="number">3</span>],[<span class="number">2</span>,<span class="number">4</span>]]</span><br><span class="line">è¾“å‡ºï¼š<span class="number">6</span></span><br><span class="line">è§£é‡Šï¼šæ€»å…±æœ‰ <span class="number">5</span> æ¡å•ä¸ªèŠ‚ç‚¹çš„å¥½è·¯å¾„ã€‚</span><br><span class="line">è¿˜æœ‰ <span class="number">1</span> æ¡å¥½è·¯å¾„ï¼š<span class="number">1</span> -&gt; <span class="number">0</span> -&gt; <span class="number">2</span> -&gt; <span class="number">4</span> ã€‚</span><br><span class="line">ï¼ˆåæ–¹å‘çš„è·¯å¾„ <span class="number">4</span> -&gt; <span class="number">2</span> -&gt; <span class="number">0</span> -&gt; <span class="number">1</span> è§†ä¸ºè·Ÿ <span class="number">1</span> -&gt; <span class="number">0</span> -&gt; <span class="number">2</span> -&gt; <span class="number">4</span> ä¸€æ ·çš„è·¯å¾„ï¼‰</span><br><span class="line">æ³¨æ„ <span class="number">0</span> -&gt; <span class="number">2</span> -&gt; <span class="number">3</span> ä¸æ˜¯ä¸€æ¡å¥½è·¯å¾„ï¼Œå› ä¸º vals[<span class="number">2</span>] &gt; vals[<span class="number">0</span>] ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>æ€è·¯</strong></p><p>è¿™é¢˜æš´åŠ›æ€è·¯ï¼šå…ˆè®¡ç®—æ‰€æœ‰æœ€å¤§å€¼èŠ‚ç‚¹çš„è·¯å¾„ï¼Œç„¶ååˆ é™¤ä»–ä»¬ï¼Œå†è¿›è¡Œé€’å½’å¾€å¤ã€‚</p><p>ä½†æ˜¯ï¼Œè¿™æ ·å­çš„æ—¶é—´å¤æ‚åº¦ä¹Ÿå¤ªå¤§äº†å§ï¼æœ€åçš„æƒ…å†µä¸‹è¾¾åˆ°äº†<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0641em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>ï¼Œä¸å¦‚åé˜¿å…‹æ›¼å¸¸æ•°çš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mi>Î±</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n\alpha)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal">n</span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mclose">)</span></span></span></span>æœ‰æ„æ€ã€‚</p><p><code>åˆ é™¤æ“ä½œ</code>å¯ä»¥è½¬å˜æ€è·¯ä¸º<code>æ·»åŠ </code>! è¿™ä¹Ÿå°±æ˜¯å€’åºå¹¶æŸ¥é›†çš„ç”±æ¥ï¼</p><p>ä¸€ä¸ªç»“æ„ï¼Œåˆ é™¤æ˜¯æ·»åŠ çš„åè¿‡ç¨‹ï¼Œè€Œæˆ‘ä»¬è¿½å¯»ä¸­é—´ä¿¡æ¯ï¼Œé‚£ä¹ˆåˆ é™¤å’Œæ·»åŠ éƒ½å°†ä¼šè¾¾åˆ°è¿™ä¸ªä¸­é—´çŠ¶æ€ï¼æ·»åŠ ï¼Œå°±æ˜¯ä¸€ä¸ªä¸€ä¸ªå°ç»„ä»¶èšé›†å½¢æˆä¸€ä¸ªç‰©ä½“ï¼Œé‚£å°±æ˜¯å¹¶æŸ¥é›†ï¼</p><p>è¿™é¢˜çš„è¯ï¼Œæˆ‘ä»¬è€ƒè™‘ä»æœ€å°å€¼èŠ‚ç‚¹å¼€å§‹æ·»åŠ ï¼Œå½“ç„¶ï¼Œè¦å…ˆç”Ÿæˆé‚»æ¥å›¾ç»“æ„æ‰è¡Œã€‚</p><p>æ·»åŠ è¿é€šå—æ—¶ï¼Œå¦‚æœå½“å‰èŠ‚ç‚¹é‡åˆ°äº†ç›¸åŒçš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå°†æ–°å¢<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>C</mi><mi>x</mi><mn>2</mn></msubsup></mrow><annotation encoding="application/x-tex">C^2_x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0611em;vertical-align:-0.247em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-2.453em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span>æ¡è·¯å¾„ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬æœ‰å¿…è¦è®°å½•è¿é€šå—ä¸­çš„æœ€å¤§å€¼ï¼Œä»¥åŠæœ€å¤§å€¼çš„æ•°é‡ã€‚</p><p>äº‹å®ä¸Šï¼Œå¹¶æŸ¥é›†æœ¬å°±æ˜¯è®°å½•æœ€å¤§è¡¨å¾è€Œç”Ÿçš„ï¼Œé‚£æ•°é‡å¦‚ä½•å»è®°å½•å‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å¼€è¾Ÿä¸€ä¸ªç©ºé—´<code>size</code>ï¼Œ<code>size[x]</code>è¡¨ç¤ºè¿é€šå—ä¸­å¤§å°ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mi>a</mi><mi>l</mi><mo stretchy="false">[</mo><mi>x</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">val[x]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose">]</span></span></span></span>çš„èŠ‚ç‚¹çš„æ•°é‡ã€‚</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>v</mi><mi>a</mi><mi>l</mi><mo stretchy="false">[</mo><mi>x</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">val[x]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mopen">[</span><span class="mord mathnormal">x</span><span class="mclose">]</span></span></span></span>ä¹Ÿå°±æ˜¯ä¸ªæ˜ å°„ã€‚</p><p><strong>å®ç°</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">numberOfGoodPaths</span>(<span class="params">self, vals: <span class="type">List</span>[<span class="built_in">int</span>], edges: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">        </span><br><span class="line">        n=<span class="built_in">len</span>(vals)</span><br><span class="line">        <span class="comment"># å¦‚ä½•åˆ›å»ºå¹¶æŸ¥é›†ï¼Ÿ</span></span><br><span class="line">        <span class="comment"># é¦–å…ˆæœ‰nä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        pa=<span class="built_in">list</span>(<span class="built_in">range</span>(n))</span><br><span class="line">        <span class="comment"># ç„¶åæ„å»ºå›¾ç»“æ„</span></span><br><span class="line">        <span class="comment"># æ— å‘å›¾éœ€è¦è®°å½•ä¸¤è¾¹</span></span><br><span class="line">        g=[[] <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line">        <span class="keyword">for</span> x,y <span class="keyword">in</span> edges:</span><br><span class="line">            g[x].append(y)</span><br><span class="line">            g[y].append(x)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æˆ‘ä»¬åˆ©ç”¨ç”Ÿæˆä»£æ›¿åˆ é™¤</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># size[x] è¡¨ç¤º x æ‰€å¤„çš„è¿é€šå—ä¸­ ï¼Œå€¼ç­‰äº vals[x] çš„èŠ‚ç‚¹ä¸ªæ•°</span></span><br><span class="line">        <span class="comment"># sizeç”¨æ¥å¤„ç†åŒçº§åˆ«çš„åŠ å‡</span></span><br><span class="line">        size=[<span class="number">1</span>]*n</span><br><span class="line"></span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">find</span>(<span class="params">x</span>):</span><br><span class="line">            <span class="keyword">if</span> pa[x]!=x:</span><br><span class="line">                pa[x]=find(pa[x])</span><br><span class="line">            <span class="keyword">return</span> pa[x]</span><br><span class="line">        ans=n <span class="comment"># åˆå§‹è·¯å¾„(è‡ªå·±)</span></span><br><span class="line">        <span class="comment"># ç„¶åæ˜¯ç­‰é•¿è·¯å¾„C2x=(x*(x-1)/2)</span></span><br><span class="line">        <span class="keyword">for</span> vx,x <span class="keyword">in</span> <span class="built_in">sorted</span>(<span class="built_in">zip</span>(vals,<span class="built_in">range</span>(n))):</span><br><span class="line">            <span class="comment"># ä»å°åˆ°å¤§ç”Ÿæˆ</span></span><br><span class="line">            fx=find(x) <span class="comment"># ç¬¬å‡ ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">for</span> y <span class="keyword">in</span> g[x]:</span><br><span class="line">                <span class="comment"># è¿™èŠ‚ç‚¹æ‰€èƒ½åˆ°è¾¾çš„æ‰€æœ‰èŠ‚ç‚¹</span></span><br><span class="line">                y=find(y)</span><br><span class="line">                <span class="comment"># å¼€å§‹éå†é‚»æ¥è¾¹</span></span><br><span class="line">                <span class="keyword">if</span> y==fx <span class="keyword">or</span> vals[y]&gt;vx:<span class="comment"># å¤§çš„åé¢åŠ è¿›å»c</span></span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                <span class="keyword">if</span> vals[y]==vx:</span><br><span class="line">                    ans+=size[fx]*size[y]</span><br><span class="line">                    size[fx]+=size[y]</span><br><span class="line">                pa[y]=fx</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure><hr><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">ã€ç®—æ³•ä¸æ•°æ®ç»“æ„ã€‘å¹¶æŸ¥é›†</summary>
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="ç®—æ³•" scheme="http://example.com/tags/%E7%AE%97%E6%B3%95/"/>
    
    <category term="æ•°æ®ç»“æ„" scheme="http://example.com/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>åŸºäºCartopyç»˜åˆ¶æµ·æ´‹è¡¨é¢æ¸©åº¦åŠ¨æ€å˜åŒ–å›¾</title>
    <link href="http://example.com/2022/09/25/%E3%80%90%E6%B5%B7%E6%B4%8B%E9%81%A5%E6%84%9F%E3%80%91%E7%BB%98%E5%88%B6%E6%B5%B7%E6%B4%8B%E8%A1%A8%E9%9D%A2%E6%B8%A9%E5%BA%A6%E5%8A%A8%E5%9B%BE/"/>
    <id>http://example.com/2022/09/25/%E3%80%90%E6%B5%B7%E6%B4%8B%E9%81%A5%E6%84%9F%E3%80%91%E7%BB%98%E5%88%B6%E6%B5%B7%E6%B4%8B%E8%A1%A8%E9%9D%A2%E6%B8%A9%E5%BA%A6%E5%8A%A8%E5%9B%BE/</id>
    <published>2022-09-25T14:43:44.471Z</published>
    <updated>2022-09-25T14:44:40.117Z</updated>
    
    <content type="html"><![CDATA[<h1>åŸºäºCartopyç»˜åˆ¶æµ·æ´‹è¡¨é¢æ¸©åº¦åŠ¨æ€å˜åŒ–å›¾</h1><hr><h2 id="ä¸€ã€å®éªŒå‡†å¤‡">ä¸€ã€å®éªŒå‡†å¤‡</h2><p>å•Šæˆ‘ä»¬è¿™æ¬¡éœ€è¦ç”¨çš„åº“æœ‰ï¼š</p><ul><li>cartopoy</li><li>xarray</li><li>imageio</li><li>numpy</li><li>pandas</li></ul><p>å¦‚æœå‘ç°cartopyå®‰è£…ä¸äº†ï¼Œå¯ä»¥å…ˆåœ¨<a href="https://www.lfd.uci.edu/~gohlke/pythonlibs/#cartopy">ç½‘ç«™</a>ä¸‹è½½ä¾èµ–åº“ã€‚</p><p>åˆ†åˆ«æ˜¯ï¼š</p><ul><li>pyproj</li><li>Pillow</li><li>Shapely</li><li>Cartopy</li></ul><p>æˆ‘ä»¬ä¸‹è½½å¥½å¯¹åº”Pythonç‰ˆæœ¬å’ŒOSç±»å‹çš„<code>.whl</code>æ–‡ä»¶åï¼Œåœ¨<code>anaconda prompt</code>ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install path\your_file.whl</span><br></pre></td></tr></table></figure><p>å³å¯ã€‚</p><hr><p>å…³äºæµ·æ´‹é¥æ„Ÿæ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨https://podaac.jpl.nasa.gov/ä¸Šä¸‹è½½æ•°æ®ï¼Œå½“ç„¶ï¼ŒNASAçš„è¿™ä¸ªç½‘ç«™å¯èƒ½éœ€è¦ç§‘å­¦ä¸Šç½‘ã€‚</p><hr><h2 id="äºŒã€æ•°æ®å¤„ç†">äºŒã€æ•°æ®å¤„ç†</h2><p>æˆ‘ä»¬ä¸‹è½½ä¸‹æ¥çš„æ–‡ä»¶æ˜¯<code>.nc</code>æ–‡ä»¶ï¼Œè¿™ä¸ªç±»å‹çš„æ–‡ä»¶å¯ä»¥ç”¨<code>xarray</code>æˆ–è€…<code>netCDF4</code>è¿™ä¸¤ä¸ªåº“è¿›è¡Œè¯»å–å“¦ã€‚ä¸‹é¢æˆ‘ä»¬å±•ç¤º<code>xarray</code>çš„è¯»å–æ–¹å¼ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯¼å…¥åº“</span></span><br><span class="line"><span class="keyword">import</span> xarray <span class="keyword">as</span> xr</span><br></pre></td></tr></table></figure><p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œ<code>xarray</code>æœ‰å¯èƒ½è·Ÿ<code>pytorch</code>æˆ–è€…<code>tensoflow</code>äº§ç”Ÿå†²çªï¼Œå°¤å…¶æ˜¯<code>torchtext</code>åº“ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œå¯èƒ½éœ€è¦å¯¹ç°æœ‰çš„ä¾èµ–åº“è¿›è¡Œæ›´æ–°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¯»å–æ•°æ®</span></span><br><span class="line">data = xr.open_dataset(d)</span><br></pre></td></tr></table></figure><img src="/2022/09/25/%E3%80%90%E6%B5%B7%E6%B4%8B%E9%81%A5%E6%84%9F%E3%80%91%E7%BB%98%E5%88%B6%E6%B5%B7%E6%B4%8B%E8%A1%A8%E9%9D%A2%E6%B8%A9%E5%BA%A6%E5%8A%A8%E5%9B%BE/image-20220925212334604.png" alt="image-20220925212334604" style="zoom:50%;"><p>æ­¤æ—¶å‘¢ï¼Œæ•°æ®å°±è¢«æˆ‘ä»¬è¯»å–è¿›æ¥å•¦ã€‚æˆ‘ä»¬è¿™æ¬¡éœ€è¦ç”¨åˆ°çš„å€¼ä¸ºSST(sea surface temperature)ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦è·å–åˆ°è¿™ä¸ªç»´åº¦çš„æ•°æ®ã€‚</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sst = data.variables[<span class="string">&quot;sea_surface_temperature&quot;</span>][:] <span class="comment"># é€šè¿‡variableså±æ€§ é€‰æ‹©å¯¹åº”ç»´åº¦çš„æ•°æ®</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–ç»çº¬åº¦æ•°æ®</span></span><br><span class="line">lon = data.variables[<span class="string">&#x27;lon&#x27;</span>][:]</span><br><span class="line">lat = data.variables[<span class="string">&#x27;lat&#x27;</span>][:]</span><br></pre></td></tr></table></figure><p>è¿™äº›æ•°æ®ç¬¦ä¸ç¬¦åˆè§„èŒƒï¼Œæ˜¯ä¸€ä¸ªå€¼å¾—æ³¨æ„çš„é—®é¢˜ã€‚æˆ‘ä»¬å‘ç°ï¼Œè¯¥æ–‡ä»¶çš„SSTæ•°æ®ç¼ºå¤±äº†ä¸å°‘å€¼ï¼Œéœ€è¦åšä¸€ä¸ªæ¸…æ´—ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è·å–åˆ°DataFrameæ–¹ä¾¿å¤„ç†</span></span><br><span class="line">sst = np.array(sst)</span><br><span class="line">d = pd.DataFrame(sst[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(d.describe())</span><br><span class="line"><span class="comment"># ç”¨å¹³å‡å€¼å¡«å……</span></span><br><span class="line">d.fillna(d.mean(), inplace=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure><hr><h2 id="ä¸‰ã€ç»˜åˆ¶å›¾åƒ">ä¸‰ã€ç»˜åˆ¶å›¾åƒ</h2><p>å¥½å•¦æˆ‘ä»¬ç°åœ¨è¦ç”¨åˆ°<code>cartopy</code>è¿›è¡Œç»˜å›¾å•¦~</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¹‹å‰æ‹¿åˆ°çš„æ•°æ®æ˜¯xarrayç±»å‹çš„ï¼Œæˆ‘ä»¬éœ€è¦è½¬æ¢åˆ°ndarryç±»å‹</span></span><br><span class="line">lon,lat=np.array(lon),np.array(lat)</span><br><span class="line">sst=d.values</span><br></pre></td></tr></table></figure><p>è®¾ç½®æˆ‘ä»¬åœ°å›¾çš„æŠ•å½±</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">   ax = plt.axes(projection=ccrs.PlateCarree())  <span class="comment"># è®¾ç½®æŠ•å½±æ–¹å¼</span></span><br><span class="line">   extend=[-<span class="number">30</span>,-<span class="number">16</span>, -<span class="number">60</span>, -<span class="number">46</span>] <span class="comment"># è®¾ç½®æ˜¾ç¤ºèŒƒå›´</span></span><br><span class="line">   </span><br><span class="line">   ax.set_extent(extend)  <span class="comment"># è®¾ç½®ç»çº¬åº¦èŒƒå›´</span></span><br><span class="line">   ax.stock_img()<span class="comment">#æ·»åŠ åœ°çƒèƒŒæ™¯</span></span><br><span class="line">   </span><br><span class="line">   ax.add_feature(cfe.OCEAN) <span class="comment"># æ·»åŠ è¦ç´ </span></span><br><span class="line">   ax.add_feature(cfe.LAND,edgecolor=<span class="string">&#x27;black&#x27;</span>)</span><br><span class="line">   ax.add_feature(cfe.LAKES,edgecolor=<span class="string">&#x27;black&#x27;</span>)</span><br><span class="line">   ax.add_feature(cfe.RIVERS)</span><br><span class="line">   rivers_10m = cfe.NaturalEarthFeature(<span class="string">&#x27;physical&#x27;</span>, <span class="string">&#x27;rivers_lake_centerlines&#x27;</span>, <span class="string">&#x27;10m&#x27;</span>)</span><br><span class="line">   ax.add_feature(rivers_10m,facecolor=<span class="string">&quot;None&quot;</span>,edgecolor=<span class="string">&#x27;b&#x27;</span>)</span><br><span class="line">   </span><br><span class="line">    ax.gridlines(crs=ccrs.PlateCarree(), draw_labels=<span class="literal">True</span>, linewidth=<span class="number">0.2</span>, color=<span class="string">&#x27;k&#x27;</span>, alpha=<span class="number">0.5</span>, linestyle=<span class="string">&#x27;--&#x27;</span>) <span class="comment"># æ·»åŠ ç»çº¬ç½‘</span></span><br><span class="line">    </span><br><span class="line">   ax.coastlines() <span class="comment"># è®¾ç½®æµ·å²¸çº¿</span></span><br><span class="line">   ax.set_title(<span class="string">&quot;æˆ‘ä¹Ÿä¸çŸ¥æ˜¯å•¥æ•°æ®&quot;</span>)</span><br><span class="line"></span><br><span class="line">levels = np.arange(sst.<span class="built_in">min</span>(), sst.<span class="built_in">max</span>()+ <span class="number">1</span>, <span class="number">1</span>) <span class="comment"># è®¾ç½®é¢œè‰²åˆ†è¾¨åº¦</span></span><br><span class="line">cp=ax.contourf(lon,lat,sst,cmap=<span class="string">&#x27;Spectral_r&#x27;</span>,levels=levels) <span class="comment"># ç»˜åˆ¶äºŒç»´æ ¼ç½‘</span></span><br><span class="line">   plt.colorbar(cp)<span class="comment"># è®¾ç½®è‰²å¸¦</span></span><br><span class="line">   plt.show()</span><br><span class="line">   </span><br></pre></td></tr></table></figure><img src="/2022/09/25/%E3%80%90%E6%B5%B7%E6%B4%8B%E9%81%A5%E6%84%9F%E3%80%91%E7%BB%98%E5%88%B6%E6%B5%B7%E6%B4%8B%E8%A1%A8%E9%9D%A2%E6%B8%A9%E5%BA%A6%E5%8A%A8%E5%9B%BE/image-20220925214125007.png" alt="image-20220925214125007" style="zoom:50%;"><hr><h2 id="å››ã€åŠ¨å›¾åˆ¶ä½œ">å››ã€åŠ¨å›¾åˆ¶ä½œ</h2><p>è¿™é‡Œæˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨åˆ°<code>imageio</code>æ¨¡å—äº†ã€‚</p><p>è¿™é‡Œç®€å•è¯´ä¸€ä¸‹å¦‚ä½•é€šè¿‡<code>imageio</code>åˆ¶ä½œ<code>gif</code>åŠ¨å›¾ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡<code>imageio.imread()</code>APIè¯»å–å›¾ç‰‡æ•°æ®ï¼Œå°†å…¶å­˜æ”¾åœ¨å®¹å™¨åˆ—è¡¨ä¸­ã€‚å†é€šè¿‡<code>imageio.mimsave()</code>è¿›è¡Œåˆ¶ä½œã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®šä¹‰ä¸€ä¸ªåˆ›å»ºgifçš„æ–¹æ³•</span></span><br><span class="line"> <span class="keyword">def</span> <span class="title function_">create_gif</span>(<span class="params">filelist,name,dur=<span class="number">1.0</span></span>)-&gt;<span class="literal">None</span>:</span><br><span class="line">    IMG=[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> filelist:</span><br><span class="line">        IMG.append(imageio.imread(i))</span><br><span class="line">    <span class="keyword">return</span> imageio.mimsave(name,IMG,<span class="string">&quot;GIF&quot;</span>,duration=dur)</span><br></pre></td></tr></table></figure><p>æ¥ç€è·å–<code>plt</code>çš„å›¾åƒèµ„æº</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">plt.savefig((val:=path+<span class="string">&quot;%s.png&quot;</span>%time),dpi=<span class="number">200</span>)</span><br><span class="line">lis.append(val)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># é‡Šæ”¾èµ„æº</span></span><br><span class="line">plt.close()</span><br></pre></td></tr></table></figure><p>æœ€ç»ˆç»“æœå¦‚ä¸‹å›¾å•¦ï¼Œæ•°æ®æ˜¯éšä¾¿æ‹‰çš„ï¼Œæ‰€ä»¥å¯¹ä¸å¤ªä¸Š</p><img src="/2022/09/25/%E3%80%90%E6%B5%B7%E6%B4%8B%E9%81%A5%E6%84%9F%E3%80%91%E7%BB%98%E5%88%B6%E6%B5%B7%E6%B4%8B%E8%A1%A8%E9%9D%A2%E6%B8%A9%E5%BA%A6%E5%8A%A8%E5%9B%BE/New.gif" alt="New" style="zoom:50%;"><hr><h2 id="å®Œæ•´ä»£ç ">å®Œæ•´ä»£ç </h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cartopy.crs <span class="keyword">as</span> ccrs</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> cartopy.feature <span class="keyword">as</span> cfe</span><br><span class="line"><span class="keyword">import</span> xarray <span class="keyword">as</span> xr</span><br><span class="line"><span class="keyword">import</span> imageio</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºgifå›¾åƒ</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">create_gif</span>(<span class="params">filelist,name,dur=<span class="number">1.0</span></span>)-&gt;<span class="literal">None</span>:</span><br><span class="line">    IMG=[]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> filelist:</span><br><span class="line">        IMG.append(imageio.imread(i))</span><br><span class="line">    <span class="keyword">return</span> imageio.mimsave(name,IMG,<span class="string">&quot;GIF&quot;</span>,duration=dur)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">working</span>(<span class="params">d,path,time,lis</span>)-&gt;<span class="literal">None</span>:</span><br><span class="line">    <span class="comment"># æ•°æ®æ¸…æ´—</span></span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    :param data: æ•°æ®</span></span><br><span class="line"><span class="string">    :param path: ä¿å­˜è·¯å¾„</span></span><br><span class="line"><span class="string">    :param time: åå­—å§</span></span><br><span class="line"><span class="string">    :param lis: GIFæ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    data = xr.open_dataset(d)</span><br><span class="line">    sst = data.variables[<span class="string">&quot;sea_surface_temperature&quot;</span>][:]</span><br><span class="line"></span><br><span class="line">    lon = data.variables[<span class="string">&#x27;lon&#x27;</span>][:]</span><br><span class="line">    lat = data.variables[<span class="string">&#x27;lat&#x27;</span>][:]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    sst = np.array(sst)</span><br><span class="line">    d = pd.DataFrame(sst[<span class="number">0</span>])</span><br><span class="line">    <span class="comment"># print(d.describe())</span></span><br><span class="line">    d.fillna(d.mean(), inplace=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    lon,lat=np.array(lon),np.array(lat)</span><br><span class="line">    sst=d.values</span><br><span class="line"></span><br><span class="line">    ax = plt.axes(projection=ccrs.PlateCarree())  <span class="comment"># è®¾ç½®æŠ•å½±æ–¹å¼</span></span><br><span class="line">    extend=[-<span class="number">30</span>,-<span class="number">16</span>, -<span class="number">60</span>, -<span class="number">46</span>]</span><br><span class="line">    ax.set_extent(extend)  <span class="comment"># è®¾ç½®ç»çº¬åº¦èŒƒå›´</span></span><br><span class="line">    ax.stock_img()<span class="comment">#æ·»åŠ åœ°çƒèƒŒæ™¯</span></span><br><span class="line">    ax.add_feature(cfe.OCEAN)</span><br><span class="line">    ax.add_feature(cfe.LAND,edgecolor=<span class="string">&#x27;black&#x27;</span>)</span><br><span class="line">    ax.add_feature(cfe.LAKES,edgecolor=<span class="string">&#x27;black&#x27;</span>)</span><br><span class="line">    ax.add_feature(cfe.RIVERS)</span><br><span class="line"></span><br><span class="line">    rivers_10m = cfe.NaturalEarthFeature(<span class="string">&#x27;physical&#x27;</span>, <span class="string">&#x27;rivers_lake_centerlines&#x27;</span>, <span class="string">&#x27;10m&#x27;</span>)</span><br><span class="line">    ax.add_feature(rivers_10m,facecolor=<span class="string">&quot;None&quot;</span>,edgecolor=<span class="string">&#x27;b&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    ax.gridlines(crs=ccrs.PlateCarree(), draw_labels=<span class="literal">True</span>, linewidth=<span class="number">0.2</span>, color=<span class="string">&#x27;k&#x27;</span>, alpha=<span class="number">0.5</span>, linestyle=<span class="string">&#x27;--&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    ax.coastlines()</span><br><span class="line">    ax.set_title(<span class="string">&quot;æˆ‘ä¹Ÿä¸çŸ¥æ˜¯å•¥æ•°æ®&quot;</span>)</span><br><span class="line"></span><br><span class="line">    levels = np.arange(sst.<span class="built_in">min</span>(), sst.<span class="built_in">max</span>()+ <span class="number">1</span>, <span class="number">1</span>) <span class="comment"># è®¾ç½®ç»˜ç”»ç²¾åº¦</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    cp=ax.contourf(lon,lat,sst,cmap=<span class="string">&#x27;Spectral_r&#x27;</span>,levels=levels)</span><br><span class="line">    plt.colorbar(cp)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># ax.set_xticks(np.arange(extend[0],extend[1],5))</span></span><br><span class="line">    <span class="comment"># ax.set_yticks(np.arange(extend[2],extend[3],5))</span></span><br><span class="line"></span><br><span class="line">    plt.savefig((val:=path+<span class="string">&quot;%s.png&quot;</span>%time),dpi=<span class="number">200</span>)</span><br><span class="line">    lis.append(val)</span><br><span class="line">    <span class="comment"># é‡Šæ”¾èµ„æºå–½</span></span><br><span class="line"></span><br><span class="line">    plt.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;Microsoft YaHei&#x27;</span>]</span><br><span class="line">    <span class="comment"># plt.rcParams[&#x27;axes.unicode_minus&#x27;] = False  # Solve the minus sign problems   # ç°åœ¨å¥½åƒä¸è®¾ç½®ä¹Ÿæ²¡æœ‰é—®é¢˜äº†ï¼Ÿ</span></span><br><span class="line"></span><br><span class="line">    path=<span class="string">r&quot;C:\&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    filelist=os.listdir(path)</span></span><br><span class="line"><span class="string">    Time=[]</span></span><br><span class="line"><span class="string">    filedata=[]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    for i,j in enumerate(filelist):</span></span><br><span class="line"><span class="string">        if j.endswith(&quot;</span>.nc<span class="string">&quot;):</span></span><br><span class="line"><span class="string">            Time.append(i)</span></span><br><span class="line"><span class="string">            filedata.append(j)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    IMG=[]</span></span><br><span class="line"><span class="string">    savePath=path+&quot;</span>SavePath\\<span class="string">&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    if not os.path.exists(savePath):</span></span><br><span class="line"><span class="string">        os.makedirs(savePath)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    for i,j in enumerate(filedata):</span></span><br><span class="line"><span class="string">        working(path+j,savePath,Time[i],IMG)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    create_gif(IMG,savePath+&quot;</span>New.gi<span class="string">f&quot;,1.0)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">æµ·æ´‹é¥æ„Ÿ</summary>
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="æµ·æ´‹é¥æ„Ÿ" scheme="http://example.com/tags/%E6%B5%B7%E6%B4%8B%E9%81%A5%E6%84%9F/"/>
    
  </entry>
  
  <entry>
    <title>éšæƒ³å½•</title>
    <link href="http://example.com/2022/09/25/%E3%80%90%E9%9A%8F%E6%83%B3%E5%BD%95%E3%80%91%E9%9A%8F%E6%83%B3%E5%BD%95/"/>
    <id>http://example.com/2022/09/25/%E3%80%90%E9%9A%8F%E6%83%B3%E5%BD%95%E3%80%91%E9%9A%8F%E6%83%B3%E5%BD%95/</id>
    <published>2022-09-24T18:13:10.489Z</published>
    <updated>2022-09-24T18:26:19.065Z</updated>
    
    <content type="html"><![CDATA[<h2 id="è®°9æœˆ25æ—¥å¤œæ¸¸">è®°9æœˆ25æ—¥å¤œæ¸¸</h2><p>ç›‘ç‹±çš„å¤§é—¨æ—©å·²æŠ¹ä¸Šäº†è‡ªç”±çš„ç—•è¿¹ï¼Œå¦‚é”å­”é‡Œå¼¥æ•£è·ƒå‡ºçš„å¹½å…‰èˆ¬ä»¤äººç¥å¾€ã€‚</p><p>å¤œåŠäº†ï¼Œç‚¹ç¯äººæç€æ˜é»„çš„çƒ›ç«ï¼Œé©±èµ¶ç€åªæ•¢åœ¨æ— äººç©ºå¤„å“€åšå®£æ³„çš„é‡ç‹—ã€‚å¹½å¤œçš„èˆå°åªä½™ä¸‹æ­¤èµ·å½¼ä¼çš„é¸£è™«ã€‚</p><p>æˆ‘æ˜¯è°ï¼Œæˆ‘ä¸ºä½•åœ¨æ­¤ï¼Œæˆ‘åˆè¦å‰å¾€ä½•æ–¹ï¼Ÿæ®‹å£æ–­å£ä¸‹ï¼Œå°˜åœŸéšé£æ•£å»ï¼Œå¯„å¾€ä½•å¤„ï¼Ÿ</p><p>æ˜Ÿç«ç‚¹ç‚¹ï¼Œæ¸…æ˜ä¹‹æ¢¦ï¼Œä½ æˆ‘çš†ä¸è¯­ã€‚</p><img src="/2022/09/25/%E3%80%90%E9%9A%8F%E6%83%B3%E5%BD%95%E3%80%91%E9%9A%8F%E6%83%B3%E5%BD%95/image-20220925022605938.png" alt="image-20220925022605938" style="zoom:100%;"><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">éšæƒ³å½•</summary>
    
    
    
    <category term="æ¢¦æ—¶é£æœˆ" scheme="http://example.com/categories/%E6%A2%A6%E6%97%B6%E9%A3%8E%E6%9C%88/"/>
    
    
    <category term="æˆ‘" scheme="http://example.com/tags/%E6%88%91/"/>
    
  </entry>
  
  <entry>
    <title>Matplotlibæ•™ç¨‹</title>
    <link href="http://example.com/2022/09/15/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91matplotlib%E6%95%99%E7%A8%8B/"/>
    <id>http://example.com/2022/09/15/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91matplotlib%E6%95%99%E7%A8%8B/</id>
    <published>2022-09-15T02:44:39.744Z</published>
    <updated>2022-10-15T18:54:37.509Z</updated>
    
    <content type="html"><![CDATA[<h1>Matplotlibæ•™ç¨‹</h1><hr><h2 id="ä¸€ã€ç»“æ„ä»‹ç»">ä¸€ã€ç»“æ„ä»‹ç»</h2><h3 id="1ï¸âƒ£å®¹å™¨å±‚">1ï¸âƒ£å®¹å™¨å±‚</h3><p>å®¹å™¨å±‚ä¸»è¦ç”±<code>Canvas, Figure, Axes</code>ç»„æˆã€‚</p><p><code>Canvas</code>ä¸»è¦æ˜¯åœ¨æœ€åº•å±‚çš„ç³»ç»Ÿå±‚ï¼Œå¯ä»¥æ”¾ç½®ç”»å¸ƒçš„å·¥å…·</p><p><code>Figure</code>æ˜¯<code>Canvas</code>ä¸Šçš„ç¬¬ä¸€å±‚ï¼Œå……å½“ç€ç”»å¸ƒçš„è§’è‰²</p><p><code>Axes</code>æ˜¯ç¬¬äºŒå±‚ï¼Œç›¸å½“äºç»˜å›¾åŒºçš„è§’è‰²</p><ul><li>Figure æ•´ä¸ªå›¾å½¢</li><li>Axes ç»˜å›¾åŒºåŸŸ</li><li>Axis åæ ‡è½´</li></ul><blockquote><p>ä¸€ä¸ªå›¾åƒå¯ä»¥åŒ…å«å¤šä¸ªç»˜å›¾åŒº(Axes)ï¼Œä½†ä¸€ä¸ªAxesåªèƒ½å±äºä¸€ä¸ªfigure.</p><p>ä¸€ä¸ªç»˜å›¾åŒº(åæ ‡ç³»)å¯ä»¥åŒ…å«å¤šä¸ªåæ ‡è½´</p></blockquote><img src="/2022/09/15/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91matplotlib%E6%95%99%E7%A8%8B/image-20220915110310589.png" alt="image-20220915110310589" style="zoom:50%;"><h3 id="2ï¸âƒ£-è¾…åŠ©æ˜¾ç¤ºå±‚">2ï¸âƒ£ è¾…åŠ©æ˜¾ç¤ºå±‚</h3><p>é™¤å´å›¾åƒå¤–çš„å†…å®¹ï¼Œä¾‹å¦‚å¤–è§‚ã€è¾¹æ¡†çº¿ã€åæ ‡è½´ã€åæ ‡è½´åç§°ç­‰ç­‰</p><h3 id="3ï¸âƒ£-å›¾åƒå±‚">3ï¸âƒ£ å›¾åƒå±‚</h3><p>å›¾åƒå±‚æŒ‡<code>Axes</code>å†…é€šè¿‡<code>plotã€scatterã€barã€histogramã€pie</code>ç­‰å‡½æ•°ç»˜åˆ¶å‡ºçš„å›¾åƒ</p><img src="/2022/09/15/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91matplotlib%E6%95%99%E7%A8%8B/image-20220915110623165.png" alt="image-20220915110623165" style="zoom:50%;"><hr><h2 id="äºŒã€æŠ˜çº¿å›¾ä¸åŸºæœ¬ç»˜å›¾åŠŸèƒ½">äºŒã€æŠ˜çº¿å›¾ä¸åŸºæœ¬ç»˜å›¾åŠŸèƒ½</h2><p>è¯´èµ·æ¥ï¼Œ<code>matplotlib.pyplot</code>è¿™ç©æ„ä½œç”¨äºå½“å‰å›¾å½¢(Figure)çš„å½“å‰åæ ‡ç³»(Axes)ã€‚</p><p><strong>åŸºæœ¬åŠŸèƒ½</strong></p><p>1ï¸âƒ£ è®¾ç½®ç”»å¸ƒå±æ€§</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.figure(figsize=(),dpi=)</span><br></pre></td></tr></table></figure><p>2ï¸âƒ£ ä¿å­˜ç”»å¸ƒ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.savefig(path)</span><br></pre></td></tr></table></figure><p>3ï¸âƒ£ æ˜¾ç¤ºå›¾åƒ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.show() <span class="comment"># ä¼šé‡Šæ”¾èµ„æºï¼Œæ‰€ä»¥ä¸€å®šæ˜¯åœ¨æœ€å </span></span><br></pre></td></tr></table></figure><p>4ï¸âƒ£ æ·»åŠ åˆ»åº¦</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">plt.xticks(val,<span class="built_in">map</span>)</span><br><span class="line">plt.yticks(val,<span class="built_in">map</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># like</span></span><br><span class="line">plt.xticks(x[::<span class="number">5</span>],x_ticks_label[::<span class="number">5</span>])</span><br><span class="line">plt.yticks(y_ticks[::<span class="number">5</span>])</span><br></pre></td></tr></table></figure><p>5ï¸âƒ£ è®¾ç½®å­—ä½“</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#è®¾ç½®ä¸­æ–‡å­—ä½“</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>]=[<span class="string">&#x27;SimHei&#x27;</span>]</span><br></pre></td></tr></table></figure><p>6ï¸âƒ£ æ·»åŠ ç½‘ç»œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.grid(<span class="literal">True</span>,linestyle=<span class="string">&quot;--&quot;</span>,alpha=<span class="number">0.5</span>)</span><br></pre></td></tr></table></figure><p>7ï¸âƒ£ æ·»åŠ æè¿°ä¿¡æ¯</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plt.xlabel(<span class="string">&quot;æ—¶é—´&quot;</span>) </span><br><span class="line">plt.ylabel(<span class="string">&quot;æ¸©åº¦&quot;</span>) </span><br><span class="line">plt.title(<span class="string">&quot;ä¸­åˆ11ç‚¹0åˆ†åˆ°12ç‚¹ä¹‹é—´çš„æ¸©åº¦å˜åŒ–å›¾ç¤º&quot;</span>)</span><br></pre></td></tr></table></figure><p>8ï¸âƒ£ å¤šæ¬¡<code>plot</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç»˜åˆ¶æŠ˜çº¿å›¾ </span></span><br><span class="line">plt.plot(x, y_shanghai, label=<span class="string">&quot;ä¸Šæµ·&quot;</span>) </span><br><span class="line"><span class="comment"># ä½¿â½¤å¤šæ¬¡plotå¯ä»¥ç”»å¤šä¸ªæŠ˜çº¿ </span></span><br><span class="line">plt.plot(x, y_beijing, color=<span class="string">&#x27;r&#x27;</span>, linestyle=<span class="string">&#x27;--&#x27;</span>, label=<span class="string">&quot;åŒ—äº¬&quot;</span>) </span><br></pre></td></tr></table></figure><p>9ï¸âƒ£ æ·»åŠ å›¾ä¾‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ˜¾ç¤ºå›¾ä¾‹ </span></span><br><span class="line">plt.legend(loc=<span class="string">&quot;best&quot;</span>)</span><br></pre></td></tr></table></figure><p>å…³äºå›¾ä¾‹ï¼š</p><table><thead><tr><th style="text-align:center">Location String</th><th style="text-align:center">Location Code</th></tr></thead><tbody><tr><td style="text-align:center">â€˜bestâ€™</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">â€˜upper rightâ€™</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">â€˜upper leftâ€™</td><td style="text-align:center">2</td></tr><tr><td style="text-align:center">â€˜lower leftâ€™</td><td style="text-align:center">3</td></tr><tr><td style="text-align:center">â€˜lower rightâ€™</td><td style="text-align:center">4</td></tr><tr><td style="text-align:center">â€˜rightâ€™</td><td style="text-align:center">5</td></tr><tr><td style="text-align:center">â€˜center leftâ€™</td><td style="text-align:center">6</td></tr><tr><td style="text-align:center">â€˜center rightâ€™</td><td style="text-align:center">7</td></tr><tr><td style="text-align:center">â€˜lower centerâ€™</td><td style="text-align:center">8</td></tr><tr><td style="text-align:center">â€˜upper centerâ€™</td><td style="text-align:center">9</td></tr><tr><td style="text-align:center">â€˜centerâ€™</td><td style="text-align:center">10</td></tr></tbody></table><p>å…³äºé£æ ¼ï¼š</p><table><thead><tr><th style="text-align:center">é¢œè‰²å­—ç¬¦</th><th style="text-align:center">é£æ ¼å­—ç¬¦</th></tr></thead><tbody><tr><td style="text-align:center">r çº¢è‰²</td><td style="text-align:center">- å®çº¿</td></tr><tr><td style="text-align:center">g ç»¿è‰²</td><td style="text-align:center">â€“ è™šçº¿</td></tr><tr><td style="text-align:center">b è“è‰²</td><td style="text-align:center">-. ç‚¹åˆ’çº¿</td></tr><tr><td style="text-align:center">w ç™½è‰²</td><td style="text-align:center">ï¼šç‚¹è™šçº¿</td></tr><tr><td style="text-align:center">c é’è‰²</td><td style="text-align:center">â€˜â€™ ç•™ç©ºã€ç©ºæ ¼</td></tr><tr><td style="text-align:center">m æ´‹çº¢</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">y é»„è‰²</td><td style="text-align:center"></td></tr><tr><td style="text-align:center">k é»‘è‰²</td><td style="text-align:center"></td></tr></tbody></table><hr><p><strong>æ¥çœ‹ä¸ªæ —å­</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> matplotlib.pylab <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å­—ä½“</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>]=[<span class="string">&#x27;SimHei&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºæ•°æ®</span></span><br><span class="line">x=<span class="built_in">range</span>(<span class="number">60</span>)</span><br><span class="line">y_shanghai=[random.uniform(<span class="number">15</span>,<span class="number">18</span>) <span class="keyword">for</span> i <span class="keyword">in</span> x]</span><br><span class="line">y_beijing=[random.uniform(-<span class="number">5</span>,<span class="number">5</span>) <span class="keyword">for</span> i <span class="keyword">in</span> x]</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºç”»å¸ƒ</span></span><br><span class="line">plt.figure(figsize=(<span class="number">20</span>,<span class="number">8</span>),dpi=<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»˜å›¾</span></span><br><span class="line">plt.plot(x,y_shanghai,label=<span class="string">&quot;ä¸Šæµ·&quot;</span>,color=<span class="string">&quot;r&quot;</span>,linestyle=<span class="string">&quot;--&quot;</span>)</span><br><span class="line">plt.plot(x,y_beijing,label=<span class="string">&quot;åŒ—äº¬&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ åˆ»åº¦</span></span><br><span class="line">x_lables_ticks=[<span class="string">&quot;11ç‚¹&#123;&#125;åˆ†&quot;</span>.<span class="built_in">format</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> x]</span><br><span class="line">y_lables_ticks=<span class="built_in">range</span>(-<span class="number">10</span>,<span class="number">30</span>)</span><br><span class="line"></span><br><span class="line">plt.xticks(x[::<span class="number">5</span>],x_lables_ticks[::<span class="number">5</span>])</span><br><span class="line">plt.yticks(y_lables_ticks[::<span class="number">5</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ ç½‘æ ¼</span></span><br><span class="line">plt.grid(linestyle=<span class="string">&quot;--&quot;</span>,alpha=<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ æè¿°ä¿¡æ¯</span></span><br><span class="line">plt.xlabel(<span class="string">&quot;æ—¶é—´&quot;</span>, fontsize=<span class="number">16</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;æ¸©åº¦&quot;</span>, fontsize=<span class="number">16</span>)</span><br><span class="line">plt.title(<span class="string">&quot;æŸåŸå¸‚11ç‚¹-12ç‚¹æ¸©åº¦å˜åŒ–&quot;</span>, fontsize=<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ å›¾ä¾‹</span></span><br><span class="line">plt.legend(loc=<span class="string">&quot;best&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤º</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><img src="/2022/09/15/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91matplotlib%E6%95%99%E7%A8%8B/image-20220915113759811.png" alt="image-20220915113759811" style="zoom:50%;"><p>ğŸ”Ÿ åœ¨ä¸€ä¸ªFigureä¸Šç»˜åˆ¶å¤šä¸ªAxes</p><p>å½“å½“å½“å½“ï¼Œæ˜¯æˆ‘ä»¬çš„<code>subplots</code>å‡½æ•°å“¦</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">matplotlib.pyplot.subplots(nrows=<span class="number">1</span>,ncols=<span class="number">1</span>,**fig_kw)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">return : fig,axes</span></span><br><span class="line"><span class="string"># axesæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå­˜å‚¨äº†nrows*ncolsä¸ªaxesçš„å†…å­˜åœ°å€</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">import</span> matplotlib.pylab <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å­—ä½“</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>]=[<span class="string">&#x27;SimHei&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºæ•°æ®</span></span><br><span class="line">x=<span class="built_in">range</span>(<span class="number">60</span>)</span><br><span class="line">y_shanghai=[random.uniform(<span class="number">15</span>,<span class="number">18</span>) <span class="keyword">for</span> i <span class="keyword">in</span> x]</span><br><span class="line">y_beijing=[random.uniform(-<span class="number">5</span>,<span class="number">5</span>) <span class="keyword">for</span> i <span class="keyword">in</span> x]</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºç”»å¸ƒ</span></span><br><span class="line">fig,axes=plt.subplots(<span class="number">1</span>,<span class="number">2</span>,figsize=(<span class="number">20</span>,<span class="number">8</span>),dpi=<span class="number">80</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»˜åˆ¶</span></span><br><span class="line">axes[<span class="number">0</span>].plot(x,y_shanghai,label=<span class="string">&quot;ä¸Šæµ·&quot;</span>)</span><br><span class="line">axes[<span class="number">1</span>].plot(x,y_beijing,label=<span class="string">&quot;åŒ—äº¬&quot;</span>,linestyle=<span class="string">&quot;--&quot;</span>,color=<span class="string">&quot;r&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ x,yè½´åˆ»åº¦</span></span><br><span class="line">x_ticks_label = [<span class="string">&quot;11ç‚¹&#123;&#125;åˆ†&quot;</span>.<span class="built_in">format</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> x]</span><br><span class="line">y_ticks = <span class="built_in">range</span>(<span class="number">40</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ³¨æ„è¿™é‡Œç”¨setæ–¹æ³•å•¦</span></span><br><span class="line">axes[<span class="number">0</span>].set_xticks(x[::<span class="number">5</span>])</span><br><span class="line">axes[<span class="number">0</span>].set_yticks(y_ticks[::<span class="number">5</span>])</span><br><span class="line">axes[<span class="number">0</span>].set_xticklabels(x_ticks_label[::<span class="number">5</span>])</span><br><span class="line"></span><br><span class="line">axes[<span class="number">1</span>].set_xticks(x[::<span class="number">5</span>])</span><br><span class="line">axes[<span class="number">1</span>].set_yticks(y_ticks[::<span class="number">5</span>])</span><br><span class="line">axes[<span class="number">1</span>].set_xticklabels(x_ticks_label[::<span class="number">5</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ ç½‘æ ¼</span></span><br><span class="line"></span><br><span class="line">axes[<span class="number">0</span>].grid(<span class="literal">True</span>, linestyle=<span class="string">&quot;--&quot;</span>, alpha=<span class="number">0.5</span>)</span><br><span class="line">axes[<span class="number">1</span>].grid(<span class="literal">True</span>, linestyle=<span class="string">&quot;--&quot;</span>, alpha=<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ·»åŠ æè¿°å’Œæ ‡é¢˜</span></span><br><span class="line">axes[<span class="number">0</span>].set_xlabel(<span class="string">&quot;æ—¶é—´&quot;</span>)</span><br><span class="line">axes[<span class="number">0</span>].set_ylabel(<span class="string">&quot;æ¸©åº¦&quot;</span>)</span><br><span class="line">axes[<span class="number">0</span>].set_title(<span class="string">&quot;ä¸Šæµ·ä¸­åˆ11ç‚¹--12ç‚¹æ¸©åº¦å˜åŒ–å›¾&quot;</span>, fontsize=<span class="number">25</span>)</span><br><span class="line"></span><br><span class="line">axes[<span class="number">1</span>].set_xlabel(<span class="string">&quot;æ—¶é—´&quot;</span>)</span><br><span class="line">axes[<span class="number">1</span>].set_ylabel(<span class="string">&quot;æ¸©åº¦&quot;</span>)</span><br><span class="line">axes[<span class="number">1</span>].set_title(<span class="string">&quot;åŒ—äº¬ä¸­åˆ11ç‚¹--12ç‚¹æ¸©åº¦å˜åŒ–å›¾&quot;</span>, fontsize=<span class="number">25</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤ºå›¾ä¾‹</span></span><br><span class="line">axes[<span class="number">0</span>].legend(loc=<span class="number">0</span>)</span><br><span class="line">axes[<span class="number">1</span>].legend(loc=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ˜¾ç¤º</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><img src="/2022/09/15/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91matplotlib%E6%95%99%E7%A8%8B/image-20220915123329995.png" alt="image-20220915123329995" style="zoom:50%;"><hr><h2 id="ä¸‰ã€å¸¸è§å›¾å½¢">ä¸‰ã€å¸¸è§å›¾å½¢</h2><p>1ï¸âƒ£ <strong>æŠ˜çº¿å›¾</strong></p><p>ç‰¹ç‚¹ï¼šèƒ½å¤Ÿæ˜¾ç¤ºæ•°æ®çš„å˜åŒ–è¶‹åŠ¿ï¼Œååº”äº‹ç‰©çš„å˜åŒ–æƒ…å†µã€‚</p><p><code>API</code>ï¼š<code>plt.plot()</code></p><p>2ï¸âƒ£ <strong>æ•£ç‚¹å›¾</strong></p><p>ç‰¹ç‚¹ï¼š æ¢å¯»äº‹ç‰©é—´æ˜¯å¦å­˜åœ¨æŸç§å…³è”æˆ–è€…æ€»ç»“åæ ‡ç‚¹çš„åˆ†å¸ƒæ¨¡å¼ï¼Œå¯ä»¥ç”¨äºæ˜¾ç¤ºç¦»ç¾¤ç‚¹(anomaly)</p><p><code>API</code>ï¼š<code>plt.scatter(x,y)</code></p><p>3ï¸âƒ£ <strong>æŸ±çŠ¶å›¾</strong></p><p>ç‰¹ç‚¹ï¼šæ¢å¯»äº‹ç‰©çš„åˆ†å¸ƒæ¨¡å¼ï¼Œæ¯”è¾ƒæ•°æ®ä¹‹é—´çš„å·®å¼‚ï¼Œç»Ÿè®¡+å¯¹æ¯”</p><p><code>API</code>ï¼š<code>plt.bar(x,width)</code></p><p>4ï¸âƒ£ <strong>ç›´æ–¹å›¾</strong></p><p>ç‰¹ç‚¹ï¼šç»˜åˆ¶è¿ç»­æ€§çš„æ•°æ®å±•ç¤ºä¸€ç»„æˆ–å¤šç»„æ•°æ®çš„åˆ†å¸ƒçŠ¶å†µ</p><p><code>API</code>ï¼š<code>plt.pyplot.hist(x,bins=None)</code></p><p>4ï¸âƒ£ <strong>é¥¼å›¾</strong></p><p>ç‰¹ç‚¹ï¼šç›´è§‚å±•ç°äº†ä¸åŒæ•°æ®çš„å æ¯”æƒ…å†µ</p><p><code>API</code>ï¼š<code>plt.pie(x,labels=,autopct=,colors)</code></p><p>5ï¸âƒ£<strong>ç»˜åˆ¶çº¿æ¡</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> idx,m <span class="keyword">in</span> <span class="built_in">enumerate</span>(x):</span><br><span class="line">    <span class="comment"># ç»˜åˆ¶é•¿æ¡</span></span><br><span class="line">    <span class="comment"># ä»(m,y[idx])åˆ°(m,pre[idx])</span></span><br><span class="line">    plt.plot([m,m],[y[idx],pre[idx]],<span class="string">&#x27;g-&#x27;</span>)</span><br></pre></td></tr></table></figure><hr><p>æ³¨æ„ï¼Œåˆ»åº¦ä¸€å®šè¦<strong>å…ˆç”»å®Œå›¾</strong>ï¼Œ<strong>å†æ·»åŠ åˆ»åº¦</strong>ï¼ï¼</p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">ä¸‰ä»¶å¥—ä¹‹ç»˜å›¾åº“</summary>
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="æ•°æ®åˆ†æ" scheme="http://example.com/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>Pandasæ•™ç¨‹</title>
    <link href="http://example.com/2022/09/13/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91Pandas%E5%85%A5%E9%97%A8/"/>
    <id>http://example.com/2022/09/13/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91Pandas%E5%85%A5%E9%97%A8/</id>
    <published>2022-09-13T08:12:17.190Z</published>
    <updated>2022-09-15T02:43:23.194Z</updated>
    
    <content type="html"><![CDATA[<h1>Pandas æ•™ç¨‹</h1><img src="https://www.runoob.com/wp-content/uploads/2021/04/pandas.png" alt="img" style="zoom:25%;"><p><strong>Pandas æ˜¯ Python è¯­è¨€çš„ä¸€ä¸ªæ‰©å±•ç¨‹åºåº“ï¼Œç”¨äºæ•°æ®åˆ†æã€‚</strong></p><p>Pandas æ˜¯ä¸€ä¸ªå¼€æ”¾æºç ã€BSD è®¸å¯çš„åº“ï¼Œæä¾›é«˜æ€§èƒ½ã€æ˜“äºä½¿ç”¨çš„æ•°æ®ç»“æ„å’Œæ•°æ®åˆ†æå·¥å…·ã€‚</p><p>Pandas åå­—è¡ç”Ÿè‡ªæœ¯è¯­ â€œpanel dataâ€ï¼ˆé¢æ¿æ•°æ®ï¼‰å’Œ â€œPython data analysisâ€ï¼ˆPython æ•°æ®åˆ†æï¼‰ã€‚</p><p>Pandas ä¸€ä¸ªå¼ºå¤§çš„åˆ†æç»“æ„åŒ–æ•°æ®çš„å·¥å…·é›†ï¼ŒåŸºç¡€æ˜¯ <a href="https://www.runoob.com/numpy/numpy-tutorial.html">Numpy</a>ï¼ˆæä¾›é«˜æ€§èƒ½çš„çŸ©é˜µè¿ç®—ï¼‰ã€‚</p><p>Pandas å¯ä»¥ä»å„ç§æ–‡ä»¶æ ¼å¼æ¯”å¦‚ CSVã€JSONã€SQLã€Microsoft Excel å¯¼å…¥æ•°æ®ã€‚</p><p>Pandas å¯ä»¥å¯¹å„ç§æ•°æ®è¿›è¡Œè¿ç®—æ“ä½œï¼Œæ¯”å¦‚å½’å¹¶ã€å†æˆå½¢ã€é€‰æ‹©ï¼Œè¿˜æœ‰æ•°æ®æ¸…æ´—å’Œæ•°æ®åŠ å·¥ç‰¹å¾ã€‚</p><p>Pandas å¹¿æ³›åº”ç”¨åœ¨å­¦æœ¯ã€é‡‘èã€ç»Ÿè®¡å­¦ç­‰å„ä¸ªæ•°æ®åˆ†æé¢†åŸŸã€‚</p><h2 id="Pandas-åº”ç”¨">Pandas åº”ç”¨</h2><p>Pandas çš„ä¸»è¦æ•°æ®ç»“æ„æ˜¯ Series ï¼ˆä¸€ç»´æ•°æ®ï¼‰ä¸ DataFrameï¼ˆäºŒç»´æ•°æ®ï¼‰ï¼Œè¿™ä¸¤ç§æ•°æ®ç»“æ„è¶³ä»¥å¤„ç†é‡‘èã€ç»Ÿè®¡ã€ç¤¾ä¼šç§‘å­¦ã€å·¥ç¨‹ç­‰é¢†åŸŸé‡Œçš„å¤§å¤šæ•°å…¸å‹ç”¨ä¾‹ã€‚</p><h2 id="æ•°æ®ç»“æ„">æ•°æ®ç»“æ„</h2><p><strong>Series</strong> æ˜¯ä¸€ç§ç±»ä¼¼äºä¸€ç»´æ•°ç»„çš„å¯¹è±¡ï¼Œå®ƒç”±ä¸€ç»„æ•°æ®ï¼ˆå„ç§Numpyæ•°æ®ç±»å‹ï¼‰ä»¥åŠä¸€ç»„ä¸ä¹‹ç›¸å…³çš„æ•°æ®æ ‡ç­¾ï¼ˆå³ç´¢å¼•ï¼‰ç»„æˆã€‚</p><p><strong>DataFrame</strong> æ˜¯ä¸€ä¸ªè¡¨æ ¼å‹çš„æ•°æ®ç»“æ„ï¼Œå®ƒå«æœ‰ä¸€ç»„æœ‰åºçš„åˆ—ï¼Œæ¯åˆ—å¯ä»¥æ˜¯ä¸åŒçš„å€¼ç±»å‹ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å‹å€¼ï¼‰ã€‚DataFrame æ—¢æœ‰è¡Œç´¢å¼•ä¹Ÿæœ‰åˆ—ç´¢å¼•ï¼Œå®ƒå¯ä»¥è¢«çœ‹åšç”± Series ç»„æˆçš„å­—å…¸ï¼ˆå…±åŒç”¨ä¸€ä¸ªç´¢å¼•ï¼‰ã€‚</p><h2 id="ğŸ¥€-Why-Pandas">ğŸ¥€ Why Pandas</h2><ul><li>ä¾¿æ·çš„æ•°æ®å¤„ç†èƒ½åŠ›</li><li>ç‰›é€¼çš„æ–‡ä»¶è¯»å–èƒ½åŠ›</li><li>é«˜åº¦å°è£…çš„Matplotlibï¼ŒNumpyçš„ç”»å›¾å’Œè®¡ç®—</li></ul><hr><h2 id="ä¸€ã€Series-ã€ä¸€ç»´ç´¢å¼•æ•°ç»„ã€‘">ä¸€ã€Series ã€ä¸€ç»´ç´¢å¼•æ•°ç»„ã€‘</h2><p>Pandas Seriesç±»ä¼¼äºè¡¨æ ¼ä¸­çš„ä¸€ä¸ªåˆ—(colume)ç±»ä¼¼äºä¸€ç»´æ•°ç»„ï¼Œå¯ä»¥ä¿å­˜ä»»ä½•æ•°æ®ç±»å‹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.Series(data,index,dtype,name,copy)</span><br></pre></td></tr></table></figure><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><strong>data</strong>ï¼šä¸€ç»„æ•°æ®(ndarray ç±»å‹)ã€‚</li><li><strong>index</strong>ï¼šæ•°æ®ç´¢å¼•æ ‡ç­¾ï¼Œå¦‚æœä¸æŒ‡å®šï¼Œé»˜è®¤ä» 0 å¼€å§‹ã€‚</li><li><strong>dtype</strong>ï¼šæ•°æ®ç±»å‹ï¼Œé»˜è®¤ä¼šè‡ªå·±åˆ¤æ–­ã€‚</li><li><strong>name</strong>ï¼šè®¾ç½®åç§°ã€‚</li><li><strong>copy</strong>ï¼šæ‹·è´æ•°æ®ï¼Œé»˜è®¤ä¸º Falseã€‚</li></ul><p><strong>æ —å­</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">a = [<span class="string">&quot;Google&quot;</span>, <span class="string">&quot;Runoob&quot;</span>, <span class="string">&quot;Wiki&quot;</span>]</span><br><span class="line"></span><br><span class="line">myvar = pd.Series(a, index = [<span class="string">&quot;x&quot;</span>, <span class="string">&quot;y&quot;</span>, <span class="string">&quot;z&quot;</span>])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(myvar)</span><br></pre></td></tr></table></figure><img src="https://www.runoob.com/wp-content/uploads/2021/04/32B49FA4-ED68-446A-9EBF-C52FCB6D0CD6.jpg" style="zoom:25%;"><p>ç„¶åï¼Œæˆ‘ä»¬å°±èƒ½é€šè¿‡ç´¢å¼•å€¼è®¿é—®å…ƒç´ å•¦ï¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(myvar[<span class="string">&quot;y&quot;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Runoob</span></span><br></pre></td></tr></table></figure><p>é™¤å´é€šè¿‡æ•°æ®åˆ—è¡¨å’Œç´¢å¼•åˆ—è¡¨å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡<code>å­—å…¸</code>ä¼ å…¥æ•°æ®ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">sites = &#123;<span class="number">1</span>: <span class="string">&quot;Google&quot;</span>, <span class="number">2</span>: <span class="string">&quot;Runoob&quot;</span>, <span class="number">3</span>: <span class="string">&quot;Wiki&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">myvar = pd.Series(sites)</span><br></pre></td></tr></table></figure><p>è€Œå½“æˆ‘ä»¬åªéœ€è¦å­—å…¸ä¸­çš„ä¸€éƒ¨åˆ†æ—¶ï¼Œå¯ä»¥é€‰æ‹©æ€§åœ°ä¼ å…¥ç´¢å¼•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sites = &#123;<span class="number">1</span>: <span class="string">&quot;Google&quot;</span>, <span class="number">2</span>: <span class="string">&quot;Runoob&quot;</span>, <span class="number">3</span>: <span class="string">&quot;Wiki&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">myvar = pd.Series(sites,index=[i <span class="keyword">for</span> i <span class="keyword">in</span> sites.keys() <span class="keyword">if</span> i&amp;<span class="number">1</span>])</span><br></pre></td></tr></table></figure><p>ç”šè‡³æ˜¯ä¸º<code>Series</code>è®¾ç½®åç§°å‚æ•°</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">sites = &#123;<span class="number">1</span>: <span class="string">&quot;Google&quot;</span>, <span class="number">2</span>: <span class="string">&quot;Runoob&quot;</span>, <span class="number">3</span>: <span class="string">&quot;Wiki&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">myvar = pd.Series(sites, index = [<span class="number">1</span>, <span class="number">2</span>], name=<span class="string">&quot;RUNOOB-Series-TEST&quot;</span> )</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(myvar)</span><br></pre></td></tr></table></figure><hr><h2 id="äºŒã€DataFrame-ã€äºŒç»´ç´¢å¼•çŸ©é˜µ-è¡¨-ã€‘">äºŒã€DataFrame ã€äºŒç»´ç´¢å¼•çŸ©é˜µ(è¡¨)ã€‘</h2><p>DataFrame æ˜¯ä¸€ä¸ªè¡¨æ ¼å‹çš„æ•°æ®ç»“æ„ï¼Œå®ƒå«æœ‰ä¸€ç»„æœ‰åºçš„åˆ—ï¼Œæ¯åˆ—å¯ä»¥æ˜¯<code>ä¸åŒçš„å€¼ç±»å‹</code>ï¼ˆæ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å‹å€¼ï¼‰ã€‚DataFrame æ—¢æœ‰<code>è¡Œç´¢å¼•ä¹Ÿæœ‰åˆ—ç´¢å¼•</code>ï¼Œå®ƒå¯ä»¥è¢«çœ‹åšç”± Series ç»„æˆçš„å­—å…¸ï¼ˆå…±åŒç”¨ä¸€ä¸ªç´¢å¼•ï¼‰ã€‚</p><img src="https://www.runoob.com/wp-content/uploads/2021/04/pandas-DataStructure.png" style="zoom:50%;"><p><img src="https://www.runoob.com/wp-content/uploads/2021/04/df-dp.png" alt></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pandas.DataFrame( data, index, columns, dtype, copy</span><br></pre></td></tr></table></figure><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><strong>data</strong>ï¼šä¸€ç»„æ•°æ®(ndarrayã€series, map, lists, dict ç­‰ç±»å‹)ã€‚</li><li><strong>index</strong>ï¼šç´¢å¼•å€¼ï¼Œæˆ–è€…å¯ä»¥ç§°ä¸ºè¡Œæ ‡ç­¾ã€‚</li><li><strong>columns</strong>ï¼šåˆ—æ ‡ç­¾ï¼Œé»˜è®¤ä¸º RangeIndex (0, 1, 2, â€¦, n) ã€‚</li><li><strong>dtype</strong>ï¼šæ•°æ®ç±»å‹ã€‚</li><li><strong>copy</strong>ï¼šæ‹·è´æ•°æ®ï¼Œé»˜è®¤ä¸º Falseã€‚</li></ul><blockquote><p><strong>DFçš„å±æ€§</strong></p></blockquote><ul><li><strong>shape</strong></li><li><strong>index</strong></li><li><strong>columns</strong></li><li><strong>values</strong><ul><li>è¿”å›ä¸€ä¸ª<code>ndarray</code>å¯¹è±¡</li></ul></li><li><strong>T</strong><ul><li>è½¬ç½®</li></ul></li><li><strong>head()</strong></li><li><strong>tail()</strong></li></ul><blockquote><p><strong>ç´¢å¼•ä¿®æ”¹</strong></p></blockquote><p><strong>1ï¸âƒ£ å¢åŠ è¡Œç´¢å¼•å€¼</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">stock_code = [<span class="string">&quot;è‚¡ç¥¨_&quot;</span> + <span class="built_in">str</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(stock_day_rise.shape[<span class="number">0</span>])] <span class="comment"># å¿…é¡»æ•´ä½“å…¨éƒ¨ä¿®æ”¹ data.index = stock_code</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ³¨æ„å¿…é¡»å…¨ä½“ä¿®æ”¹ï¼ï¼ï¼</span></span><br></pre></td></tr></table></figure><p><strong>2ï¸âƒ£ å¢åŠ åˆ—ç´¢å¼•å€¼</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">pd.date_range(start=<span class="literal">None</span>,end=<span class="literal">None</span>, periods=<span class="literal">None</span>, freq=<span class="string">&#x27;B&#x27;</span>) </span><br><span class="line"><span class="comment"># ç”Ÿæˆæ—¶é—´åºåˆ—</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">start:å¼€å§‹æ—¶é—´ </span></span><br><span class="line"><span class="string">end:ç»“æŸæ—¶é—´ </span></span><br><span class="line"><span class="string">periods:æ—¶é—´å¤©æ•° </span></span><br><span class="line"><span class="string">freq:é€’è¿›å•ä½ï¼Œé»˜è®¤1å¤©</span></span><br><span class="line"><span class="string">&#x27;B&#x27;é»˜è®¤ç•¥è¿‡å‘¨æœ«</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># â½£æˆâ¼€ä¸ªæ—¶é—´çš„åºåˆ—ï¼Œç•¥è¿‡å‘¨æœ«â¾®äº¤æ˜“â½‡ </span></span><br><span class="line">date = pd.date_range(<span class="string">&#x27;2017-01-01&#x27;</span>, periods=stock_day_rise.shape[<span class="number">1</span>], freq=<span class="string">&#x27;B&#x27;</span>)</span><br></pre></td></tr></table></figure><p>3ï¸âƒ£ <strong>é‡è®¾ç´¢å¼•</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data.reset_index() <span class="comment"># drop=False ä¸ä¼šåˆ é™¤åŸå…ˆçš„ç´¢å¼•</span></span><br><span class="line">data.reset_index(drop=<span class="literal">True</span>) <span class="comment"># åˆ é™¤åŸå…ˆçš„ç´¢å¼•</span></span><br></pre></td></tr></table></figure><p>4ï¸âƒ£ <strong>è®¾ç½®æ–°ç´¢å¼•</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">set_index(keys,drop=<span class="literal">True</span>) </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">keys : åˆ—ç´¢å¼•åæˆæˆ–è€…åˆ—ç´¢å¼•åç§°çš„åˆ—è¡¨</span></span><br><span class="line"><span class="string">drop : boolean, default True.å½“åšæ–°çš„ç´¢å¼•ï¼Œåˆ é™¤åŸæ¥çš„åˆ—</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><p><strong>Case</strong></p><p><strong>1ï¸âƒ£create</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(&#123;<span class="string">&#x27;month&#x27;</span>: [<span class="number">1</span>, <span class="number">4</span>, <span class="number">7</span>, <span class="number">10</span>], </span><br><span class="line">                   <span class="string">&#x27;year&#x27;</span>: [<span class="number">2012</span>, <span class="number">2014</span>, <span class="number">2013</span>, <span class="number">2014</span>], </span><br><span class="line">                   <span class="string">&#x27;sale&#x27;</span>:[<span class="number">55</span>, <span class="number">40</span>, <span class="number">84</span>, <span class="number">31</span>]&#125;) </span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">   month  year  sale</span></span><br><span class="line"><span class="string">0      1  2012    55</span></span><br><span class="line"><span class="string">1      4  2014    40</span></span><br><span class="line"><span class="string">2      7  2013    84</span></span><br><span class="line"><span class="string">3     10  2014    31</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>2ï¸âƒ£ <strong>set</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">df.set_index(<span class="string">&#x27;month&#x27;</span>) </span><br><span class="line"><span class="comment"># or </span></span><br><span class="line"><span class="comment"># è®¾ç½®å¤šç´¢å¼•</span></span><br><span class="line">df.set_index([<span class="string">&#x27;year&#x27;</span>,<span class="string">&#x27;month&#x27;</span>])</span><br></pre></td></tr></table></figure><hr><blockquote><p><strong>åˆ›å»ºDF</strong></p></blockquote><p><strong>1ï¸âƒ£ é€šè¿‡åˆ—è¡¨</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">data = [[<span class="string">&#x27;Google&#x27;</span>,<span class="number">10</span>],[<span class="string">&#x27;Runoob&#x27;</span>,<span class="number">12</span>],[<span class="string">&#x27;Wiki&#x27;</span>,<span class="number">13</span>]]</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(data,columns=[<span class="string">&#x27;Site&#x27;</span>,<span class="string">&#x27;Age&#x27;</span>],index=[<span class="string">&quot;F&quot;</span>,<span class="string">&quot;S&quot;</span>,<span class="string">&quot;T&quot;</span>],dtype=<span class="built_in">float</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">     Site   Age</span></span><br><span class="line"><span class="string">F  Google  10.0</span></span><br><span class="line"><span class="string">S  Runoob  12.0</span></span><br><span class="line"><span class="string">T    Wiki  13.0</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><p><strong>2ï¸âƒ£ é€šè¿‡ndarray</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">data = &#123;<span class="string">&#x27;Site&#x27;</span>:[<span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;Runoob&#x27;</span>, <span class="string">&#x27;Wiki&#x27;</span>], <span class="string">&#x27;Age&#x27;</span>:[<span class="number">10</span>, <span class="number">12</span>, <span class="number">13</span>]&#125;</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(data)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> (df)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">     Site  Age</span></span><br><span class="line"><span class="string">0  Google   10</span></span><br><span class="line"><span class="string">1  Runoob   12</span></span><br><span class="line"><span class="string">2    Wiki   13</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><p><strong>3ï¸âƒ£ é€šè¿‡dict</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">data = [&#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>: <span class="number">2</span>&#125;,&#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">5</span>, <span class="string">&#x27;b&#x27;</span>: <span class="number">10</span>, <span class="string">&#x27;c&#x27;</span>: <span class="number">20</span>&#125;]</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(data)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> (df)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">   a   b     c</span></span><br><span class="line"><span class="string">0  1   2   NaN</span></span><br><span class="line"><span class="string">1  5  10  20.0</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœæœ‰æ•°æ®ç¼ºå¤±ï¼Œé‚£ä¹ˆå°†è¿”å›<code>NaN</code></p><hr><blockquote><p><strong>æ•°æ®è®¿é—®</strong></p></blockquote><p>å¯ä»¥é€šè¿‡<code>loc</code>è¿”å›æŒ‡å®šè¡Œçš„æ•°æ®ï¼å¦‚æœæ²¡æœ‰è®¾ç½®ç´¢å¼•ï¼Œé‚£ä¹ˆé»˜è®¤çš„ç´¢å¼•æ˜¯[0,1,â€¦,n]</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">data = &#123;</span><br><span class="line">  <span class="string">&quot;calories&quot;</span>: [<span class="number">420</span>, <span class="number">380</span>, <span class="number">390</span>],</span><br><span class="line">  <span class="string">&quot;duration&quot;</span>: [<span class="number">50</span>, <span class="number">40</span>, <span class="number">45</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ•°æ®è½½å…¥åˆ° DataFrame å¯¹è±¡</span></span><br><span class="line">df = pd.DataFrame(data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿”å›ç¬¬ä¸€è¡Œ</span></span><br><span class="line"><span class="built_in">print</span>(df.loc[<span class="number">0</span>])</span><br><span class="line"><span class="comment"># è¿”å›ç¬¬äºŒè¡Œ</span></span><br><span class="line"><span class="built_in">print</span>(df.loc[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">calories    420</span></span><br><span class="line"><span class="string">duration     50</span></span><br><span class="line"><span class="string">Name: 0, dtype: int64</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">calories    380</span></span><br><span class="line"><span class="string">duration     40</span></span><br><span class="line"><span class="string">Name: 1, dtype: int64</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><p>æŒ‡å®šç´¢å¼•åï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">data = &#123;</span><br><span class="line">  <span class="string">&quot;calories&quot;</span>: [<span class="number">420</span>, <span class="number">380</span>, <span class="number">390</span>],</span><br><span class="line">  <span class="string">&quot;duration&quot;</span>: [<span class="number">50</span>, <span class="number">40</span>, <span class="number">45</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(data, index = [<span class="string">&quot;day1&quot;</span>, <span class="string">&quot;day2&quot;</span>, <span class="string">&quot;day3&quot;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šç´¢å¼•</span></span><br><span class="line"><span class="built_in">print</span>(df.loc[[<span class="string">&quot;day2&quot;</span>,<span class="string">&quot;day1&quot;</span>]])</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">      calories  duration</span></span><br><span class="line"><span class="string">day2       380        40</span></span><br><span class="line"><span class="string">day1       420        50</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è€Œ<code>iloc</code>å±æ€§ï¼Œåˆ™æ˜¯è¿”å›ç›¸å¯¹ä½ç½®ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">data = &#123;</span><br><span class="line">  <span class="string">&quot;calories&quot;</span>: [<span class="number">420</span>, <span class="number">380</span>, <span class="number">390</span>],</span><br><span class="line">  <span class="string">&quot;duration&quot;</span>: [<span class="number">50</span>, <span class="number">40</span>, <span class="number">45</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(data, index = [<span class="string">&quot;day1&quot;</span>, <span class="string">&quot;day2&quot;</span>, <span class="string">&quot;day3&quot;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šç´¢å¼•</span></span><br><span class="line"><span class="built_in">print</span>(df.iloc[<span class="number">0</span>,<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">50</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‡å®šç´¢å¼•</span></span><br><span class="line"><span class="built_in">print</span>(df.iloc[[<span class="number">0</span>,<span class="number">2</span>,<span class="number">1</span>],[<span class="number">1</span>,<span class="number">0</span>]])</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">      duration  calories</span></span><br><span class="line"><span class="string">day1        50       420</span></span><br><span class="line"><span class="string">day3        45       390</span></span><br><span class="line"><span class="string">day2        40       380</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œè¿˜æœ‰<code>ix</code>ç»„åˆç´¢å¼•ã€‚</p><hr><blockquote><p>æ’åº</p></blockquote><p><strong>df.sort_values(by=,ascending=)</strong></p><p>æŒ‰ç…§æŒ‡å®šåˆ—çš„å€¼è¿›è¡Œæ’åºã€‚<code>ascending=True</code>å‡åº</p><p>åŒæ ·ï¼Œä¹Ÿå¯ä»¥å¯¹ç»™å®šç´¢å¼•é‡æ–°æ’åº</p><p><strong>data.sort_index(ascending)</strong></p><ul><li>ps. Seriesä¹Ÿå¯ä»¥ç”¨åŒæ ·çš„API</li></ul><hr><blockquote><p>è¿ç®—</p></blockquote><p>1ï¸âƒ£ <strong>ç®—æœ¯è¿ç®—</strong></p><p>å››åˆ™è¿ç®—</p><p><strong>eg.</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">data[<span class="string">&#x27;open&#x27;</span>].add(<span class="number">1</span>) <span class="comment"># åŠ </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å‡</span></span><br><span class="line">close=data[<span class="string">&#x27;close&#x27;</span>]</span><br><span class="line"><span class="built_in">open</span>=data[<span class="string">&#x27;open&#x27;</span>]</span><br><span class="line">dat[<span class="string">&#x27;m_price_change&#x27;</span>]=close.sub(<span class="built_in">open</span>) <span class="comment"># æ·»åŠ ä¸€åˆ—çš„è¯ï¼Œç›´æ¥åŠ å°±æ˜¯äº†</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¹˜</span></span><br><span class="line">close.multiply(<span class="built_in">open</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># é™¤</span></span><br><span class="line">close.div(<span class="built_in">open</span>)</span><br></pre></td></tr></table></figure><p>2ï¸âƒ£ <strong>é€»è¾‘è¿ç®—</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &gt; &lt; | &amp;</span></span><br><span class="line"><span class="comment"># eg.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># data[() &amp; ()] # é€»è¾‘ä¸</span></span><br><span class="line"><span class="comment"># data[() | ()] # é€»è¾‘æˆ–</span></span><br><span class="line"></span><br><span class="line">data[(data[<span class="string">&#x27;close&#x27;</span>]&gt;<span class="number">2</span>) &amp; (data[<span class="string">&#x27;open&#x27;</span>]&lt;<span class="number">5</span>)]</span><br><span class="line"></span><br><span class="line"><span class="comment"># query(exper)</span></span><br><span class="line"><span class="comment"># eg.</span></span><br><span class="line">data.query(<span class="string">&quot;close &gt; 2 &amp; open &lt; 5&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># isin(val)</span></span><br><span class="line"><span class="comment"># eg.</span></span><br><span class="line">data[data[<span class="string">&#x27;turnover&#x27;</span>].isin([<span class="number">4.19</span>,<span class="number">2.39</span>])]</span><br></pre></td></tr></table></figure><p><strong>3ï¸âƒ£ ç»Ÿè®¡è¿ç®—</strong></p><p>å¤§å“¥<code>describe()</code></p><table><thead><tr><th style="text-align:center"><strong>count</strong></th><th style="text-align:center"><strong>Number of non-NA observations</strong></th></tr></thead><tbody><tr><td style="text-align:center">sum</td><td style="text-align:center">æ±‚å’Œ</td></tr><tr><td style="text-align:center">mean</td><td style="text-align:center">å¹³å‡</td></tr><tr><td style="text-align:center">median</td><td style="text-align:center">ä¸­ä½æ•°</td></tr><tr><td style="text-align:center">mode</td><td style="text-align:center">ä¼—æ•°</td></tr><tr><td style="text-align:center">min</td><td style="text-align:center">æœ€å°å€¼</td></tr><tr><td style="text-align:center">max</td><td style="text-align:center">æœ€å¤§å€¼</td></tr><tr><td style="text-align:center">abs</td><td style="text-align:center">ç»å¯¹å€¼</td></tr><tr><td style="text-align:center">prod</td><td style="text-align:center">ç´¯ä¹˜</td></tr><tr><td style="text-align:center">std</td><td style="text-align:center">æ ‡å‡†å·®</td></tr><tr><td style="text-align:center">var</td><td style="text-align:center">æ— åæ–¹å·®</td></tr><tr><td style="text-align:center">idxmax</td><td style="text-align:center">æœ€å¤§ç´¢å¼•</td></tr><tr><td style="text-align:center">idxmin</td><td style="text-align:center">æœ€å°ç´¢å¼•</td></tr></tbody></table><p>æ³¨æ„ï¼Œåæ ‡å€¼é»˜è®¤ä¸º<code>columns</code>ï¼Œå¦‚æœæƒ³å¯¹è¡Œè¿›è¡Œï¼Œéœ€è¦æŒ‡å®š<code>axis=1</code></p><p>5ï¸âƒ£ <strong>ç´¯è®¡ç»Ÿè®¡å‡½æ•°</strong></p><table><thead><tr><th style="text-align:center">å‡½æ•°</th><th style="text-align:center">ä½œâ½¤</th></tr></thead><tbody><tr><td style="text-align:center">cumsum</td><td style="text-align:center">è®¡ç®—å‰<strong>1/2/3/â€¦/n</strong>ä¸ªæ•°çš„å’Œ</td></tr><tr><td style="text-align:center">cummax</td><td style="text-align:center">è®¡ç®—å‰1/2/3/â€¦/nä¸ªæ•°çš„æœ€â¼¤å€¼</td></tr><tr><td style="text-align:center">cummin</td><td style="text-align:center">è®¡ç®—å‰1/2/3/â€¦/nä¸ªæ•°çš„æœ€â¼©å€¼</td></tr><tr><td style="text-align:center">cumprod</td><td style="text-align:center">è®¡ç®—å‰1/2/3/â€¦/nä¸ªæ•°çš„ç§¯</td></tr></tbody></table><p><strong>æ —å­</strong> ç´¯è®¡æ±‚å’Œ</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯¹æ—¶é—´åºåˆ—è¿›è¡Œç´¯è®¡æ±‚å’Œ</span></span><br><span class="line"></span><br><span class="line">data=data.sort_index()</span><br><span class="line">stock_rise=data[<span class="string">&#x27;p_change&#x27;</span>]</span><br><span class="line">stock_rise.cumsum().plot()</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure><img src="/2022/09/13/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91Pandas%E5%85%A5%E9%97%A8/image-20220913230312684.png" alt="image-20220913230312684" style="zoom:50%;"><p>6ï¸âƒ£ <strong>è‡ªå®šä¹‰è¿ç®—</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apply(func,axis=<span class="number">0</span>)</span><br></pre></td></tr></table></figure><p><strong>æ —å­</strong> æ±‚æœ€å¤§å€¼-æœ€å°å€¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data[[<span class="string">&quot;open&quot;</span>,<span class="string">&quot;close&quot;</span>]].apply(<span class="keyword">lambda</span> x:x.<span class="built_in">max</span>()-x.<span class="built_in">min</span>(),axis=<span class="number">0</span>)</span><br></pre></td></tr></table></figure><hr><p><strong>å®ä¾‹</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">stock=np.random.uniform(-<span class="number">9.0</span>,<span class="number">15.0</span>,(<span class="number">100</span>,<span class="number">8</span>))</span><br><span class="line">data=pd.DataFrame(stock,index=pd.date_range(<span class="string">&quot;20220912&quot;</span>,periods=<span class="number">100</span>,freq=<span class="string">&quot;B&quot;</span>),columns=[<span class="string">&quot;num_&quot;</span>+<span class="built_in">str</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">9</span>)])</span><br><span class="line"></span><br><span class="line">data</span><br></pre></td></tr></table></figure><img src="/2022/09/13/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91Pandas%E5%85%A5%E9%97%A8/image-20220913231746812.png" alt="image-20220913231746812" style="zoom:50%;"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">data=data.sort_index()</span><br><span class="line">val=data[<span class="string">&#x27;num_1&#x27;</span>]</span><br><span class="line">stock=val.cumsum().plot()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><img src="/2022/09/13/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91Pandas%E5%85%A5%E9%97%A8/image-20220913231805917.png" alt="image-20220913231805917" style="zoom:50%;"><blockquote><p>æ•°æ®ç¦»æ•£åŒ–</p></blockquote><p><strong>ğŸ´ Why Discretization</strong></p><p>ç®€åŒ–æ•°æ®ç»“æ„ï¼Œå‡å°‘è¿ç»­çš„å±æ€§å€¼ä¸ªæ•°ã€‚</p><p>Eg. äººç±»çš„èº«é«˜æœ¬èº«åº”è¯¥æ˜¯ä¸€ä¸ªè¿ç»­çš„åŒºé—´ï¼Œä½†æˆ‘ä»¬å¯ä»¥å°†å…¶åˆ†ä¸º<code>é«˜ã€ä¸­ã€çŸ®</code>å‡ ä¸ªé˜¶æ®µã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">pd.qcut(data,q)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŒ‰ç…§qçš„ä¸ªæ•°è‡ªåŠ¨è¿›è¡Œåˆ†ç»„</span></span><br><span class="line"></span><br><span class="line">pd.cut(data,bins)</span><br><span class="line"><span class="comment"># æŒ‡å®šåŒºé—´åˆ†ç»„</span></span><br><span class="line"></span><br><span class="line">bins = [-<span class="number">100</span>, -<span class="number">7</span>, -<span class="number">5</span>, -<span class="number">3</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">100</span>] </span><br><span class="line">p_counts = pd.cut(p_change, bins)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># â¾ƒâ¾åˆ†ç»„ </span></span><br><span class="line">qcut = pd.qcut(p_change, <span class="number">10</span>) </span><br><span class="line"><span class="comment"># è®¡ç®—åˆ†åˆ°æ¯ä¸ªç»„æ•°æ®ä¸ªæ•° </span></span><br><span class="line">qcut.value_counts()</span><br></pre></td></tr></table></figure><p><strong>ğŸ”¥ One hot ç¼–ç </strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pd.get_dummies(data,prefix=<span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># prefixæ˜¯åˆ†ç»„åå­—</span></span><br></pre></td></tr></table></figure><hr><blockquote><p>åˆå¹¶</p></blockquote><p><strong>ğŸ¨ Why concat</strong></p><p>æ–¹ä¾¿æŸ¥è¯¢(å­˜å‚¨æ—¶ç¦»æ•£æ›´ä¼˜)ï¼Œæ–¹ä¾¿å…³è”è§„åˆ™æŒ–æ˜ä¸æ•°æ®æ¢æŸ¥</p><p><strong>1ï¸âƒ£ pd.concat</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pd.concat([data1,data2],axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># axis=0 åˆ—ç´¢å¼•</span></span><br><span class="line"><span class="comment"># axis=1 èˆªç´¢å¼•</span></span><br></pre></td></tr></table></figure><p><strong>2ï¸âƒ£ pd.merge</strong></p><p>mergeè¿™ä¸ªAPI æä¾›äº†æ›´å¤šæ›´å¤æ‚çš„æ–¹æ³•ï¼Œåå‘äºæ•°æ®åº“çš„åˆå¹¶äº†</p><p>ä½†æ˜¯ä¸€èˆ¬å°±æ˜¯å·¦å³ä¸¤ä¸ªè¡¨ï¼Œå¤šè¡¨åˆå¹¶è¿˜æ˜¯<code>concat</code>å§</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pd.merge(left,right,how=<span class="string">&quot;inner&quot;</span>,on=<span class="literal">None</span>,left_on=<span class="literal">None</span>,right_on=<span class="literal">None</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># on åˆå¹¶çš„åˆ—å</span></span><br><span class="line"><span class="comment"># left_onï¼Œright_on åˆ—ååœ¨å·¦å³ä¸¤è¡¨ä¸­çš„ç§°å‘¼</span></span><br><span class="line"><span class="comment"># how åˆå¹¶æ–¹å¼ | inner å†…è¿æ¥ | outer å¤–è¿æ¥ ä¹Ÿå°±æ˜¯left+right | left å·¦è¿æ¥ ä»¥å·¦è¡¨ä¸ºåŸºå‡†ï¼Œå¯¹äºå·¦è¡¨æœ‰çš„è€Œå³è¡¨ç¼ºå¤±ï¼Œä¼šå¡«å……NaN | right å³è¿æ¥</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><hr><blockquote><p>äº¤å‰è¡¨ä¸é€è§†è¡¨</p></blockquote><p><strong>ğŸ Why Cross and Pivot?</strong></p><p>æ¢ç©¶ä¸åŒæ•°æ®å¯èƒ½å­˜åœ¨çš„å…³ç³»</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.crosstab(val1,val2)</span><br></pre></td></tr></table></figure><p>ç®€å•æ¥è¯´ï¼Œè¿™ä¸ªAPIå°±æ˜¯å°†val1çš„æ•°æ®ä½œä¸º<code>æº</code>ï¼Œå°†val2çš„æ•°æ®ä½œä¸º<code>è§„åˆ™</code>è¿›è¡Œåˆ†ç»„ï¼Œä»è€Œæ¢ç©¶å…¶ä¸­çš„å…³ç³»ã€‚</p><p><strong>æ —å­</strong> æ¢ç©¶æ˜ŸæœŸæ•°æ®å’Œæ¶¨å¹…æ•°æ®ä¹‹é—´çš„å…³ç³»</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯»æ‰¾æ˜ŸæœŸâ¼è·Ÿè‚¡ç¥¨å¼ å¾—çš„å…³ç³» </span></span><br><span class="line"><span class="comment"># 1ã€å…ˆæŠŠå¯¹åº”çš„â½‡æœŸæ‰¾åˆ°æ˜ŸæœŸâ¼ </span></span><br><span class="line">date = pd.to_datetime(data.index).weekday </span><br><span class="line">data[<span class="string">&#x27;week&#x27;</span>] = date </span><br><span class="line"></span><br><span class="line"><span class="comment"># 2ã€å‡å¦‚æŠŠp_changeæŒ‰ç…§â¼¤â¼©å»åˆ†ä¸ªç±»0ä¸ºç•Œé™ </span></span><br><span class="line">data[<span class="string">&#x27;posi_neg&#x27;</span>] = np.where(data[<span class="string">&#x27;p_change&#x27;</span>] &gt; <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>) </span><br><span class="line"><span class="comment"># é€šè¿‡äº¤å‰è¡¨æ‰¾å¯»ä¸¤åˆ—æ•°æ®çš„å…³ç³» </span></span><br><span class="line">count = pd.crosstab(data[<span class="string">&#x27;week&#x27;</span>], data[<span class="string">&#x27;posi_neg&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. æ¢ç©¶ä¹‹é—´çš„æ¯”ä¾‹å…³ç³»</span></span><br><span class="line"><span class="built_in">sum</span> = count.<span class="built_in">sum</span>(axis=<span class="number">1</span>).astype(np.float32)</span><br><span class="line"><span class="comment"># è¿›â¾ç›¸é™¤æ“ä½œï¼Œå¾—å‡ºâ½ä¾‹ </span></span><br><span class="line">pro = count.div(<span class="built_in">sum</span>, axis=<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»˜å›¾</span></span><br><span class="line">pro.plot(kind=<span class="string">&#x27;bar&#x27;</span>, stacked=<span class="literal">True</span>) plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># è€Œé€è§†è¡¨ï¼Œå¯ä»¥è®©ä¸Šé¢çš„è¿‡ç¨‹æ›´åŠ ç®€å•</span></span><br><span class="line">data.pivot_table([<span class="string">&#x27;posi_neg&#x27;</span>], index=<span class="string">&#x27;week&#x27;</span>)</span><br></pre></td></tr></table></figure><hr><blockquote><p>åˆ†ç»„å’Œèšåˆ</p></blockquote><p><strong>â›µ Why Grouping and Merge</strong></p><p>åœ¨ä¸åŒçš„ç»„é—´ï¼Œæ•°æ®å¾€å¾€ä¼šè¡¨ç°å‡ºå·®å¼‚æ€§ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬æƒ³çœ‹åˆ°çš„ã€‚</p><p><strong>1ï¸âƒ£ The API of Grouping</strong></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pd.groupby(key,as_index=<span class="literal">False</span>)</span><br><span class="line"><span class="comment"># keyæ˜¯åˆ†ç»„çš„åˆ—æ•°ç»„ï¼Œå¯ä»¥å¤šä¸ª</span></span><br></pre></td></tr></table></figure><p><strong>2ï¸âƒ£ The API of Merge</strong></p><p>å‰é¢è¯´çš„ç»Ÿè®¡å‡½æ•°å°±æ˜¯å“¦ï¼</p><p><strong>æ —å­</strong> ä¸åŒé¢œè‰²ä¸åŒç±»å‹çš„ç¬”çš„ä»·æ ¼æ•°æ®</p><p><strong>Data</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">col =pd.DataFrame(&#123;<span class="string">&#x27;color&#x27;</span>: [<span class="string">&#x27;white&#x27;</span>,<span class="string">&#x27;red&#x27;</span>,<span class="string">&#x27;green&#x27;</span>,<span class="string">&#x27;red&#x27;</span>,<span class="string">&#x27;green&#x27;</span>], \</span><br><span class="line">                   <span class="string">&#x27;object&#x27;</span>: [<span class="string">&#x27;pen&#x27;</span>,<span class="string">&#x27;pencil&#x27;</span>,<span class="string">&#x27;pencil&#x27;</span>,<span class="string">&#x27;ashtray&#x27;</span>, <span class="string">&#x27;pen&#x27;</span>],\</span><br><span class="line">                   <span class="string">&#x27;price1&#x27;</span>:[<span class="number">5.56</span>,<span class="number">4.20</span>,<span class="number">1.30</span>,<span class="number">0.56</span>,<span class="number">2.75</span>],\</span><br><span class="line">                   <span class="string">&#x27;price2&#x27;</span>:[<span class="number">4.75</span>,<span class="number">4.12</span>,<span class="number">1.60</span>,<span class="number">0.75</span>,<span class="number">3.15</span>]&#125;)</span><br><span class="line"><span class="built_in">print</span>(col)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">   color   object  price1  price2</span></span><br><span class="line"><span class="string">0  white      pen    5.56    4.75</span></span><br><span class="line"><span class="string">1    red   pencil    4.20    4.12</span></span><br><span class="line"><span class="string">2  green   pencil    1.30    1.60</span></span><br><span class="line"><span class="string">3    red  ashtray    0.56    0.75</span></span><br><span class="line"><span class="string">4  green      pen    2.75    3.15</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><p><strong>Process</strong></p><p>å¯¹é¢œè‰²åˆ†ç»„ï¼Œç„¶åå¯¹ä»·æ ¼æ±‚å¹³å‡</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">col.groupby([<span class="string">&#x27;color&#x27;</span>])[<span class="string">&#x27;price1&#x27;</span>].mean()</span><br><span class="line">col[<span class="string">&#x27;price1&#x27;</span>].groupby(col[<span class="string">&#x27;color&#x27;</span>]).mean()</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">color</span></span><br><span class="line"><span class="string">green    2.025</span></span><br><span class="line"><span class="string">red      2.380</span></span><br><span class="line"><span class="string">white    5.560</span></span><br><span class="line"><span class="string">Name: price1, dtype: float64</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><p>ä¿è¯ç´¢å¼•ä½ç½®ä¸å˜</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">col.groupby([<span class="string">&#x27;color&#x27;</span>], as_index=<span class="literal">False</span>)[<span class="string">&#x27;price1&#x27;</span>].mean()</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">   color  price1</span></span><br><span class="line"><span class="string">0  green   2.025</span></span><br><span class="line"><span class="string">1    red   2.380</span></span><br><span class="line"><span class="string">2  white   5.560</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„äº†ï¼Œ<code>GroupBy</code>å¯¹è±¡æ€»æ˜¯è¦å’Œèšåˆå‡½æ•°ä¸€èµ·ä½¿ç”¨çš„ï¼ŒäºŒè€…æ˜¯ä¸å¯å‰²è£‚çš„ã€‚</p><p><strong>æ¡ˆä¾‹</strong>  æ˜Ÿå·´å…‹é›¶å”®åº—é“ºæ•°æ®</p><ul><li><strong>target</strong>  äº†è§£ç¾å›½çš„æ˜Ÿå·´å…‹å’Œä¸­å›½çš„å“ªä¸ªå¤šï¼Œä»¥åŠä¸­å›½æ¯ä¸ªçœçš„æ˜Ÿå·´å…‹æ•°é‡</li></ul><img src="/2022/09/13/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91Pandas%E5%85%A5%E9%97%A8/image-20220915100248664.png" alt="image-20220915100248664" style="zoom:50%;"><img src="/2022/09/13/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91Pandas%E5%85%A5%E9%97%A8/image-20220915100305946.png" alt="image-20220915100305946" style="zoom:50%;"><img src="/2022/09/13/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91Pandas%E5%85%A5%E9%97%A8/image-20220915100319027.png" alt="image-20220915100319027" style="zoom:50%;"><hr><h2 id="ä¸‰ã€è¯»å–CSVæ–‡ä»¶">ä¸‰ã€è¯»å–CSVæ–‡ä»¶</h2><p>CSVï¼ˆComma-Separated Valuesï¼Œé€—å·åˆ†éš”å€¼ï¼Œæœ‰æ—¶ä¹Ÿç§°ä¸ºå­—ç¬¦åˆ†éš”å€¼ï¼Œå› ä¸ºåˆ†éš”å­—ç¬¦ä¹Ÿå¯ä»¥ä¸æ˜¯é€—å·ï¼‰ï¼Œå…¶æ–‡ä»¶ä»¥çº¯æ–‡æœ¬å½¢å¼å­˜å‚¨è¡¨æ ¼æ•°æ®ï¼ˆæ•°å­—å’Œæ–‡æœ¬ï¼‰ã€‚</p><p>CSV æ˜¯ä¸€ç§é€šç”¨çš„ã€ç›¸å¯¹ç®€å•çš„æ–‡ä»¶æ ¼å¼ï¼Œè¢«ç”¨æˆ·ã€å•†ä¸šå’Œç§‘å­¦å¹¿æ³›åº”ç”¨ã€‚</p><hr><p><strong>1ï¸âƒ£ è¯»å–</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;nba.csv&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df.to_string())</span><br></pre></td></tr></table></figure><p>è¿™ä¸ª<code>to_string()</code>ç”¨äºè¿”å›DataFrameç±»å‹çš„æ•°æ®å•¦ï¼Œå¦‚æœä¸åŠ çš„è¯ï¼Œé»˜è®¤è¿”å›<code>head(5)</code>å•¦</p><p>2ï¸âƒ£ <strong>å­˜å‚¨</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.to_csv(<span class="string">&quot;site.csv&quot;</span>)</span><br></pre></td></tr></table></figure><p>3ï¸âƒ£ <strong>æ•°æ®å¤„ç†</strong></p><p><code>head()</code></p><ul><li>è¯»å–å‰é¢<code>n</code>è¡Œï¼Œå¦‚æœä¸å¡«å‚æ•°,è¿”å›é»˜è®¤<code>5</code>è¡Œ</li></ul><p><code>tail()</code></p><ul><li>è¯»å–å°¾éƒ¨<code>n</code>è¡Œï¼Œå¦‚æœä¸å¡«ï¼Œé»˜è®¤è¿”å›<code>5</code>è¡Œ</li></ul><p><code>info()</code></p><ul><li>è¿”å›åŸºæœ¬ä¿¡æ¯</li></ul><hr><h2 id="å››ã€è¯»å–JSON">å››ã€è¯»å–JSON</h2><p>JSONï¼ˆ<strong>J</strong>ava<strong>S</strong>cript <strong>O</strong>bject <strong>N</strong>otationï¼ŒJavaScript å¯¹è±¡è¡¨ç¤ºæ³•ï¼‰ï¼Œæ˜¯å­˜å‚¨å’Œäº¤æ¢æ–‡æœ¬ä¿¡æ¯çš„è¯­æ³•ï¼Œç±»ä¼¼ XMLã€‚</p><p>JSON æ¯” XML æ›´å°ã€æ›´å¿«ï¼Œæ›´æ˜“è§£æã€‚</p><p>ä¾‹å¦‚æˆ‘ä»¬çš„<code>JSON</code>æ•°æ®:<code>sites.json</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">   &#123;</span><br><span class="line">   <span class="string">&quot;id&quot;</span>: <span class="string">&quot;A001&quot;</span>,</span><br><span class="line">   <span class="string">&quot;name&quot;</span>: <span class="string">&quot;èœé¸Ÿæ•™ç¨‹&quot;</span>,</span><br><span class="line">   <span class="string">&quot;url&quot;</span>: <span class="string">&quot;www.runoob.com&quot;</span>,</span><br><span class="line">   <span class="string">&quot;likes&quot;</span>: <span class="number">61</span></span><br><span class="line">   &#125;,</span><br><span class="line">   &#123;</span><br><span class="line">   <span class="string">&quot;id&quot;</span>: <span class="string">&quot;A002&quot;</span>,</span><br><span class="line">   <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Google&quot;</span>,</span><br><span class="line">   <span class="string">&quot;url&quot;</span>: <span class="string">&quot;www.google.com&quot;</span>,</span><br><span class="line">   <span class="string">&quot;likes&quot;</span>: <span class="number">124</span></span><br><span class="line">   &#125;,</span><br><span class="line">   &#123;</span><br><span class="line">   <span class="string">&quot;id&quot;</span>: <span class="string">&quot;A003&quot;</span>,</span><br><span class="line">   <span class="string">&quot;name&quot;</span>: <span class="string">&quot;æ·˜å®&quot;</span>,</span><br><span class="line">   <span class="string">&quot;url&quot;</span>: <span class="string">&quot;www.taobao.com&quot;</span>,</span><br><span class="line">   <span class="string">&quot;likes&quot;</span>: <span class="number">45</span></span><br><span class="line">   &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–æ–‡ä»¶</span></span><br><span class="line">df = pd.read_json(<span class="string">&#x27;sites.json&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç›´æ¥è¯»å–</span></span><br><span class="line">data =[</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;id&quot;</span>: <span class="string">&quot;A001&quot;</span>,</span><br><span class="line">      <span class="string">&quot;name&quot;</span>: <span class="string">&quot;èœé¸Ÿæ•™ç¨‹&quot;</span>,</span><br><span class="line">      <span class="string">&quot;url&quot;</span>: <span class="string">&quot;www.runoob.com&quot;</span>,</span><br><span class="line">      <span class="string">&quot;likes&quot;</span>: <span class="number">61</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;id&quot;</span>: <span class="string">&quot;A002&quot;</span>,</span><br><span class="line">      <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Google&quot;</span>,</span><br><span class="line">      <span class="string">&quot;url&quot;</span>: <span class="string">&quot;www.google.com&quot;</span>,</span><br><span class="line">      <span class="string">&quot;likes&quot;</span>: <span class="number">124</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="string">&quot;id&quot;</span>: <span class="string">&quot;A003&quot;</span>,</span><br><span class="line">      <span class="string">&quot;name&quot;</span>: <span class="string">&quot;æ·˜å®&quot;</span>,</span><br><span class="line">      <span class="string">&quot;url&quot;</span>: <span class="string">&quot;www.taobao.com&quot;</span>,</span><br><span class="line">      <span class="string">&quot;likes&quot;</span>: <span class="number">45</span></span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä»urlä¸­è¯»å–</span></span><br><span class="line">URL = <span class="string">&#x27;https://static.runoob.com/download/sites.json&#x27;</span></span><br><span class="line">df = pd.read_json(URL)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df.to_string())</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">     id    name             url  likes</span></span><br><span class="line"><span class="string">0  A001    èœé¸Ÿæ•™ç¨‹  www.runoob.com     61</span></span><br><span class="line"><span class="string">1  A002  Google  www.google.com    124</span></span><br><span class="line"><span class="string">2  A003      æ·˜å®  www.taobao.com     45</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><p>å¯¹äºå†…åµŒçš„<code>JSON</code>æ•°æ®ï¼Œä¾‹å¦‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">&quot;school_name&quot;</span>: <span class="string">&quot;ABC primary school&quot;</span>,</span><br><span class="line">    <span class="string">&quot;class&quot;</span>: <span class="string">&quot;Year 1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;students&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;id&quot;</span>: <span class="string">&quot;A001&quot;</span>,</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Tom&quot;</span>,</span><br><span class="line">        <span class="string">&quot;math&quot;</span>: <span class="number">60</span>,</span><br><span class="line">        <span class="string">&quot;physics&quot;</span>: <span class="number">66</span>,</span><br><span class="line">        <span class="string">&quot;chemistry&quot;</span>: <span class="number">61</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;id&quot;</span>: <span class="string">&quot;A002&quot;</span>,</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;James&quot;</span>,</span><br><span class="line">        <span class="string">&quot;math&quot;</span>: <span class="number">89</span>,</span><br><span class="line">        <span class="string">&quot;physics&quot;</span>: <span class="number">76</span>,</span><br><span class="line">        <span class="string">&quot;chemistry&quot;</span>: <span class="number">51</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;id&quot;</span>: <span class="string">&quot;A003&quot;</span>,</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;Jenny&quot;</span>,</span><br><span class="line">        <span class="string">&quot;math&quot;</span>: <span class="number">79</span>,</span><br><span class="line">        <span class="string">&quot;physics&quot;</span>: <span class="number">90</span>,</span><br><span class="line">        <span class="string">&quot;chemistry&quot;</span>: <span class="number">78</span></span><br><span class="line">    &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>éœ€è¦è¿›è¡Œå±•å¹³ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä½¿ç”¨ Python JSON æ¨¡å—è½½å…¥æ•°æ®</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;nested_list.json&#x27;</span>,<span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    data = json.loads(f.read())</span><br><span class="line"></span><br><span class="line"><span class="comment"># å±•å¹³æ•°æ®</span></span><br><span class="line"><span class="comment"># studentsä½œä¸ºå±•å¼€é¡¹</span></span><br><span class="line"></span><br><span class="line">df_nested_list = pd.json_normalize(data, record_path =[<span class="string">&#x27;students&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(df_nested_list)</span><br></pre></td></tr></table></figure><hr><h2 id="äº”ã€æ•°æ®æ¸…æ´—">äº”ã€æ•°æ®æ¸…æ´—</h2><p><strong>1ï¸âƒ£ åˆ é™¤ç©ºå­—æ®µ</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DataFrame.dropna(axis=<span class="number">0</span>, how=<span class="string">&#x27;any&#x27;</span>, thresh=<span class="literal">None</span>, subset=<span class="literal">None</span>, inplace=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure><p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p><ul><li>axisï¼šé»˜è®¤ä¸º <strong>0</strong>ï¼Œè¡¨ç¤ºé€¢ç©ºå€¼å‰”é™¤æ•´è¡Œï¼Œå¦‚æœè®¾ç½®å‚æ•° <strong>axisï¼1</strong> è¡¨ç¤ºé€¢ç©ºå€¼å»æ‰æ•´åˆ—ã€‚</li><li>howï¼šé»˜è®¤ä¸º <strong>â€˜anyâ€™</strong> å¦‚æœä¸€è¡Œï¼ˆæˆ–ä¸€åˆ—ï¼‰é‡Œä»»ä½•ä¸€ä¸ªæ•°æ®æœ‰å‡ºç° NA å°±å»æ‰æ•´è¡Œï¼Œå¦‚æœè®¾ç½® <strong>how=â€˜allâ€™</strong> ä¸€è¡Œï¼ˆæˆ–åˆ—ï¼‰éƒ½æ˜¯ NA æ‰å»æ‰è¿™æ•´è¡Œã€‚</li><li>threshï¼šè®¾ç½®éœ€è¦å¤šå°‘éç©ºå€¼çš„æ•°æ®æ‰å¯ä»¥ä¿ç•™ä¸‹æ¥çš„ã€‚</li><li>subsetï¼šè®¾ç½®æƒ³è¦æ£€æŸ¥çš„åˆ—ã€‚å¦‚æœæ˜¯å¤šä¸ªåˆ—ï¼Œå¯ä»¥ä½¿ç”¨åˆ—åçš„ list ä½œä¸ºå‚æ•°ã€‚</li><li>inplaceï¼šå¦‚æœè®¾ç½® Trueï¼Œå°†è®¡ç®—å¾—åˆ°çš„å€¼ç›´æ¥è¦†ç›–ä¹‹å‰çš„å€¼å¹¶è¿”å› Noneï¼Œä¿®æ”¹çš„æ˜¯æºæ•°æ®ã€‚</li></ul><p><strong>åˆ¤æ–­å­—æ®µæ˜¯å¦ä¸ºç©º</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;property-data.csv&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> (df[<span class="string">&#x27;NUM_BEDROOMS&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span> (df[<span class="string">&#x27;NUM_BEDROOMS&#x27;</span>].isnull())</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬é‡åˆ°çš„ç©ºæ•°æ®å¯èƒ½æ˜¯è¿™æ ·<code>n/a</code>ï¼Œå¯èƒ½æ˜¯è¿™æ ·<code>na</code>ï¼Œä¹Ÿå¯èƒ½æ˜¯é…±ç´«<code>--</code>ï¼Œæˆ–è€…æ˜¯<code>None</code>é…±~</p><p>æˆ‘ä»¬åœ¨è¯»å–æ•°æ®ä¸­ï¼Œå¯ä»¥è®¾ç½®å°†å“ªäº›å€¼è®¤å®šä¸º<code>NA</code>å€¼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">missing_values = [<span class="string">&quot;n/a&quot;</span>, <span class="string">&quot;na&quot;</span>, <span class="string">&quot;--&quot;</span>]</span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;property-data.csv&#x27;</span>, na_values = missing_values)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> (df[<span class="string">&#x27;NUM_BEDROOMS&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span> (df[<span class="string">&#x27;NUM_BEDROOMS&#x27;</span>].isnull())</span><br><span class="line"><span class="built_in">print</span> (df[<span class="string">&#x27;NUM_BEDROOMS&#x27;</span>].notnull())</span><br></pre></td></tr></table></figure><p><strong>æ —å­</strong> ç§»é™¤æŒ‡å®šåˆ—ä¸­çš„<code>NA</code>è¡Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;property-data.csv&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å»é™¤&#x27;ST_NUM&#x27;åˆ—ä¸­çš„ç©ºå€¼</span></span><br><span class="line">df.dropna(subset=[<span class="string">&#x27;ST_NUM&#x27;</span>], inplace = <span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df.to_string())</span><br></pre></td></tr></table></figure><p><strong>2ï¸âƒ£ å¡«å……ç©ºå­—æ®µ</strong></p><p>æˆ‘ä»¬å¯ä»¥ç”¨<code>fillna()</code>æ–¹æ³•æ¥æ›¿æ¢ä¸€äº›ç©ºå­—æ®µï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;property-data.csv&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ•´ä¸ªè¡¨æŸ¥è¯¢å¹¶æ›¿æ¢</span></span><br><span class="line">df.fillna(<span class="number">12345</span>, inplace = <span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰¾PIDè¿™è¡Œè¿›è¡Œæ›¿æ¢</span></span><br><span class="line">df[<span class="string">&#x27;PID&#x27;</span>].fillna(<span class="number">12345</span>, inplace = <span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df.to_string())</span><br></pre></td></tr></table></figure><p>æˆ–è€…é€šè¿‡ç»Ÿè®¡å€¼çš„æ–¹æ³•è¿›è¡Œå¤„ç†~</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;property-data.csv&#x27;</span>)</span><br><span class="line"></span><br><span class="line">x = df[<span class="string">&quot;ST_NUM&quot;</span>].mean() <span class="comment"># å‡å€¼</span></span><br><span class="line">x = df[<span class="string">&quot;ST_NUM&quot;</span>].median() <span class="comment"># ä¸­ä½æ•°</span></span><br><span class="line">x = df[<span class="string">&quot;ST_NUM&quot;</span>].mode() <span class="comment"># ä¼—æ•°</span></span><br><span class="line"></span><br><span class="line">df[<span class="string">&quot;ST_NUM&quot;</span>].fillna(x, inplace = <span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df.to_string())</span><br></pre></td></tr></table></figure><p><strong>3ï¸âƒ£ æ ¼å¼é”™è¯¯</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¬¬ä¸‰ä¸ªæ—¥æœŸæ ¼å¼é”™è¯¯</span></span><br><span class="line">data = &#123;</span><br><span class="line">  <span class="string">&quot;Date&quot;</span>: [<span class="string">&#x27;2020/12/01&#x27;</span>, <span class="string">&#x27;2020/12/02&#x27;</span> , <span class="string">&#x27;20201226&#x27;</span>],</span><br><span class="line">  <span class="string">&quot;duration&quot;</span>: [<span class="number">50</span>, <span class="number">40</span>, <span class="number">45</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(data, index = [<span class="string">&quot;day1&quot;</span>, <span class="string">&quot;day2&quot;</span>, <span class="string">&quot;day3&quot;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨å¤„ç†æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ç»Ÿä¸€å°†å…¶ç±»å‹è½¬åŒ–</span></span><br><span class="line">df[<span class="string">&#x27;Date&#x27;</span>] = pd.to_datetime(df[<span class="string">&#x27;Date&#x27;</span>])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df.to_string())</span><br></pre></td></tr></table></figure><p><strong>4ï¸âƒ£ æ•°æ®é”™è¯¯</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">person = &#123;</span><br><span class="line">  <span class="string">&quot;name&quot;</span>: [<span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;Runoob&#x27;</span> , <span class="string">&#x27;Taobao&#x27;</span>],</span><br><span class="line">  <span class="string">&quot;age&quot;</span>: [<span class="number">50</span>, <span class="number">40</span>, <span class="number">12345</span>]    <span class="comment"># 12345 å¹´é¾„æ•°æ®æ˜¯é”™è¯¯çš„</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(person)</span><br><span class="line"></span><br><span class="line">df.loc[<span class="number">2</span>, <span class="string">&#x27;age&#x27;</span>] = <span class="number">30</span> <span class="comment"># ä¿®æ”¹æ•°æ®</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df.to_string())</span><br></pre></td></tr></table></figure><p>å°†<code>age</code>å¤§äº<code>120</code>çš„è®¾ç½®ä¸º<code>120</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">person = &#123;</span><br><span class="line">  <span class="string">&quot;name&quot;</span>: [<span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;Runoob&#x27;</span> , <span class="string">&#x27;Taobao&#x27;</span>],</span><br><span class="line">  <span class="string">&quot;age&quot;</span>: [<span class="number">50</span>, <span class="number">200</span>, <span class="number">12345</span>]    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(person)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> df.index:</span><br><span class="line">  <span class="keyword">if</span> df.loc[x, <span class="string">&quot;age&quot;</span>] &gt; <span class="number">120</span>:</span><br><span class="line">    df.loc[x, <span class="string">&quot;age&quot;</span>] = <span class="number">120</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df.to_string())</span><br></pre></td></tr></table></figure><p>å°†<code>age</code>å¤§äº<code>120</code>çš„åˆ é™¤</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">person = &#123;</span><br><span class="line">  <span class="string">&quot;name&quot;</span>: [<span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;Runoob&#x27;</span> , <span class="string">&#x27;Taobao&#x27;</span>],</span><br><span class="line">  <span class="string">&quot;age&quot;</span>: [<span class="number">50</span>, <span class="number">40</span>, <span class="number">12345</span>]    <span class="comment"># 12345 å¹´é¾„æ•°æ®æ˜¯é”™è¯¯çš„</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(person)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> df.index:</span><br><span class="line">  <span class="keyword">if</span> df.loc[x, <span class="string">&quot;age&quot;</span>] &gt; <span class="number">120</span>:</span><br><span class="line">    df.drop(x, inplace = <span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df.to_string())</span><br></pre></td></tr></table></figure><p><strong>5ï¸âƒ£ é‡å¤æ•°æ®</strong></p><p>å¦‚æœè¦æ¸…æ´—é‡å¤æ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨<code>duplicated()</code>å’Œ<code>drop_dulicates()</code>æ–¹æ³•</p><p>å¦‚æœæ•°æ®æ˜¯é‡å¤çš„ï¼Œ<code>duplicated()</code>ä¼šè¿”å›<code>True</code>å¦åˆ™ä¼šè¿”å›<code>False</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">person = &#123;</span><br><span class="line">  <span class="string">&quot;name&quot;</span>: [<span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;Runoob&#x27;</span>, <span class="string">&#x27;Runoob&#x27;</span>, <span class="string">&#x27;Taobao&#x27;</span>],</span><br><span class="line">  <span class="string">&quot;age&quot;</span>: [<span class="number">50</span>, <span class="number">40</span>, <span class="number">40</span>, <span class="number">23</span>]  </span><br><span class="line">&#125;</span><br><span class="line">df = pd.DataFrame(person)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df.duplicated())</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">0    False</span></span><br><span class="line"><span class="string">1    False</span></span><br><span class="line"><span class="string">2     True</span></span><br><span class="line"><span class="string">3    False</span></span><br><span class="line"><span class="string">dtype: bool</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><p>åˆ é™¤é‡å¤æ•°æ®ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨<strong>drop_duplicates()</strong> æ–¹æ³•ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">persons = &#123;</span><br><span class="line">  <span class="string">&quot;name&quot;</span>: [<span class="string">&#x27;Google&#x27;</span>, <span class="string">&#x27;Runoob&#x27;</span>, <span class="string">&#x27;Runoob&#x27;</span>, <span class="string">&#x27;Taobao&#x27;</span>],</span><br><span class="line">  <span class="string">&quot;age&quot;</span>: [<span class="number">50</span>, <span class="number">40</span>, <span class="number">40</span>, <span class="number">23</span>]  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(persons)</span><br><span class="line"></span><br><span class="line">df.drop_duplicates(inplace = <span class="literal">True</span>)</span><br><span class="line"><span class="built_in">print</span>(df)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    name  age</span></span><br><span class="line"><span class="string">0  Google   50</span></span><br><span class="line"><span class="string">1  Runoob   40</span></span><br><span class="line"><span class="string">3  Taobao   23</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><hr><h2 id="å…­ã€æ¡ˆä¾‹">å…­ã€æ¡ˆä¾‹</h2><p><strong>Case 1ğŸ°</strong></p><img src="/2022/09/13/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91Pandas%E5%85%A5%E9%97%A8/image-20220915103634915.png" alt="image-20220915103634915" style="zoom:50%;"><img src="/2022/09/13/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91Pandas%E5%85%A5%E9%97%A8/image-20220915103652035.png" alt="image-20220915103652035" style="zoom:50%;"><img src="/2022/09/13/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91Pandas%E5%85%A5%E9%97%A8/image-20220915103703523.png" alt="image-20220915103703523" style="zoom:50%;"><img src="/2022/09/13/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91Pandas%E5%85%A5%E9%97%A8/image-20220915103711154.png" alt="image-20220915103711154" style="zoom:50%;"><img src="/2022/09/13/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91Pandas%E5%85%A5%E9%97%A8/image-20220915103718599.png" alt="image-20220915103718599" style="zoom:50%;"><img src="/2022/09/13/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91Pandas%E5%85%A5%E9%97%A8/image-20220915103725102.png" alt="image-20220915103725102" style="zoom:50%;"><p>å½“ç„¶äº†ï¼Œé—®é¢˜ä¸‰æœ‰æ›´ä¼˜çš„è§£å†³æ–¹æ¡ˆï¼š</p><img src="/2022/09/13/%E3%80%90%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E3%80%91Pandas%E5%85%A5%E9%97%A8/image-20220915104256752.png" alt="image-20220915104256752" style="zoom:50%;"><p>åœ¨æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦ä¸Šéƒ½èƒ½å¤§é‡ä¼˜åŒ–ã€‚</p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">None</summary>
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="æ•°æ®åˆ†æ" scheme="http://example.com/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>ã€æ•°æ®ç»“æ„ã€‘å·®åˆ†æ•°ç»„</title>
    <link href="http://example.com/2022/09/12/%E3%80%90%E7%AE%97%E6%B3%95%E3%80%91%E6%9F%A5%E5%88%86%E6%95%B0%E7%BB%84/"/>
    <id>http://example.com/2022/09/12/%E3%80%90%E7%AE%97%E6%B3%95%E3%80%91%E6%9F%A5%E5%88%86%E6%95%B0%E7%BB%84/</id>
    <published>2022-09-12T08:37:54.278Z</published>
    <updated>2022-09-26T15:03:09.622Z</updated>
    
    <content type="html"><![CDATA[<h1>å·®åˆ†æ•°ç»„</h1><hr><h2 id="ä¸€ã€æ•°æ®ç»“æ„â™">ä¸€ã€æ•°æ®ç»“æ„â™</h2><blockquote><p>åœ¨è®²å·®åˆ†.æ•°ç»„å‰ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆçœ‹ä¸€çœ‹ã€å‰ç¼€å’Œæ•°ç»„ã€‘å“¦</p></blockquote><table><thead><tr><th style="text-align:center">index</th><th style="text-align:center">0</th><th style="text-align:center">1</th><th style="text-align:center">2</th><th style="text-align:center">3</th><th style="text-align:center">4</th></tr></thead><tbody><tr><td style="text-align:center"><strong>nums</strong></td><td style="text-align:center">8</td><td style="text-align:center">2</td><td style="text-align:center">6</td><td style="text-align:center">-2</td><td style="text-align:center">9</td></tr><tr><td style="text-align:center"><strong>diff</strong></td><td style="text-align:center">8</td><td style="text-align:center">-6</td><td style="text-align:center">4</td><td style="text-align:center">-8</td><td style="text-align:center">11</td></tr></tbody></table><p>æˆ‘ä»¬å¯ä»¥å°†ä»»æ„ä¸€ä¸ªæ•°ç»„è½¬åŒ–ä¸ºå¸¦æœ‰å…ƒç´ ä¹‹é—´å…³ç³»çš„<strong>å·®åˆ†æ•°ç»„</strong>ï¼Œå…¶å…³ç³»ä¸ºï¼š</p>diff[i]=\left\{ \begin{array}\nums[i]-nums[i-1],i\ne 0\\nums[i],i=0\end{array} \right.<h2 id="äºŒã€ä½¿ç”¨åœºæ™¯â™">äºŒã€ä½¿ç”¨åœºæ™¯â™</h2><p>æˆ‘ä»¬æƒ³æƒ³è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼š</p><p>æœ‰ä¸€ä¸ª<code>ä¸€ç™¾ä¸‡æ•°æ®é‡</code>çš„æ•°ç»„ï¼Œæ¯æ¬¡éœ€è¦å¯¹å…¶ä¸­è¿ç»­çš„ä¹åä¸‡ä¸ªæ•°æ®é‡è¿›è¡Œ<code>åŒæ­¥ä¿®æ”¹</code>ï¼Œæˆ‘ä»¬ä¼šå‘ç°ï¼Œè¿™æ ·åšçš„æ—¶é—´å¤æ‚åº¦æ˜¯<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>T</mi><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(Tn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="mord mathnormal">n</span><span class="mclose">)</span></span></span></span>ï¼Œä¹Ÿå°±æ˜¯çº¿æ€§çº§åˆ«ï¼Œåœ¨æ“ä½œæ¬¡æ•°è¿‡å¤šã€æ•°ç»„è¿‡å¤§æ—¶ï¼Œä¼šè€—è´¹å¤§é‡çš„æ—¶é—´ã€‚è¿™æ ·åœ¨æŸäº›ä¸šåŠ¡é‡Œæ˜¯ä¸å¯æ¥å—çš„ã€‚</p><p>æœ‰æ²¡æœ‰ä¸€ç§æ•°æ®ç»“æ„èƒ½å¤Ÿå®ç°å¯¹æŸä¸ªåŒºé—´å…ƒç´ åŒæ­¥è¿›è¡Œä¿®æ”¹å‘¢ï¼Ÿè¯¶ï¼Œé‚£å¿…é¡»æ˜¯æˆ‘ä»¬çš„å·®åˆ†æ•°ç»„å•¦ï¼ï¼</p><p>å¯¹äºä¿®æ”¹åŒºé—´<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">[</mo><mi>i</mi><mo separator="true">,</mo><mi>j</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">[i,j]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mclose">]</span></span></span></span>çš„å€¼ï¼Œæˆ‘ä»¬åªéœ€è¦ä»¤ï¼š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>i</mi><mi>f</mi><mi>f</mi><mo stretchy="false">[</mo><mi>i</mi><mo stretchy="false">]</mo><mo>+</mo><mo>=</mo><mi>v</mi><mi>a</mi><mi>l</mi></mrow><annotation encoding="application/x-tex">diff[i]+=val</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.10764em;">ff</span><span class="mopen">[</span><span class="mord mathnormal">i</span><span class="mclose">]</span><span class="mord">+</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span></span></span></span>ï¼Œä¹Ÿå°±æ˜¯è¿›å…¥çš„æ—¶å€™ï¼Œæµ·æ°´å¼€å§‹æ¶¨æ½®äº†ï¼Œæ¶¨æ½®åï¼Œæ°´å¹³é¢ç›¸å¯¹ä¸å˜(ä¸ç”¨ä¿®æ”¹)ï¼Œä½†å®é™…é«˜åº¦å¢åŠ äº†(è¿›å…¥çš„ä¸´ç•Œç‚¹)ã€‚å½“ç„¶ï¼Œæœ€åéœ€è¦ä»¤<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mi>i</mi><mi>f</mi><mi>f</mi><mo stretchy="false">[</mo><mi>j</mi><mo>+</mo><mn>1</mn><mo stretchy="false">]</mo><mo>âˆ’</mo><mo>=</mo><mi>v</mi><mi>a</mi><mi>l</mi></mrow><annotation encoding="application/x-tex">diff[j+1]-=val</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.10764em;">ff</span><span class="mopen">[</span><span class="mord mathnormal" style="margin-right:0.05724em;">j</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">]</span><span class="mord">âˆ’</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span></span></span></span>ï¼Œä¹Ÿå°±æ˜¯é€€æ½®å•¦ã€‚</p><p>æˆ‘ä»¬æ¥çœ‹ä¸¤ç»„å·®åˆ†é˜Ÿåˆ—ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>],[<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>]]</span><br><span class="line"><span class="comment"># [0, 1, 0, 0, 0, 0, 0, 0, 0]</span></span><br><span class="line"></span><br><span class="line">[[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">2</span>,<span class="number">3</span>],[<span class="number">3</span>,<span class="number">4</span>],[<span class="number">4</span>,<span class="number">5</span>]]</span><br><span class="line"><span class="comment"># [0, 1, 1, 0, 0, -1]</span></span><br><span class="line"></span><br><span class="line">[[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">2</span>,<span class="number">3</span>],[<span class="number">3</span>,<span class="number">4</span>],[<span class="number">4</span>,<span class="number">5</span>],[<span class="number">3</span>,<span class="number">5</span>],[<span class="number">3</span>,<span class="number">6</span>],[<span class="number">1</span>,<span class="number">4</span>],[<span class="number">2</span>,<span class="number">7</span>]]</span><br><span class="line"><span class="comment"># [0, 2, 2, 2, 0, -2, -2, -1]</span></span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€ä»£ç å®ç°ğŸ•‰ï¸">ä¸‰ã€ä»£ç å®ç°ğŸ•‰ï¸</h2><p>æˆ‘ä»¬é€šè¿‡ä¸€é¢˜æ¥çœ‹çœ‹å¦‚ä½•å®ç°å§ï¼</p><p><a href="https://leetcode.cn/problems/divide-intervals-into-minimum-number-of-groups/">LC6178. å°†åŒºé—´åˆ†ä¸ºæœ€å°‘ç»„æ•°</a></p><img src="/2022/09/12/%E3%80%90%E7%AE%97%E6%B3%95%E3%80%91%E6%9F%A5%E5%88%86%E6%95%B0%E7%BB%84/image-20220912170357166.png" alt="image-20220912170357166" style="zoom:50%;"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">minGroups</span>(<span class="params">self, intervals: <span class="type">List</span>[<span class="type">List</span>[<span class="built_in">int</span>]]</span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line"><span class="comment"># æ ¸å¿ƒåœ¨äºï¼š å¯»æ‰¾åŒæ—¶é‡å çš„æ³¢æµª</span></span><br><span class="line">        <span class="comment"># å·®åˆ†é˜Ÿåˆ—</span></span><br><span class="line">        maxVal=<span class="built_in">max</span>([i[<span class="number">1</span>] <span class="keyword">for</span> i <span class="keyword">in</span> intervals])</span><br><span class="line">        diff=[<span class="number">0</span>]*(maxVal+<span class="number">1</span>) <span class="comment"># 0-&gt;maxVal</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># è®¡ç®—åŒºé—´å˜åŒ–æƒ…å†µ</span></span><br><span class="line">        <span class="keyword">for</span> i,j <span class="keyword">in</span> intervals:</span><br><span class="line">            diff[i]+=<span class="number">1</span> <span class="comment"># æ¶¨æ½®</span></span><br><span class="line">            <span class="keyword">if</span> j+<span class="number">1</span>&lt;=maxVal:</span><br><span class="line">                diff[j+<span class="number">1</span>]-=<span class="number">1</span> <span class="comment"># é€€æ½®</span></span><br><span class="line">        <span class="comment"># æŸ¥çœ‹æœ‰å¤šå°‘åŒºé—´ä¸Šé‡å äº†</span></span><br><span class="line">        <span class="comment"># æœ€å¤§å€¼å°±æ˜¯é‡å çš„åŒºé—´æ•°ç›®</span></span><br><span class="line">        res,t=<span class="number">0</span>,<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> diff:</span><br><span class="line">            t+=i</span><br><span class="line">            res=<span class="built_in">max</span>(res,t)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure><p>å½“ç„¶å¹¶ä¸æ˜¯æ‰€æœ‰çš„åŒºé—´é—®é¢˜éƒ½èƒ½ç”¨å·®åˆ†æ±‚è§£ï¼å·®åˆ†åªæ˜¯ä¸ºäº†ç®€åŒ–èµ‹å€¼è¿ç®—ï¼Œé‚£ä¹ˆè¯¥è´ªå¿ƒçš„æ—¶å€™å°±è´ªå¿ƒï¼Œè¯¥DPå°±DPï¼Œåˆ«è€æƒ³ç€åˆ«çš„ã€‚</p><p>ä¸è¿‡å¦‚æœä½ è¯´é‡å éƒ¨åˆ†ï¼Œå·®åˆ†ç¡®å®èƒ½å¤Ÿèµ·åˆ°ä¸€å®šçš„æ•ˆæœ~</p><p>ä¸‹é¢çœ‹çœ‹ä¸€ä¸ªç»å…¸å·®åˆ†</p><h4 id="LC-2381-å­—æ¯ç§»ä½-II"><a href="https://leetcode.cn/problems/shifting-letters-ii/">LC 2381. å­—æ¯ç§»ä½ II</a></h4><img src="/2022/09/12/%E3%80%90%E7%AE%97%E6%B3%95%E3%80%91%E6%9F%A5%E5%88%86%E6%95%B0%E7%BB%84/image-20220912222755301.png" alt="image-20220912222755301" style="zoom:50%;"><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å…¨æ˜¯èµ‹å€¼è¿ç®—ï¼</span></span><br><span class="line"><span class="comment"># æ­£å¸¸ç®—çš„è¯ï¼Œä¼šè¶…æ—¶</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">shiftingLetters</span>(<span class="params">self, s: <span class="built_in">str</span>, shifts</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">        diff=[<span class="number">0</span>]*(<span class="built_in">len</span>(s)+<span class="number">1</span>)</span><br><span class="line">        <span class="comment"># æ„å»ºå·®åˆ†</span></span><br><span class="line">        <span class="keyword">for</span> st,e,shift <span class="keyword">in</span> shifts:</span><br><span class="line">            diff[st]+=shift*<span class="number">2</span>-<span class="number">1</span></span><br><span class="line">            diff[e+<span class="number">1</span>]-=shift*<span class="number">2</span>-<span class="number">1</span></span><br><span class="line">        <span class="comment"># è·å–ç§»åŠ¨è¡¨</span></span><br><span class="line">        shift=[]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> diff:</span><br><span class="line">            <span class="keyword">if</span> shift==[]:</span><br><span class="line">                shift.append(i)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                shift.append(i+shift[-<span class="number">1</span>])</span><br><span class="line">        <span class="comment"># è¾“å‡º</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>.join([<span class="built_in">chr</span>(<span class="built_in">ord</span>(<span class="string">&quot;a&quot;</span>)+(<span class="built_in">ord</span>(i)-<span class="built_in">ord</span>(<span class="string">&quot;a&quot;</span>)+dif)%<span class="number">26</span>) <span class="keyword">for</span> i,dif <span class="keyword">in</span> <span class="built_in">zip</span>(s,shift)])</span><br></pre></td></tr></table></figure><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">æ•°æ®ç»“æ„ä¹‹ã€å·®åˆ†æ•°ç»„ã€‘</summary>
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="ç®—æ³•" scheme="http://example.com/tags/%E7%AE%97%E6%B3%95/"/>
    
    <category term="æ•°æ®ç»“æ„" scheme="http://example.com/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>Python å¥‡æ€ªçš„çŸ¥è¯†</title>
    <link href="http://example.com/2022/09/07/%E3%80%90Python%E3%80%91Python%E5%A5%87%E6%80%AA%E7%9A%84%E7%9F%A5%E8%AF%86/"/>
    <id>http://example.com/2022/09/07/%E3%80%90Python%E3%80%91Python%E5%A5%87%E6%80%AA%E7%9A%84%E7%9F%A5%E8%AF%86/</id>
    <published>2022-09-07T13:43:14.992Z</published>
    <updated>2022-09-19T09:54:48.804Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Pythonå¥‡æ€ªçš„çŸ¥è¯†">Pythonå¥‡æ€ªçš„çŸ¥è¯†</h2><h3 id="å¸¦ä½™é™¤æ³•ï¼"><strong>å¸¦ä½™é™¤æ³•ï¼</strong></h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">C,D=<span class="built_in">divmod</span>(A,B)</span><br><span class="line"></span><br><span class="line"><span class="comment"># eg.</span></span><br><span class="line"><span class="comment"># print(divmod(19,6))</span></span><br><span class="line"><span class="comment"># (3,1)</span></span><br></pre></td></tr></table></figure><h3 id="Joinç¥å™¨ï¼">Joinç¥å™¨ï¼</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(<span class="string">&quot; &quot;</span>*A).join(B)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ³¨æ„å•¦ï¼</span></span><br><span class="line"><span class="comment"># ä»¥B[0]å¼€å¤´ B[n-1]ç»“å°¾</span></span><br><span class="line"><span class="comment"># ä¸­é—´ç©¿æ’&quot; &quot;*A  </span></span><br></pre></td></tr></table></figure><p><strong>å¤šè§„åˆ™æ’åº!</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">è¦æ±‚å¯¹numsæ•°ç»„ä¸­çš„å…ƒç´ å…ˆæŒ‰ç…§æ•°é‡å‡åºï¼Œæ•°é‡ç›¸åŒçš„æ—¶å€™æŒ‰ç…§å­—å…¸åºé™åºï¼</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å…ˆè·å–æ•°é‡</span></span><br><span class="line">cnt=Counter(nums)</span><br><span class="line">nums.sort(key=<span class="keyword">lambda</span> x:(cnt[x],-x))</span><br></pre></td></tr></table></figure><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">Python å¥‡æ€ªçš„çŸ¥è¯†</summary>
    
    
    
    <category term="ä¸æƒ³å­¦è¾£" scheme="http://example.com/categories/%E4%B8%8D%E6%83%B3%E5%AD%A6%E8%BE%A3/"/>
    
    
    <category term="Python" scheme="http://example.com/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>ã€çŸ¥ä¹è½¬è½½ã€‘é¼»ç‚æˆå› åŠç–—æ³•</title>
    <link href="http://example.com/2022/09/07/%E3%80%90%E7%9F%A5%E4%B9%8E%E8%BD%AC%E8%BD%BD%E3%80%91%E9%BC%BB%E7%82%8E/"/>
    <id>http://example.com/2022/09/07/%E3%80%90%E7%9F%A5%E4%B9%8E%E8%BD%AC%E8%BD%BD%E3%80%91%E9%BC%BB%E7%82%8E/</id>
    <published>2022-09-07T12:35:06.647Z</published>
    <updated>2022-09-07T12:37:44.113Z</updated>
    
    <content type="html"><![CDATA[<p>â€œé€šé¼»å–·å‰‚â€ã€â€œé¼»ç”²åˆ‡é™¤æœ¯â€çš„æ»¥ç”¨ï¼Œåªè¿½æ±‚è¿…é€Ÿï¼Œä¸çœ‹é•¿è¿œã€‚</p><p>é€šé¼»å–·å‰‚ï¼Œç®€ç›´æ˜¯é¼»å¡æ‚£è€…çš„â€œç¥è¯â€ä¸€å–·å³çµï¼Œç«‹ç«¿è§å½±çš„æ•ˆæœï¼Œæ®Šä¸çŸ¥è¿™æ˜¯åœ¨é¥®é¸©æ­¢æ¸´ï¼Œä¸€å¼€å§‹ä½¿ç”¨ç¡®å®æ•ˆæœå¾ˆå¥½ï¼Œä½†æŒç»­ä¸€æ®µæ—¶é—´åï¼Œå‘ç°åŸæ¥å–·ä¸€ä¸‹å°±é€šäº†ï¼Œç°åœ¨å¾—å–·ä¸¤ä¸‹ã€ä¸‰ä¸‹ï¼Œå¹¶ä¸”è¯æ•ˆè¶Šæ¥è¶ŠçŸ­ï¼Œä¹‹å‰å–·å®Œä¸¤ä¸‰ä¸ªå°æ—¶éƒ½ä¸å µï¼Œç°åœ¨ä¸åˆ°åŠå°æ—¶åˆå µäº†ã€‚äºæ˜¯å‰‚é‡è¶Šç”¨è¶Šå¤§ï¼Œä½¿ç”¨æ¬¡æ•°è¶Šæ¥è¶Šå¤šï¼Œå½¢æˆè¯ç‰©ä¾èµ–ã€‚</p><p>æˆ‘æ›¾ç»æœ‰ä¸ªé¼»ç‚æ‚£è€…ï¼Œä¹°â€œé€šé¼»å–·å‰‚â€æ˜¯ä»¥ç®±ä¸ºå•ä½ï¼Œæœ€ååªè¦ä¸ç”¨ï¼Œé¼»å­å°±æ°¸è¿œæ²¡ç•…é€šè¿‡ã€‚</p><p>è¿™äº›â€œé€šé¼»å–·å‰‚â€ä»ä½œç”¨åŸç†åˆ†ç±»ä¸Šå±äºå‡å……è¡€å‰‚ï¼Œä¹Ÿå¯ä»¥ç§°ä¸ºè¡€ç®¡æ”¶ç¼©å‰‚ã€‚</p><p>è¯ç‰©æ€§é¼»ç‚å°±æ˜¯é•¿æœŸè¿‡åº¦ä½¿ç”¨è¿™ç±»è¯ç‰©è€Œå¼•å‘çš„ã€‚</p><p>é¼»å¡äº§ç”Ÿçš„åŸå› æ˜¯ï¼šè¡€ç®¡é€šé€æ€§å¢åŠ ï¼Œä½¿å¾—å¤§é‡è¡€æµ†æ¸—å…¥é»è†œç»„ç»‡ï¼Œé€ æˆæ°´è‚¿å µå¡äº†æ°”é“ã€‚</p><p>é€šè¿‡ä½¿ç”¨å‡å……è¡€å‰‚ï¼Œå°±åƒä»æºå¤´ä¸ŠæŠŠä¾›æ°´çš„æ°´ç®¡ç»™å…³ç´§äº†ï¼Œæ²¡æœ‰æŒç»­çš„ä½“æ¶²ä¾›åº”ï¼Œç»„ç»‡æ°´è‚¿å°±ä¼šæ¶ˆé€€ï¼Œé»è†œè‚¿èƒ€çš„é—®é¢˜ç¼“è§£ï¼Œæ°”é“é‡æ–°æ¢å¤é€šç•…ã€‚</p><p>ä½†æ˜¯ï¼Œé•¿æœŸä½¿ç”¨å‡å……è¡€å‰‚åï¼Œè¡€ç®¡çš„â€œé˜€é—¨â€ä¼šå¯¹è¯ç‰©å˜å¾—è¶Šæ¥è¶Šä¸æ•æ„Ÿï¼Œæ›´ç³Ÿç³•çš„æ˜¯è¿˜ä¼šå‡ºç°åè·³æ€§å……è¡€ï¼Œå› ä¸ºç»å¸¸ä½¿ç”¨å‡å……è¡€å‰‚ï¼Œè¡€æ¶²æµé‡å‡å°‘äº†ï¼Œä¸ä»…è®©é»è†œç»„ç»‡å¾—ä¸åˆ°å……è¶³çš„è¥å…»ä¾›åº”ï¼Œå¹¶ä¸”ä»£è°¢çš„åºŸç‰©ä¹Ÿä¼šå †ç§¯åœ¨é¼»è…”ï¼Œè¡€ç®¡ä¸å¾—ä¸ä»£å¿æ€§æ‰©å¼ ä»¥å¹³è¡¡è¯ç‰©æ”¶ç¼©è¡€ç®¡çš„ä½œç”¨ã€‚</p><p>ç»“æœå°±æ˜¯é€šé¼»å–·å‰‚è¶Šç”¨è¶Šå¤šã€æ•ˆæœè¶Šæ¥è¶Šå·®ã€ä¸ç”¨å°±ä¸é€šï¼Œæœ€åå°±æˆäº†â€œè¯ç‰©æ€§é¼»ç‚â€</p><p>å„¿ç«¥ç”¨å‡å……è¡€å‰‚çš„å±å®³æ›´å¤§ï¼Œå› ä¸ºå„¿ç«¥é¼»é»è†œå¨‡å«©ã€è¡€ç®¡ä¸°å¯Œï¼Œè¯ç‰©å¸æ”¶çš„æ›´å¿«ï¼Œå‰‚é‡æ›´éš¾ä»¥æŠŠæ§ï¼Œæ•ˆæœå’Œå‰¯ä½œç”¨æ›´åŠ æ˜æ˜¾ï¼Œè¿˜æœ‰é€šè¿‡é¼»å’½åæœ‰è¢«å­©å­åé£Ÿçš„é£é™©ï¼Œä»èƒƒéƒ¨è¿›å…¥è¡€æ¶²çš„è¯ç‰©ä¼šä½œç”¨äºå…¨èº«ï¼Œå› æ­¤å¤§éƒ¨åˆ†å‡å……è¡€å‰‚éƒ½ç¦æ­¢ç»™å„¿ç«¥ä½¿ç”¨</p><p>é™¤äº†é€šé¼»å–·å‰‚ï¼Œå‡å……è¡€å‰‚è¿˜ä¼šè—åœ¨å„ç§å¤æ–¹åˆ¶å‰‚ä¸­ï¼Œæœ€å¸¸è§çš„æ˜¯æ„Ÿå†’è¯ï¼Œåœ¨åç§°ä¸­å¸¦æœ‰â€œéº»â€å­—çš„æ„Ÿå†’è¯é€šå¸¸å«æœ‰å‡å……è¡€å‰‚ï¼Œæ‰€ä»¥éœ€è¦å®¶é•¿ä»¬æ ¼å¤–æ³¨æ„ã€‚</p><p>ä¸ºäº†çŸ­æš‚çš„é¼»å­é€šç•…ï¼Œå†’ç€æ‰¿å—ä¸¥é‡å‰¯ä½œç”¨å’Œè¯ç‰©ä¾èµ–çš„é£é™©ï¼Œå®åœ¨ä¸å€¼å¾—ã€‚</p><p>ç©ºé¼»ç»¼åˆå¾ï¼šæ¯ä¸€æ¬¡å‘¼å¸éƒ½æ˜¯ç—›è‹¦çš„æŠ˜ç£¨<br>â€œä¸€è¿›å…¥ç©ºè°ƒè½¦ï¼Œæˆ‘æ¯å¸ä¸€å£æ°”ï¼Œå°±æ„Ÿè§‰å†·ç©ºæ°”ç›´æ¥è¿›å…¥åˆ°æˆ‘çš„è‚ºé‡Œã€‚â€</p><p>â€œé¼»å­ä¸ç—›ï¼Œäººéš¾å—ã€å¤´ç–¼ã€æ•´æ™šç¡ä¸ç€è§‰â€¦â€</p><p>â€œæ™šä¸Šç¡è§‰å°±åƒâ€˜çƒ™å¤§é¥¼â€™ï¼Œå·¦è¾¹é¼»å­å µäº†ç¿»å³è¾¹ï¼Œå³è¾¹åˆå µäº†å†ç¿»å·¦è¾¹ï¼Œç»å¸¸å µé†’æˆ–å—“å­å¹²ï¼ŒåŠå¤œèµ·æ¥å–æ°´ï¼Œä¸€ä¸ªæ™šä¸Šå¯ä»¥ç¿»100æ¬¡èº«ã€‚â€</p><p>â€œç¡ä¸å¥½ã€æ³¨æ„åŠ›ä¸é›†ä¸­ï¼Œåƒæˆ‘è¿™ç§åŸæ¥å­¦ä¹ èƒ½åŠ›å¾ˆå¼ºçš„äººï¼Œå½±å“ç”¨è„‘æ„Ÿè§‰å¾ˆç—›è‹¦ï¼Œå¥½å¤šäº‹éƒ½æ²¡ç²¾åŠ›åšâ€¦â€</p><p>è¿™äº›äººåœ¨æè¿°è‡ªå·±çš„çŠ¶å†µæ—¶ï¼Œå‡ ä¹éƒ½ç”¨äº†â€œç”Ÿä¸å¦‚æ­»â€ï¼Œæ¯æ—¶æ¯åˆ»éƒ½è¦å‘¼å¸ï¼Œè€Œæ¯ä¸€æ¬¡å‘¼å¸éƒ½æ˜¯ç—›è‹¦çš„æŠ˜ç£¨ã€‚</p><p>éƒ½æ˜¯å› ä¸ºæ‰‹æœ¯åˆ‡é™¤éƒ¨åˆ†é¼»ç”²é»è†œåï¼Œé¼»é»è†œå¯¹ç©ºæ°”åŠ æ¸©ã€åŠ æ¹¿ä»¥åŠè¿‡æ»¤çš„åŠŸèƒ½ä½œç”¨è¢«ç ´åï¼Œå¸å…¥é¼»è…”çš„å¹²å†·ç©ºæ°”ç›´æ¥è¿›å…¥æ°”ç®¡è‚ºéƒ¨ï¼Œè¿˜åˆºæ¿€ç€é¼»è…”åˆ†å¸ƒçš„ç¥ç»æœ«æ¢¢ï¼Œé€ æˆåå°„æ€§å¤´ç—›ï¼›è¿™äº›ç›´æ¥å¸è¿›å»çš„ç©ºæ°”ç¼ºä¹æœ‰æ•ˆçš„æ¸…æ´è¿‡æ»¤ï¼Œæºå¸¦ç»†èŒè¿›å…¥è¿˜å¯èƒ½é€ æˆå‘¼å¸é“æ„ŸæŸ“ã€‚</p><p>åˆ‡é™¤è‚¿èƒ€çš„é¼»é»è†œåé¼»è…”æœ¬æ¥æ˜¯å˜å®½å¤§äº†ï¼Œé€šæ°”é¡ºç•…æ‰å¯¹ï¼Œä¸ºä»€ä¹ˆè¿˜ä¼šå‡ºç°é¼»å¡ï¼Ÿ</p><p>æ˜¯å› ä¸ºé¼»é»è†œä¸Šä¸°å¯Œçš„çš„æœ«æ¢¢ç¥ç»èƒ½æ„ŸçŸ¥æ°”æµï¼Œä¸€æ—¦è¢«ç ´åå°±ä¼šæ„Ÿè§‰ä¸åˆ°ç©ºæ°”æµåŠ¨ï¼Œäº§ç”Ÿé¼»å¡çš„æ„Ÿè§‰ï¼Œè¿˜ä¼´æœ‰å¤´ç—›ã€å—…è§‰å‡é€€ç­‰ç—‡çŠ¶ã€‚</p><p>é™¤äº†é¼»ç”²åˆ‡é™¤æœ¯ï¼Œè¿˜æœ‰é»è†œå¤–é»è†œæ¶ˆé™¤æœ¯ï¼ˆå¦‚è¡¨é¢çƒ§ç¼ã€æ¿€å…‰æ²»ç–—ï¼‰</p><p>é»è†œä¸‹æ¶ˆèæœ¯ï¼ˆå¦‚é»è†œå†…çƒ§ç¼ã€å°„é¢‘æ¶ˆèã€æ¿€å…‰æ²»ç–—ï¼‰ç­‰ç ´åé»è†œçš„ç–—æ³•éƒ½æœ‰é€ æˆç©ºé¼»ç»¼åˆå¾çš„é£é™©ã€‚</p><p>ä¸Šé¢æ‰€è¯´çš„ä¸¤ç§æ–¹æ³•éƒ½æ˜¯ä¸ºäº†è§£å†³é¼»å¡çš„é—®é¢˜<br>ä¸ºä»€ä¹ˆä¼šä¸€ç›´é¼»å¡ï¼Œé¼»å¡çš„å¸¸è§åŸå› æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>1ã€è¿‡æ•å¼•èµ·çš„é¼»å¡</p><p>å¸å…¥ä¸€äº›è¿‡æ•åŸå¦‚èŠ±ç²‰ã€å°˜è¨ã€é¢ç²‰ç­‰ï¼Œå¼•èµ·è¿‡æ•ååº”ï¼Œé¼»è…”é»è†œå……è¡€ï¼Œå½±å“ç©ºæ°”å¸å…¥ï¼Œé€ æˆé¼»å¡ã€‚è¿™ç§éœ€è¦æŸ¥è¿‡æ•åŸï¼Œä»æºå¤´é¿å…å¸å…¥è¿‡æ•åŸã€‚</p><p>2ã€æ…¢æ€§é¼»ç‚</p><p>é¼»è…”çº¤æ¯›æ‘†åŠ¨å¼‚å¸¸ï¼Œæ— æ³•è¿é€åƒåœ¾å‡ºå»ï¼Œè¿™äº›ç‚æ€§ç‰©è´¨ä¸æ–­å †ç§¯åœ¨é¼»è…”é‡Œï¼Œå †ç§¯çš„åˆ†æ³Œç‰©å’Œç‚æ€§ç‰©è´¨åˆä¸æ–­åˆºæ¿€é¼»é»è†œï¼Œè¿›ä¸€æ­¥åŠ é‡çº¤æ¯›æ‘†åŠ¨å¼‚å¸¸ï¼Œå¦‚æ­¤å½¢æˆæ¶æ€§å¾ªç¯ï¼Œé¼»ç‚ä¹…è€Œä¸æ„ˆã€‚</p><p>è¿™ç§æ…¢æ€§é¼»ç‚éœ€è¦æŠ—ç‚æ’åˆ†æ³Œç‰©ï¼Œä»æºå¤´å‡å°‘åˆ†æ³Œç‰©ï¼Œç„¶åä¿®å¤é¼»é»è†œä½¿çº¤æ¯›æ¢å¤æ­£å¸¸æ‘†åŠ¨ï¼ŒåŠ å¿«è¿é€åƒåœ¾ã€‚</p><p>3ã€é¼»ä¸­éš”åæ›²</p><p>å¤§éƒ¨åˆ†äººçš„é¼»ä¸­éš”å…¶å®éƒ½ä¼šå¾®å¾®åå‘é¼»è…”çš„æŸä¸€ä¾§ï¼Œè¿™å¹¶ä¸ä¼šå¯¼è‡´åŠŸèƒ½éšœç¢ï¼Œä½†å¦‚æœé¼»ä¸­éš”â€œæ‹—é€ å‹â€å¤ªè¿‡æ”¾é£è‡ªæˆ‘ï¼Œæ‰­æˆäº†â€œCâ€å½¢æˆ–è€…â€œSâ€å½¢æ—¶ï¼Œé—®é¢˜å°±ä¸¥é‡äº†ï¼Œä¼šé€ æˆç»å¸¸æµé¼»è¡€ã€é¼»å¡ä¸é€šæ°”ç­‰éš¾å—çš„ç—…ç—‡ã€‚</p><p>4ã€å¤–ä¼¤ã€å‘è‚²ä¸è‰¯</p><p>é€šé¼»å–·å‰‚ä¸æ˜¯ç»™å­©å­ç¼“è§£é¼»å¡é•¿æœŸç”¨çš„ï¼Œæ‰‹æœ¯åˆ‡é™¤é¼»ç”²åˆä¼šæœ‰â€œç©ºé¼»ç»¼åˆå¾â€çš„é£é™©ï¼Œé‚£ä¹ˆå­©å­é¼»å¡ï¼Œå®¶é•¿è¯¥æ€ä¹ˆåŠï¼Ÿè¯•è¯•è¿™äº›æ–¹æ³•<br>é¼»å¡æ˜¯ç—‡çŠ¶ï¼Œæ˜¯å› ä¸ºé¼»è…”æœ‰ç‚ç—‡æ‰ä¼šé€ æˆé¼»å¡ï¼Œå› æ­¤å¯¹ä»˜é¼»å¡çš„æ ¹æœ¬æ˜¯æ¶ˆé™¤ç‚ç—‡ï¼Œé™ä½è¡€ç®¡é€šé€æ€§ã€‚ç¼“è§£é¼»å¡çš„æ€è·¯ç»å¯¹ä¸æ˜¯æ”¶ç¼©è¡€ç®¡ï¼Œç›¸åï¼Œåº”è¯¥åŠ å¿«å±€éƒ¨è¡€æ¶²å¾ªç¯ï¼Œå¸¦èµ°æ½´ç•™åœ¨ç»„ç»‡ä¸­çš„æ¶²ä½“ï¼Œåƒå¤§ç¦¹æ²»æ°´ä¸€æ ·ï¼Œå µä¸å¦‚ç–ã€‚</p><p>1ã€æŒ‰æ‘©è¿™äº›ç©´ä½</p><p>æ‰è¿é¦™ç©´ã€å±±æ ¹ç©´ã€é£æ± ç©´ã€æ‘©æ“¦é¼»æ¢</p><p>2ã€ä¸­è¯é›¾åŒ–&amp;æ°´è’¸æ±½</p><p>å’Œä¹‹å‰å’³å—½çš„è’¸æ±½æ’ç—°æ³•ä¸€æ ·ï¼Œç”¨æ°´è’¸æ°”ç†è’¸15~20åˆ†é’Ÿï¼Œæ³¨æ„æ¸©åº¦è·ç¦»ï¼Œé¿å…çƒ«ä¼¤ã€‚</p><p>é…åˆä¸­è¯é…æ–¹é›¾åŒ–ï¼Œä¿ƒè¿›åˆ†æ³Œç‰©æ’å‡ºçš„åŒæ—¶ä¿®å¤é»è†œã€æ¶ˆé™¤ç‚ç—‡ã€‚</p><p>3ã€åŠå¯¼ä½“å¼±æ¿€å…‰ç…§å°„é¼»é»è†œ</p><p>é‡‡ç”¨çº¢å…‰æˆ–çº¢å¤–å…‰ç…§å°„é¼»è…”é»è†œï¼Œå¯ä»¥ä¿ƒè¿›é¼»é»è†œå±€éƒ¨è¡€æ¶²å¾ªç¯ï¼Œæ”¹å–„é»è†œæ°´è‚¿ç¼“è§£é¼»å¡ã€‚</p><p>è¿™ç§æ¿€å…‰ç…§å°„çŸ¥è¯†ä¸€ç§ç¼“è§£é¼»å¡ç—‡çŠ¶çš„è¾…åŠ©æ²»ç–—æ‰‹æ®µï¼Œå’Œç›æ°´æ´—é¼»çš„ä½œç”¨ç±»ä¼¼ï¼ŒçœŸæ­£è§£å†³é¼»å¡ï¼Œè¿˜æ˜¯éœ€è¦ä¿®é¼»è…”é»è†œã€æ¶ˆé™¤ç‚ç—‡ã€‚</p><p>4ã€ç›æ°´æ´—é¼»</p><p>ç›æ°´æ´—é¼»æ˜¯éœ€è¦ç”¨è¯åº—çš„ç”Ÿç†ç›æ°´ï¼Œä¸æ˜¯åœ¨å®¶ç”¨é£Ÿç›å’Œæ°´å…‘æˆç”Ÿç†ç›æ°´ã€‚å¹¶ä¸”ç›æ°´å†²æ´—é¼»è…”éœ€è¦ä¸€å®šæ°´å‹å’Œæ°´é‡ï¼Œè¦æ ¼å¤–æ³¨æ„ï¼Œå› ä¸ºæœ‰å¯èƒ½æŠŠç‚æ€§ç‰©è´¨å†²è¿›æ›´æ·±åœ°æ–¹ï¼Œå¼•å‘å…¶ä»–éƒ¨ä½æ„ŸæŸ“å‘ç‚ã€‚</p><p>äººä½“æœ‰è‡ªå·±çš„é»æ¶²çº¤æ¯›æ¸…é™¤è¿åŠ¨ï¼Œæ‰€ä»¥è¦è§£å†³é¼»å¡ï¼Œè¿˜æ˜¯éœ€è¦ä¿®å¤é»è†œï¼Œè®©çº¤æ¯›æ¢å¤æ­£å¸¸æ‘†åŠ¨ï¼ŒåŠ å¿«è¿é€åƒåœ¾ï¼Œæ¶ˆé™¤ç‚ç—‡åˆºæ¿€ã€‚</p><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">è½¬è½½è‡ªhttps://www.zhihu.com/question/366308089/answer/1329668016</summary>
    
    
    
    <category term="æ‹¾ææ‚è°ˆ" scheme="http://example.com/categories/%E6%8B%BE%E6%9E%9D%E6%9D%82%E8%B0%88/"/>
    
    
    <category term="çŸ¥ä¹è½¬è½½" scheme="http://example.com/tags/%E7%9F%A5%E4%B9%8E%E8%BD%AC%E8%BD%BD/"/>
    
  </entry>
  
  <entry>
    <title>ã€ä½œå“é›†ã€‘å²æœˆæ‹¾ç </title>
    <link href="http://example.com/2022/09/07/%E3%80%90Artist%E3%80%91%E4%BD%9C%E5%93%81%E9%9B%86/"/>
    <id>http://example.com/2022/09/07/%E3%80%90Artist%E3%80%91%E4%BD%9C%E5%93%81%E9%9B%86/</id>
    <published>2022-09-07T10:36:57.526Z</published>
    <updated>2022-10-06T17:44:07.930Z</updated>
    
    <content type="html"><![CDATA[<h1>å²æŸ“ã®è®¾è®¡é›†</h1><hr><p>éšç¼˜æ›´æ–°å“¦ï¼Œä¸»è¦æ˜¯è®°å½•22å¹´9æœˆ-25å¹´6æœˆçš„è®¾è®¡ä½œå“å•¦ï¼Œçœ‹ä¸ªä¹å‘µå§ï¼</p><hr><p><strong>Name</strong> ç§‘æ™®å¾æ–‡å¤§èµ›æµ·æŠ¥</p><p><strong>Time</strong>  2022å¹´9æœˆ1æ—¥</p><img src="/2022/09/07/%E3%80%90Artist%E3%80%91%E4%BD%9C%E5%93%81%E9%9B%86/image-20220908164603107.png" alt="image-20220908164603107" style="zoom:50%;"><hr><p><strong>Name</strong> æ–°ç”Ÿæ¯ç¯®çƒèµ›</p><p><strong>Time</strong>  2022å¹´9æœˆ6æ—¥</p><img src="/2022/09/07/%E3%80%90Artist%E3%80%91%E4%BD%9C%E5%93%81%E9%9B%86/image-20220908164902050.png" alt="image-20220908164902050" style="zoom:50%;"><hr><p><strong>Name</strong> å²æŸ“</p><p><strong>Time</strong> 2022å¹´9æœˆ19æ—¥</p><img src="/2022/09/07/%E3%80%90Artist%E3%80%91%E4%BD%9C%E5%93%81%E9%9B%86/QQæˆªå›¾20220919163717.png" alt="QQæˆªå›¾20220919163717" style="zoom:50%;"><hr><p><strong>Name</strong> ç™¾å·ç¯æ²§æµ· èµ„æ­¤èµ´ç‰å°</p><p><strong>Time</strong> 2022å¹´9æœˆ19æ—¥</p><img src="/2022/09/07/%E3%80%90Artist%E3%80%91%E4%BD%9C%E5%93%81%E9%9B%86/QQæˆªå›¾20220919210508.png" alt="QQæˆªå›¾20220919210508" style="zoom:50%;"><hr><p><strong>Name</strong> æ˜Ÿç«èšé›æ – æµ“æƒ…æŸ“ç§‹æ€</p><p><strong>Time</strong> 2022å¹´9æœˆ19æ—¥</p><img src="/2022/09/07/%E3%80%90Artist%E3%80%91%E4%BD%9C%E5%93%81%E9%9B%86/image-20220919230445191.png" alt="image-20220919230445191" style="zoom:50%;"><hr><h2 id="ç¬¬ä¸€ç‰ˆ">ç¬¬ä¸€ç‰ˆ</h2><hr><p><strong>è®¾è®¡æ€è·¯ğŸ·ï¸</strong></p><ul><li>ä»åœ°çƒå…ƒç´ å‡ºå‘ï¼Œå¯»æ‰¾æ¯”è¾ƒåˆ‡åˆç¯ä¿çš„ä¸»é¢˜</li><li>é€‰æ‹©äº†å¶å­ã€æ°´æ»´ã€æ˜Ÿç¯(æµ·æ´‹)ä½œä¸ºç¯ä¿å…ƒç´ </li></ul><p><strong>å…ƒç´ è®¾è®¡ğŸ’ </strong></p><ul><li><strong>zh</strong> æŠ½è±¡å­—  è¿™æ˜¯çƒå¤–é¢é‚£ä¸ªç¯ æ˜¯ä¸€ä¸ª<code>zh</code>çš„å…ƒç´ </li><li><strong>è´å£³</strong> è¿™ä¸ªæ˜¯çƒçš„ä¸€éƒ¨åˆ†ï¼Œé®æŒ¡å‰©ä¸‹çš„åˆšå¥½æ˜¯ä¸ªè´å£³ä¸Šä¸‹å£</li><li><strong>æ˜Ÿç¯</strong> ä¸»è¦èµ·åˆ°ç¾è§‚ä½œç”¨ ä¹Ÿè±¡å¾ç€æµ·æ´‹ã€‚å››ä¸ªç¯æ±‡èšï¼Œæœ‰å¾ªç¯å»¶ä¼¸ä¹‹æ„</li><li><strong>å¶å­</strong>  <code>zh</code>çš„å¤´å’Œå°¾ è±¡å¾ç€ç”Ÿæ€ä¸ç¯ä¿</li><li><strong>çƒ</strong> è±¡å¾ç€åœ°çƒ æˆ‘ä»¬æ‰æ ¹åœ°çƒï¼ŒæœåŠ¡åœ°çƒ</li></ul><img src="/2022/09/07/%E3%80%90Artist%E3%80%91%E4%BD%9C%E5%93%81%E9%9B%86/Screenshot_6.png" alt="Screenshot_6" style="zoom:50%;"><hr><p><strong>å±•ç¤ºğŸŒŸ</strong></p><img src="/2022/09/07/%E3%80%90Artist%E3%80%91%E4%BD%9C%E5%93%81%E9%9B%86/Screenshot_1.png" alt="Screenshot_1" style="zoom:50%;"><p><img src="/2022/09/07/%E3%80%90Artist%E3%80%91%E4%BD%9C%E5%93%81%E9%9B%86/Screenshot_4.png" alt="Screenshot_4"></p><img src="/2022/09/07/%E3%80%90Artist%E3%80%91%E4%BD%9C%E5%93%81%E9%9B%86/Screenshot_3.png" alt="Screenshot_3" style="zoom:50%;"><hr><img src="/2022/09/07/%E3%80%90Artist%E3%80%91%E4%BD%9C%E5%93%81%E9%9B%86/image-20220924180835677-1664014116001-1.png" alt="image-20220924180835677" style="zoom:50%;"><img src="/2022/09/07/%E3%80%90Artist%E3%80%91%E4%BD%9C%E5%93%81%E9%9B%86/image-20220924181036512.png" alt="image-20220924181036512" style="zoom:50%;"><img src="/2022/09/07/%E3%80%90Artist%E3%80%91%E4%BD%9C%E5%93%81%E9%9B%86/image-20220924181224783.png" alt="image-20220924181224783" style="zoom:50%;"><img src="/2022/09/07/%E3%80%90Artist%E3%80%91%E4%BD%9C%E5%93%81%E9%9B%86/image-20220924181608936.png" alt="image-20220924181608936" style="zoom:50%;"><img src="/2022/09/07/%E3%80%90Artist%E3%80%91%E4%BD%9C%E5%93%81%E9%9B%86/image-20220924181729244.png" alt="image-20220924181729244" style="zoom:50%;"><img src="/2022/09/07/%E3%80%90Artist%E3%80%91%E4%BD%9C%E5%93%81%E9%9B%86/image-20220924182018333.png" alt="image-20220924182018333" style="zoom:50%;"><hr><img src="/2022/09/07/%E3%80%90Artist%E3%80%91%E4%BD%9C%E5%93%81%E9%9B%86/Screenshot_3.jpg" alt="Screenshot_3" style="zoom:50%;"><img src="/2022/09/07/%E3%80%90Artist%E3%80%91%E4%BD%9C%E5%93%81%E9%9B%86/Screenshot_1.jpg" alt="Screenshot_1" style="zoom:50%;"><img src="/2022/09/07/%E3%80%90Artist%E3%80%91%E4%BD%9C%E5%93%81%E9%9B%86/Screenshot_2.jpg" alt="Screenshot_2" style="zoom:50%;"><p><img src="/2022/09/07/%E3%80%90Artist%E3%80%91%E4%BD%9C%E5%93%81%E9%9B%86/%E7%8E%AF%E4%BF%9D_%E5%A4%A9%E7%84%B6%E6%B0%94logo1.png" alt="ç¯ä¿_å¤©ç„¶æ°”logo"></p><hr><p><strong>Name</strong> NEXUS LOGO</p><p><strong>Time</strong> 2022å¹´10æœˆ7æ—¥</p><img src="/2022/09/07/%E3%80%90Artist%E3%80%91%E4%BD%9C%E5%93%81%E9%9B%86/image-20221007002536420.png" alt="image-20221007002536420" style="zoom: 33%;"><img src="/2022/09/07/%E3%80%90Artist%E3%80%91%E4%BD%9C%E5%93%81%E9%9B%86/image-20221007002550914.png" alt="image-20221007002550914" style="zoom:50%;"><img src="/2022/09/07/%E3%80%90Artist%E3%80%91%E4%BD%9C%E5%93%81%E9%9B%86/image-20221007002619778.png" alt="image-20221007002619778" style="zoom:50%;"><img src="/2022/09/07/%E3%80%90Artist%E3%80%91%E4%BD%9C%E5%93%81%E9%9B%86/Screenshot_7.jpg" alt="Screenshot_7" style="zoom: 33%;"><img src="/2022/09/07/%E3%80%90Artist%E3%80%91%E4%BD%9C%E5%93%81%E9%9B%86/Screenshot_6.jpg" alt="Screenshot_6" style="zoom:33%;"><img src="/2022/09/07/%E3%80%90Artist%E3%80%91%E4%BD%9C%E5%93%81%E9%9B%86/Screenshot_5.jpg" alt="Screenshot_5" style="zoom:33%;"><img src="/2022/09/07/%E3%80%90Artist%E3%80%91%E4%BD%9C%E5%93%81%E9%9B%86/Screenshot_3-1665078231699-3.jpg" alt="Screenshot_3" style="zoom:33%;"><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
    
    
    <summary type="html">ä½œå“é›†</summary>
    
    
    
    <category term="æ¢¦æ—¶é£æœˆ" scheme="http://example.com/categories/%E6%A2%A6%E6%97%B6%E9%A3%8E%E6%9C%88/"/>
    
    
    <category term="å¹³é¢è®¾è®¡" scheme="http://example.com/tags/%E5%B9%B3%E9%9D%A2%E8%AE%BE%E8%AE%A1/"/>
    
  </entry>
  
</feed>
